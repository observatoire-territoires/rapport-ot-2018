{"version":3,"sources":["nav.js","main.js","01-svg.js","02-svg.js","03-svg.js","04-svg.js","05-svg.js","06-svg.js","07-svg.js","08-svg.js","10-svg.js","11-svg.js"],"names":["console","log","document","readyState","navBulletMenu","querySelectorAll","niv1HIntro2Button","querySelector","sectionNavBullet","alternativeColorBullet","sectionIsInViewport","elem","bounding","getBoundingClientRect","top","bottom","i","length","classList","add","remove","addEventListener","window","location","intersectionCallback","entries","forEach","entry","Array","from","el","target","boundingClientRect","style","backgroundColor","navBulletMenuCopy","splice","navScrollColor","thresholdList","thresholds","ratio","push","observerOptions","root","rootMargin","threshold","io_nav","IntersectionObserver","observe","notesStep","notesBoxRef","noteIsInViewport","left","right","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","cHelpButton","helpButton","helpBody","displayToggle","showHelpButton","display","borderWidth","background","hideHelpButton","deplaceElementSmallDevice","largeMedia","matchMedia","matches","firstVisit","onreadystatechange","alertLargeDevice","alertSmallDevice","body","selectionGlobal","selectionHtml","match","hideAlertLargeDevice","hideAlertSmallDevice","onkeydown","e","event","keyCode","d","sessionStorage","getItem","setItem","showAlertLargeDevice","showAlertSmallDevice","overflow","opacity","pointerEvents","userSelect","graph1","margin","width","height","svg","d3","select","append","attr","g","formatDefaultLocale","decimal","thousands","grouping","fillColor","scaleOrdinal","domain","range","csv","then","data","simulation","forceSimulation","force","forceX","strength","x","typeMobilityCenters","type_mob","forceY","y","forceCollide","forceManyBody","mob_com","mob_dep","mob_reg","mob_france","mob_all","immob","circles","selectAll","exit","enter","merge","nodes","on","text","graph2","format","meme_com","change_com","change_dep","change_reg","change_int","keys","columns","slice","xScale","scaleLinear","rangeRound","yScale","scaleBand","map","periode","paddingInner","align","zScale","xAxis","axisBottom","tickFormat","yAxis","axisLeft","tickSizeOuter","stack","concat","call","key","bandwidth","popup","transition","duration","pageX","pageY","html","legendText","legend","getComputedStyle","inputValues","input03","output03","output03Bullet","graph03","Promise","all","json","featureCollection6875","topojson","feature","objects","rw_19681975","featureCollection7582","rw_19751982","featureCollection8290","rw_19821990","featureCollection9099","rw_19901999","featureCollection9909","rw_19992009","featureCollection0914","rw_20092014","projection","geoConicConformal","fitSize","path","geoPath","colors","addExtra","render_raster","label","join","properties","classe","zoom","transform","scaleExtent","translateExtent","oninput","deplaceOutputBullet","bulletPosition","value","max","features","breakSection","scrollama","setup","container","graphic","step","debug","offset","onStepEnter","response","index","svgLegend","onStepExit","innerHTML","this","inputValues2","input04","output04","output04Bullet","deplaceOutputBullet2","graph4","helpButton4","selectionTitle","formatPop","format2","pop_sm_68_75","pop_sm_75_82","pop_sm_82_90","pop_sm_90_99","pop_sm_99_09","pop_sm_09_14","tx_sm_68_75","tx_sm_75_82","tx_sm_82_90","tx_sm_90_99","tx_sm_99_09","tx_sm_09_14","min","popKey","popMax","nice","updateData","tx_data","pop_data","radius","Math","sqrt","stop","tick","newCircles","codgeo","libgeo","circleLegend","scrollGraph4","graph5","helpButton5","scroller2","featureCollection","dep_gen_wgs84","featureCollectionReg","dep_reg_gen_wgs84","csvId","coddep","j","tx_19992009","tx_20092014","quali","dep","datum","libdep","graphScroll","graph6","extent","year","ticks","line","curve","curveMonotoneX","line2","line3","line4","line5","line6","line7","line8","line9","color","lines","setAttribute","inputValues3","input07","output07","output07Bullet","deplaceOutputBullet3","graph7","xKeys","yKeys","colorKey","xMax","xMin","yMax","yMin","colorMin","colorMax","colorsFill","colorsStroke","legendColor","tx_pop_data","tx_sn_data","tx_sm_data","graph8","object08","widthO","svgO","getSVGDocument","flowAll","svg08ChangeOpacity","classed","button","legendAllFlow","allFlow","legendByFlow","byFlow","id","graph10","epci_gen","epci_reg_gen","codepci","clust","cat","epci","addLegend","libepci","changeLabel","scroller","break10","graph11","cat_cs3","cat_cs6","cat_cs7","cat_cs8","lib_cs3","lib_cs6","lib_cs7","lib_cs8","textContent","showPopupCsp","lib_cs","break11","graph1Min","position","myData","ticked","propMobilityCenters","0","1","alpha","restart","filter","graph2Min","inputValuesMin","input03Min","output03Min","output03BulletMin","graph3Min","deplaceOutputBulletMin","inputValues2Min","input04Min","output04Min","output04BulletMin","deplaceOutputBullet2Min","graph4Min","graph5Min","graph6Min","inputValues3Min","input07Min","output07Min","output07BulletMin","deplaceOutputBullet3Min","graph7Min","graph8Min","graph10Min","graph11Min"],"mappings":"aAAAA,QAAQC,IAAI,sBAAwBC,SAASC,YAE7C,IAAIC,cAAgBF,SAASG,iBAAiB,oBAC1CC,kBAAoBJ,SAASK,cAAc,0BAC3CC,iBAAmBN,SAASG,iBAAiB,uBA6DjD,SAASI,yBAaR,IAXA,IAAIL,EAAgBF,SAASG,iBAAiB,oBAE1CK,EAAsB,SAASC,GAClC,IAAIC,EAAWD,EAAKE,wBACpB,OACCD,EAASE,KAAO,IACG,IAAnBF,EAASG,QAKFC,EAAE,EAAEA,EAAER,iBAAiBS,OAAOD,IAClCN,EAAoBF,iBAAiBQ,IAExCZ,EAAcY,GAAGE,UAAUC,IAAI,2BAG/Bf,EAAcY,GAAGE,UAAUE,OAAO,2BAIpClB,SAASmB,iBAAiB,SAAS,WAClC,IAAK,IAAIL,EAAE,EAAEA,EAAER,iBAAiBS,OAAOD,IAClCN,EAAoBF,iBAAiBQ,IAExCZ,EAAcY,GAAGE,UAAUC,IAAI,2BAG/Bf,EAAcY,GAAGE,UAAUE,OAAO,6BAvCtCd,kBAAkBe,iBAAiB,QAAQ,WAC1CC,OAAOC,SAAW,sDAgDnB,IAAIC,qBAAuB,SAASC,GAEnCA,EAAQC,QAAQ,SAACC,GAahBC,MAAMC,KAAKrB,kBAAkBkB,QAAQ,SAACI,EAAGd,GACpCc,GAAIH,EAAMI,QAbf,SAAwBf,GACvB,GAAIW,EAAMK,mBAAmBlB,KAAK,KAAwC,IAAlCa,EAAMK,mBAAmBjB,OAAY,CAC5EX,cAAcY,GAAGiB,MAAMC,gBAAkB,UACzC,IAAIC,EAAoBP,MAAMC,KAAKzB,eACnC+B,EAAkBC,OAAOpB,EAAE,GAE3BmB,EAAkBT,QAAQ,SAACI,GAC1BA,EAAGG,MAAMC,gBAAkB,UAO5BG,CAAerB,QAMnB,SAASsB,gBAIR,IAHA,IAAIC,EAAa,GAGRvB,EAAE,EAAEA,GAFI,KAEQA,IAAI,CAC5B,IAAIwB,EAAQxB,EAHI,KAIhBuB,EAAWE,KAAKD,GAIjB,OADAD,EAAWE,KAAK,GACTF,EAIR,IAAIG,gBAAkB,CACrBC,KAAM,KACNC,WAAY,MACZC,UAAWP,iBASZ,GAAG,yBAA0BhB,OAAQ,CAEpC,IAAIwB,OAAS,IAAIC,qBAAqBvB,qBAAsBkB,iBAE5Dd,MAAMC,KAAKrB,kBAAkBkB,QAAQ,SAACI,GACrCgB,OAAOE,QAAQlB,UAIhBrB,yBCnKDT,QAAQC,IAAI,sBAAwBC,SAASC,YAO7C,IAAI8C,UAAY/C,SAASG,iBAAiB,eACtC6C,YAAchD,SAASG,iBAAiB,kBAGxC8C,iBAAmB,SAASxC,GAC/B,IAAIC,EAAWD,EAAKE,wBACpB,OACiB,GAAhBD,EAASE,KACQ,GAAjBF,EAASwC,MACTxC,EAASyC,QAAU/B,OAAOgC,YAAcpD,SAASqD,gBAAgBC,cACjE5C,EAASG,SAAWO,OAAOmC,aAAgBvD,SAASqD,gBAAgBG,eAUtExD,SAASmB,iBAAiB,SAAS,WAClC,IAAK,IAAIL,EAAE,EAAEA,EAAEiC,UAAUhC,OAAOD,IAC3BmC,iBAAiBF,UAAUjC,IAE9BkC,YAAYlC,GAAGE,UAAUC,IAAI,yBAG7B+B,YAAYlC,GAAGE,UAAUE,OAAO,2BAOnC,IAAMuC,YAAczD,SAASG,iBAAiB,kBACxCuD,WAAa1D,SAASG,iBAAiB,gBACvCwD,SAAW3D,SAASG,iBAAiB,cAEvCyD,cAAgB,EAGpB,SAASC,eAAe/C,GACvB6C,SAAS7C,GAAGiB,MAAM+B,QAAU,QAC5BL,YAAY3C,GAAGiB,MAAMgC,YAAc,MACnCN,YAAY3C,GAAGiB,MAAMiC,WAAa,WAGnC,SAASC,eAAenD,GACvB6C,SAAS7C,GAAGiB,MAAM+B,QAAU,OAC5BL,YAAY3C,GAAGiB,MAAMgC,YAAc,MACnCN,YAAY3C,GAAGiB,MAAMiC,WAAa,OAiCnC,SAASE,4BAGR,IACMC,EAAa/C,OAAOgD,WADP,uBAC8BC,QASjC,GAAZF,GAGHG,WAAWH,GAII,GAAZA,IAKHG,WAAWH,GAEXrE,QAAQC,IAAI,gBAzDd2B,MAAMC,KAAK+B,YAAYlC,QAAQ,SAACI,EAAGd,GAClCc,EAAGT,iBAAiB,QAAQ,aAC3ByC,cAEoB,GAAI,EACvBC,eAAe/C,GAEfmD,eAAenD,OA2DlBM,OAAOD,iBAAiB,SAAS,WAChC+C,8BAKDlE,SAASuE,mBAAqB,WACF,YAAvBvE,SAASC,YACZiE,6BAaF,IAAMM,iBAAmBxE,SAASK,cAAc,uBAC1CoE,iBAAmBzE,SAASK,cAAc,uBAC1CqE,KAAO1E,SAASK,cAAc,QAC9BsE,gBAAkB3E,SAASK,cAAc,WACzCuE,cAAgB5E,SAASK,cAAc,QAI7C,SAASiE,WAAWO,GAInBnD,MAAMC,KAAK3B,SAASG,iBAAiB,kBAAkBqB,QAAQ,SAACI,EAAGd,GAClEc,EAAGT,iBAAiB,QAAQ,WACtB,GAALL,EAASgE,uBAAyBC,2BAKpC/E,SAASgF,UAAY,SAAUC,GAEb,KADjBA,EAAIA,GAAK7D,OAAO8D,OACVC,SAA8B,IAAbF,EAAEE,SAA8B,GAAbF,EAAEE,UAC3CN,EAAQC,uBAAwBC,uBAGhCrD,MAAMC,KAAK+B,YAAYlC,QAAQ,SAAC4D,EAAEtE,GACjCmD,eAAenD,OAKdM,OAAOiE,eAAeC,QAAQ,oBAEjCxF,QAAQC,IAAI,mCACZ8E,EAAQC,uBAAwBC,yBAKhC3D,OAAOiE,eAAeE,QAAQ,kBAAkB,QAChDzF,QAAQC,IAAI,4BACZ8E,EAAQW,uBAAyBC,wBAKnC,SAASD,uBACRhB,iBAAiBzC,MAAM+B,QAAU,OACjCY,KAAK3C,MAAM2D,SAAW,SACtBd,cAAc7C,MAAM2D,SAAW,SAC/Bf,gBAAgB5C,MAAM4D,QAAU,GAChChB,gBAAgB5C,MAAM6D,cAAgB,OACtCjB,gBAAgB5C,MAAM8D,WAAa,OAGpC,SAASf,uBACRN,iBAAiBzC,MAAM+B,QAAU,OACjCY,KAAK3C,MAAM2D,SAAW,UACtBd,cAAc7C,MAAM2D,SAAW,UAC/Bf,gBAAgB5C,MAAM4D,QAAU,EAChChB,gBAAgB5C,MAAM6D,cAAgB,UACtCjB,gBAAgB5C,MAAM8D,WAAa,UAGpC,SAASJ,uBACRhB,iBAAiB1C,MAAM+B,QAAU,OACjCY,KAAK3C,MAAM2D,SAAW,SACtBd,cAAc7C,MAAM2D,SAAW,SAC/Bf,gBAAgB5C,MAAM4D,QAAU,GAChChB,gBAAgB5C,MAAM6D,cAAgB,OACtCjB,gBAAgB5C,MAAM8D,WAAa,OAGpC,SAASd,uBACRN,iBAAiB1C,MAAM+B,QAAU,OACjCY,KAAK3C,MAAM2D,SAAW,UACtBd,cAAc7C,MAAM2D,SAAW,UAC/Bf,gBAAgB5C,MAAM4D,QAAU,EAChChB,gBAAgB5C,MAAM6D,cAAgB,UACtCjB,gBAAgB5C,MAAM8D,WAAa,UChOpC,SAASC,SAIR,IAAIC,EAAc,GACdC,EAAQhG,SAASK,cAAc,WAAWiD,YACxC2C,EAAS,IAOXC,EAAMC,GAAGC,OAAO,aAClBC,OAAO,OACPC,KAAK,SAAUL,GACfK,KAAK,QAASN,GAGZO,EAAIL,EAAIG,OAAO,KACjBC,KAAK,YAAa,aAAeN,EAAM,EAAK,SAI9CG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAWd,IAAIC,EAAYT,GAAGU,eACjBC,OAAO,CAAC,QAAS,UAAW,UAAW,UAAW,aAAc,YAChEC,MAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,YAIhEZ,GAAGa,IAAI,2BAA2BC,KAAK,SAASC,GAE/C,IAAIC,EAAahB,GAAGiB,kBAClBC,MAAM,IAAKlB,GAAGmB,SAASC,SAAS,KAAMC,EAsBxC,SAA8BpC,GAC7B,OAAOqC,EAAoBrC,EAAEsC,UAAUF,KAtBtCH,MAAM,IAAKlB,GAAGwB,SAASJ,SAAS,KAAMK,EAiBxC,SAA6BxC,GAC5B,OAAOqC,EAAoBrC,EAAEsC,UAAUE,KAjBtCP,MAAM,UAAWlB,GAAG0B,aAAa,IACjCR,MAAM,SAAUlB,GAAG2B,gBAAgBP,UAAU,IAM3CE,EAAsB,CACzBM,QAAU,CAACP,EAAIxB,EAAM,EAAG4B,GAAE,KAC1BI,QAAU,CAACR,EAAIxB,EAAM,EAAG4B,GAAG,KAC3BK,QAAU,CAACT,EAAIxB,EAAM,EAAG4B,EAAG,GAC3BM,WAAa,CAACV,EAAGxB,EAAM,EAAG4B,EAAI3B,KAC9BkC,QAAU,CAACX,EAAGxB,EAAM,EAAG4B,EAAG,KAC1BQ,MAAQ,CAACZ,GAAIxB,EAAM,EAAG4B,EAAG,IAa1B,IAAIS,EAAU9B,EAAEF,OAAO,KACrBiC,UAAU,YAIZD,EAAUA,EAAQnB,KAAKA,IAEfqB,OAAOrH,SAEfmH,EAAUA,EACRG,QAAQnC,OAAO,UACfC,KAAK,QAAS,UACdA,KAAK,IAAI,GACTA,KAAK,OAAQ,SAAClB,GAAK,OAAOwB,EAAUxB,EAAEsC,YACtCe,MAAMJ,GAIRlB,EAAWuB,MAAMxB,GACfyB,GAAG,OAaL,WACCN,EACE/B,KAAK,KAAO,SAAClB,GAAK,OAAOA,EAAEoC,IAC3BlB,KAAK,KAAO,SAAClB,GAAK,OAAOA,EAAEwC,MAO7B1B,EACEG,OAAO,QACPC,KAAK,QAAQ,sBACbA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAK,sBAGP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAK,IACVA,KAAK,KAAK,GACVA,KAAK,KAAK,KACVA,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAK,IACVA,KAAK,KAAK,IACVA,KAAK,KAAK,KACVA,KAAK,KAAK,IACVA,KAAK,SAAU,QAMlBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAKL,IAASF,GACnBO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,sBAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAKL,IAASF,EAAW,IAC9BO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,gCAIP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAKL,IAASF,GACnBO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,mBAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAKL,IAASF,EAAW,IAC9BO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,wBAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAK,IAAWP,GACrBO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,+BAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAK,IAAWP,EAAW,IAChCO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,+BAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAK,IAAWP,GACrBO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,mCAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAK,IAAWP,EAAW,IAChCO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,6BAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAK,IAAWP,GACrBO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,oBAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAK,IAAWP,EAAW,IAChCO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,aAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAK,IAAWP,GACrBO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,sBAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAI,EAAEN,EAAM,GACjBM,KAAK,IAAK,IAAWP,EAAW,IAChCO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,mBClQT,SAASC,SAKR,IAAI9C,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,IAEjDC,EAAQhG,SAASK,cAAc,WAAWiD,YAI1C4C,EAAMC,GAAGC,OAAO,aAClBC,OAAO,OACPC,KAAK,SALM,KAMXA,KAAK,QAASN,GACdM,KAAK,UAAW,OAASN,EAAQ,QAInCG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAGd,IAAImC,EAAS3C,GAAG2C,OAAO,OAEvB3C,GAAGa,IAAI,wBAAwBC,KAAK,SAAUC,GAI7CA,EAAK1F,QAAQ,SAAC4D,GACbA,EAAE2D,UAAY3D,EAAE2D,SAChB3D,EAAE4D,YAAc5D,EAAE4D,WAClB5D,EAAE6D,YAAc7D,EAAE6D,WAClB7D,EAAE8D,YAAc9D,EAAE8D,WAClB9D,EAAE+D,YAAc/D,EAAE+D,aAInB,IAAIC,EAAOlC,EAAKmC,QAAQC,MAAM,EAAG,GAI3BC,EAASpD,GAAGqD,cAChB1C,OAAO,CAAC,EAAG,KACX2C,WAAW,CAAC1D,EAAaC,EAAQD,IAG7B2D,EAASvD,GAAGwD,YAChB7C,OAAOI,EAAK0C,IAAI,SAACxE,GAAQ,OAAOA,EAAEyE,WAClCJ,WAAW,CAAC1D,EA3CF,IA2CuBA,IACjC+D,aAAa,IACbC,MAAM,IAGFC,EAAS7D,GAAGU,eAChBC,OAAOsC,GACPrC,MAAM,CAAC,UAAW,UAAW,UAAW,UAAW,YAG/CkD,EAAQ9D,GAAG+D,WAAWX,GAC1BY,WAAW,SAAC/E,GAAQ,OAAOA,EAAI,OAC3BgF,EAAQjE,GAAGkE,SAASX,GACxBY,cAAc,GAGVC,EAAQpE,GAAGoE,QAIjBrE,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,eAAAkE,OA/DY,IAkEgCzE,EAH5C,MAIE0E,KAAKR,GAEP/D,EAAIE,OAAO,WACTkC,UAAU,QACVhC,KAAK,IAAK,IAEZJ,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,aAAAkE,OAGiCzE,EAHjC,QAIE0E,KAAKL,GACLhE,OAAO,WAAWlF,SAINgF,EACZoC,UAAU,UACVpB,KAAKqD,EAAMnB,KAAKA,EAAXmB,CAAiBrD,IACtBsB,QAAQnC,OAAO,KACfC,KAAK,QAAS,SACdA,KAAK,OAAS,SAAClB,GAAQ,OAAO4E,EAAO5E,EAAEsF,OAGvCpC,UAAU,QACVpB,KAAK,SAAC9B,GAAQ,OAAOA,IACrBoD,QACAnC,OAAO,QACPC,KAAK,IAAM,SAAClB,GAAQ,OAAOmE,EAAOnE,EAAE,MACpCkB,KAAK,IAAM,SAAClB,GAAQ,OAAOsE,EAAOtE,EAAE8B,KAAK2C,WACzCvD,KAAK,QAAU,SAAClB,GAAQ,OAAOmE,EAAOnE,EAAE,IAAMmE,EAAOnE,EAAE,MACvDkB,KAAK,SAAUoD,EAAOiB,aAIxBzE,EACEG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,YACL,cAAgBN,EAAQD,GAAgB,MAzG9B,IAyG+CA,EAAgB,GAAK,KAC9EhE,MAAM,cAAe,OACrBuE,KAAK,OAAQ,WACbsC,KAAK,6CAIP,IAAIgC,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAMhBH,GAAGmC,UAAU,QACXK,GAAG,YAAa,SAAUvD,GAC1BwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,IAAM,MACpCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,6FAAAT,OAG4D1B,EAAO1D,EAAE8B,KAAK6B,UAH1E,4GAAAyB,OAK+D1B,EAAO1D,EAAE8B,KAAK8B,YAL7E,2GAAAwB,OAO8D1B,EAAO1D,EAAE8B,KAAK+B,YAP5E,4FAAAuB,OAS+C1B,EAAO1D,EAAE8B,KAAKgC,YAT7D,6FAAAsB,OAWgD1B,EAAO1D,EAAE8B,KAAKiC,YAX9D,mDAiBAR,GAAG,WAAY,SAAUvD,GACzBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,KAOrB,IAAMmJ,EAAa,CAAC,8CAA+C,iDAAkD,gDAAiD,iCAAkC,6BASpMC,EAPYhF,GAAGC,OAAO,oBACxBC,OAAO,OACPC,KAAK,QAASN,GACdM,KAAK,SAAU,KAIMgC,UAAU,WAC/BpB,KAAK8C,EAAOjD,SACZyB,QACAnC,OAAO,KACPC,KAAK,QAAS,UAKhB6E,EACE9E,OAAO,QACPC,KAAK,IAAK,GAAKP,GACfO,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAW,GAAJA,EAAO,IAEdwF,KAAK,QAAS,IACdA,KAAK,SAAU,IACfvE,MAAM,SAAU,SAChBA,MAAM,eAAgB,IACtBA,MAAM,OAAQ,SAAUqD,GAAK,OAAOA,IAEtC+F,EACE9E,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAK,GAAKP,GACfO,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAO,GAAS,GAAJA,IAEZwF,KAAK,KAAM,SACXsC,KAAK,SAAUxD,EAAGtE,GAClB,OAAOoK,EAAWpK,ODsEtBM,OAAOD,iBAAiB,OAAQ,WAC0C,QAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7DgC,WCrDF1E,OAAOD,iBAAiB,OAAQ,WAC0C,QAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7D+E,WCjOF,IAAIwC,YAAc,CAAC,YAAa,YAAa,YAAa,YAAa,YAAa,aAEhFC,QAAUtL,SAASK,cAAc,aACjCkL,SAAWvL,SAASK,cAAc,gBAElCmL,eAAiBxL,SAASK,cAAc,qBAQ5C,SAASoL,UAIR,IAAI1F,EAAc,GAAdA,EAA6C,GAE7CC,EAAQhG,SAASK,cAAc,WAAWiD,YAK1C4C,EAAMC,GAAGC,OAAO,aAClBC,OAAO,OACPC,KAAK,SANM,KAOXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAMd+E,QAAQC,IAAI,CACXxF,GAAGyF,KAAK,6BACRzF,GAAGyF,KAAK,6BACRzF,GAAGyF,KAAK,6BACRzF,GAAGyF,KAAK,6BACRzF,GAAGyF,KAAK,6BACRzF,GAAGyF,KAAK,+BACN3E,KAAK,SAASC,GAIhB,IAAM2E,EAAwBC,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQC,aAClEC,EAAwBJ,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQG,aAClEC,EAAwBN,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQK,aAClEC,EAAwBR,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQO,aAClEC,EAAwBV,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQS,aAClEC,EAAwBZ,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQW,aAGlEC,EAAazG,GAAG0G,oBACpBC,QAAQ,CAAC9G,EAxCC,KAwCa6F,GAEnBkB,EAAO5G,GAAG6G,UACdJ,WAAWA,GAETrG,EAAIL,EAAIG,OAAO,KAGf4G,EAAS9G,GAAGU,eACdC,OAAO,CAAC,SAAS,QAAQ,OAAO,MAAM,MAAM,MAAM,UAClDC,MAAM,CAAC,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,YAGrE,SAASmG,IAERhH,EACEG,OAAO,QACPC,KAAK,QAAQ,sBACbA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAK,WAGP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,GACVA,KAAK,KAAK,KACVA,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,IACVA,KAAK,KAAK,KACVA,KAAK,KAAK,IACVA,KAAK,SAAU,QAMlB,SAAS6G,EAAcjG,EAAMkG,GAI5BlH,EACEG,OAAO,QACPC,KAAK,QAAQ,8BACbA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAKwE,GAIE7G,EACP+B,UAAU,OACVpB,KAAKA,GACLmG,KAAK,QACL/G,KAAK,IAAKyG,GACVzG,KAAK,QAAS,MACdA,KAAK,SAAS,SACdA,KAAK,eAAe,IACpBA,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAWC,UAxBnDL,IA8BAhH,EACEuE,KAAKtE,GAAGqH,OACP7E,GAAG,OAAQ,WACXpC,EAAED,KAAK,YAAaH,GAAGjB,MAAMuI,aAE7BC,YAAY,CAAC,EAAE,IACfC,gBAAgB,CAAC,CAAC,EAAE,GAAG,CAAC3H,EAxHf,QAwMZsF,QAAQsC,UAIR,IAAIC,EAAsB,WACzB,IAAIC,EAAkBxC,QAAQyC,MAAQzC,QAAQ0C,IAC9CxC,eAAezJ,MAAMmB,KAAQ4K,EAAiBxC,QAAQ3K,wBAAwBqF,MAAO,YAAe,MAIrG6H,IAKAvC,QAAQnK,iBAAiB,QAAQ,SAAS8D,GAIzC,OAFA4I,IAEQ5I,EAAEpD,OAAOkM,OACjB,IAAK,IACJ5H,GAAGmC,UAAU,kBAAkBpH,SAC/BiM,EAActB,EAAsBoC,SAAS5C,YAAY,IACzD,MACD,IAAK,IACJlF,GAAGmC,UAAU,kBAAkBpH,SAC/BiM,EAAcjB,EAAsB+B,SAAS5C,YAAY,IACzD,MACD,IAAK,IACJlF,GAAGmC,UAAU,kBAAkBpH,SAC/BiM,EAAcf,EAAsB6B,SAAS5C,YAAY,IACzD,MACD,IAAK,IACJlF,GAAGmC,UAAU,kBAAkBpH,SAC/BiM,EAAcb,EAAsB2B,SAAS5C,YAAY,IACzD,MACD,IAAK,IACJlF,GAAGmC,UAAU,kBAAkBpH,SAC/BiM,EAAcX,EAAsByB,SAAS5C,YAAY,IACzD,MACD,IAAK,IACJlF,GAAGmC,UAAU,kBAAkBpH,SAC/BiM,EAAcT,EAAsBuB,SAAS5C,YAAY,OAO3D,IAAM3H,EAAa1D,SAASK,cAAc,iBACpC6N,EAAelO,SAASG,iBAAiB,mBAG9BgO,YA6BfC,MAAM,CACNC,UAAW,UACXC,QAAS,kBACT1F,KAAM,eACN2F,KAAM,kBACNC,OAAO,EACPC,OAAQ,KAERC,YAnCF,SAAyBC,GACxB,OAAOA,EAASC,OAChB,KAAK,EACJzB,EAAcT,EAAsBuB,SAAS5C,YAAY,IACzD6B,IAnIKhC,EAAa,EAAE,GAAI,EAAG,EAAG,EAAG,EAAG,GAGjC2D,EAAY1I,GAAGC,OAAO,oBACxBC,OAAO,OACPC,KAAK,QAASN,GACdM,KAAK,SAAU,KAEb6E,EAAS0D,EAAUvG,UAAU,WAC/BpB,KAAK+F,EAAOlG,SACZyB,QACAnC,OAAO,KACPC,KAAK,QAAS,WAKdD,OAAO,QACPC,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAQkF,EAAM,EAAE,IAAU,GAAJlF,IAEtBwF,KAAK,IAAK,IACVA,KAAK,QAAS,IACdA,KAAK,SAAU,IACfvE,MAAM,SAAU,SAChBA,MAAM,eAAgB,IACtBA,MAAM,OAAQ,SAAUqD,GAAK,OAAOA,IAGtC+F,EACE9E,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAQkF,EAAM,EAAE,IAAI,GAAU,GAAJlF,IAE1BwF,KAAK,MAAO,GACZA,KAAK,IAAK,IACVA,KAAK,KAAM,SACXA,KAAK,cAAe,UACpBsC,KAAK,SAAUxD,EAAGtE,GAClB,OAAOoK,EAAWpK,KAOpB+N,EACExI,OAAO,QACPC,KAAK,IAAIN,EAAM,GACfM,KAAK,IAAIP,EAAW,EAAE,GACtBO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,kDAEPiG,EACExI,OAAO,QACPC,KAAK,IAAIN,EAAM,GACfM,KAAK,IAAIP,EAAW,EAAE,IACtBO,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,iDAwENlF,EAAW3B,MAAM+B,QAAU,SAC3BoK,EAAa,GAAGnM,MAAM4D,QAAU,IAzIlC,IAGOuF,EAGF2D,EAKA1D,IA2JH2D,WAxBF,SAAwBH,GACvB,OAAOA,EAASC,OAChB,KAAK,EACJzI,GAAGC,OAAO,aAAakC,UAAU,kBAAkBpH,SACnDiF,GAAGC,OAAO,aAAakC,UAAU,OAAOpH,SACxCiF,GAAGC,OAAO,aAAakC,UAAU,UAAUpH,SAC3CiF,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7CwC,EAAW3B,MAAM+B,QAAU,OAC3BoK,EAAa,GAAGnM,MAAM4D,QAAU,WAhSpC2F,QAAQsC,QAAU,WAEjBpC,eAAeuD,UAAY1D,YAAY2D,KAAKjB,QA+T7C3M,OAAOD,iBAAiB,OAAQ,WAC0C,QAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7D2H,YC3UF,IAAIwD,aAAe,CAAC,YAAa,YAAa,YAAa,YAAa,YAAa,aAEjFC,QAAUlP,SAASK,cAAc,aACjC8O,SAAWnP,SAASK,cAAc,gBAElC+O,eAAiBpP,SAASK,cAAc,qBAE5C6O,QAAQtB,QAAU,WAEjBwB,eAAeL,UAAYE,aAAaD,KAAKjB,QAO9CmB,QAAQtB,UAIR,IAAIyB,qBAAuB,WAC1B,IAAIvB,EAAkBoB,QAAQnB,MAAQmB,QAAQlB,IAC9CoB,eAAerN,MAAMmB,KAAQ4K,EAAiBoB,QAAQvO,wBAAwBqF,MAAO,YAAe,MAcrG,SAASsJ,SAgXR,IAAMC,EAAcvP,SAASK,cAAc,iBACrC6N,EAAelO,SAASG,iBAAiB,mBAI9BgO,YA2BfC,MAAM,CACNC,UAAW,UACXC,QAAS,kBACT1F,KAAM,eACN2F,KAAM,kBACNC,OAAO,EACPC,OAAQ,KAERC,YAjCF,SAAyBC,GACxB,IAAMa,EAAiBxP,SAASK,cAAc,6BAC9C,OAAOsO,EAASC,OAChB,KAAK,EACJY,EAAezN,MAAM+B,QAAU,QAxXjC,WAIC,IAAIiC,EAAc,GAAdA,EAAwB,GAAxBA,EAAmC,GAAnCA,EAA6C,GAE7CC,EAAQhG,SAASK,cAAc,WAAWiD,YAI1C4C,EAAMC,GAAGC,OAAO,aAClBC,OAAO,OACPC,KAAK,SALM,KAMXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAGd,IAAImC,EAAS3C,GAAG2C,OAAO,OACnB2G,EAAYtJ,GAAG2C,OAAO,QACtB4G,EAAUvJ,GAAG2C,OAAO,IAMxB3C,GAAGa,IAAI,wBAAwBC,KAAK,SAASC,GAG5CA,EAAK1F,QAAQ,SAAC4D,GACbA,EAAEuK,cAAgBvK,EAAEuK,aACpBvK,EAAEwK,cAAgBxK,EAAEwK,aACpBxK,EAAEyK,cAAgBzK,EAAEyK,aACpBzK,EAAE0K,cAAgB1K,EAAE0K,aACpB1K,EAAE2K,cAAgB3K,EAAE2K,aACpB3K,EAAE4K,cAAgB5K,EAAE4K,aACpB5K,EAAE6K,aAAe7K,EAAE6K,YACnB7K,EAAE8K,aAAe9K,EAAE8K,YACnB9K,EAAE+K,aAAe/K,EAAE+K,YACnB/K,EAAEgL,aAAehL,EAAEgL,YACnBhL,EAAEiL,aAAejL,EAAEiL,YACnBjL,EAAEkL,aAAelL,EAAEkL,cAKpB,IAAIrD,EAAS9G,GAAGU,eACdC,OAAO,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KACrD,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAC9BC,MAAM,CAAC,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAC7E,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,YAI9EqC,EAAOlC,EAAKmC,QAAQC,MAAM,EAAE,IAG5B0E,EAAM7H,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAK,OAAOe,GAAG6H,IAAI5E,EAAK,SAACsB,GAAO,OAAOtF,EAAEsF,OAC7D6F,EAAMpK,GAAGoK,IAAIrJ,EAAM,SAAC9B,GAAK,OAAOe,GAAGoK,IAAInH,EAAK,SAACsB,GAAO,OAAOtF,EAAEsF,OAE7D8F,EAAStJ,EAAKmC,QAAQC,MAAM,EAAE,GAC9BmH,EAAStK,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAM,OAAOe,GAAG6H,IAAIwC,EAAQ,SAAC9F,GAAQ,OAAOtF,EAAEsF,OAInEnB,EAASpD,GAAGqD,cAChB1C,OAAO,CAACyJ,EAAIvC,IACZjH,MAAM,CAAChB,EAAaC,EAAMD,IAC1B2K,OAEIzG,EAAQ9D,GAAG+D,WAAWX,GAC1Be,cAAc,GACdH,WAAW,SAAC/E,GAAM,OAAOsK,EAAQtK,GAAG,OAwFtC,SAASuL,EAAWC,EAASC,EAAUzD,GAEtClH,EACEG,OAAO,QACPC,KAAK,QAAQ,8BACbA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAKwE,GASP,IANA,IAAIjG,EAAahB,GAAGiB,gBAAgBF,GAClCG,MAAM,IAAKlB,GAAGmB,OAAO,SAAClC,GAAM,OAAOmE,EAAOnE,EAAEwL,MAAarJ,SAAS,IAClEF,MAAM,IAAKlB,GAAGwB,OAAO1B,IAAWF,EAAc,IAC9CsB,MAAM,UAAWlB,GAAG0B,eAAeiJ,OAAO,SAAC1L,GAAK,OAAsC,GAA/B2L,KAAKC,KAAK5L,EAAEyL,GAAUJ,MAC7EQ,OAEOnQ,EAAE,EAAGA,EAAEoG,EAAKnG,OAAOD,IAAKqG,EAAW+J,OAE5C,IAAIC,EAAajL,EAAIoC,UAAU,YAC7BpB,KAAKA,EAAO,SAAC9B,GAAM,OAAOA,EAAEgM,SAG9BD,EAAW5I,OACTsC,aACAC,SAAS,KACTxE,KAAK,KAAM,GACXA,KAAK,KAAML,IAAWF,EAAc,GACpC7E,SAGF,IAAIqF,EAAI4K,EACN3I,QACAnC,OAAO,KACPC,KAAK,KAAO,SAAClB,GAAM,MAAO,KAAOA,EAAEgM,SAGrC7K,EAAEF,OAAO,UACPC,KAAK,QAAS,WACdA,KAAK,IAAI,GACTA,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEoC,IAC5BlB,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEwC,IAC5BtB,KAAK,OAAQ,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEgM,UACpC3I,MAAM0I,GACNtG,aACAC,SAAS,MACTxE,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEoC,IAC5BlB,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEwC,IAC5BtB,KAAK,IAAI,SAAClB,GAAK,OAAsC,GAA/B2L,KAAKC,KAAK5L,EAAEyL,GAAUJ,KAS9C,IAAI7F,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAMhBC,EACEoC,GAAG,YAAa,SAASvD,GACzBwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,kCAAAT,OAEiBpF,EAAEiM,OAFnB,gIAAA7G,OAKWiF,EAAUrK,EAAEyL,IALvB,sGAAArG,OAOW1B,EAAO1D,EAAEwL,IAPpB,yDAYAzK,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAGtBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAInBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,KArLxBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,sBACbA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAK,WAGP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,GACVA,KAAK,KAAK,KACVA,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,IACVA,KAAK,KAAK,KACVA,KAAK,KAAK,IACVA,KAAK,SAAU,QAoClBJ,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,eAAAkE,OAxIY,IA2I8BzE,EAH1C,MAIE0E,KAAKR,GAEP/D,EAAIE,OAAO,WACTkC,UAAU,QACVhC,KAAK,IAAK,IAIZJ,EACEG,OAAO,QACPC,KAAK,KAAMiD,EAAO,IAClBjD,KAAK,KAAMiD,EAAO,IAClBjD,KAAK,KAAMP,GACXO,KAAK,KAzJK,IAyJQP,GAClBO,KAAK,SAAU,QACfA,KAAK,eAAe,GA4GtB,IAAIgL,EAAepL,EACjBG,OAAO,KACPC,KAAK,QAAQ,iBAEfgL,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAI,EAAEN,EAAM,EAAE,IACnBM,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAK,iCAGP0I,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,EAAE,IACrBM,KAAK,KAAMP,EAAW,IACtBO,KAAK,IAA8B,GAAzByK,KAAKC,KAAKP,EAAOA,IAE7Ba,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,EAAE,IACrBM,KAAK,KAAMP,EAAW,GAA4B,GAAxBgL,KAAKC,KAAK,KAAMP,GAAY,GACtDnK,KAAK,IAA6B,GAAxByK,KAAKC,KAAK,KAAMP,IAE5Ba,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,EAAE,IACrBM,KAAK,KAAMP,EAAW,GAA4B,GAAxBgL,KAAKC,KAAK,KAAMP,IAC1CnK,KAAK,IAA4B,GAAvByK,KAAKC,KAAK,IAAKP,IAE3Ba,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,EAAE,IACpBM,KAAK,IAAKP,EAAW,EAAE,IACvB6C,KAAK6G,EAAUgB,IAEjBa,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,EAAE,IACpBM,KAAK,IAAKP,EAAW,EAA0B,GAAxBgL,KAAKC,KAAK,KAAMP,GAAW,IAClD7H,KAAK6G,EAAU,MAEjB6B,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,EAAE,IACpBM,KAAK,IAAMP,EAAW,EAAE,EAAEgL,KAAKC,KAAK,KAAMP,GAAQ,GAAG,IACrD7H,KAAK6G,EAAU,MAKjBP,QAAQ/N,iBAAiB,QAAQ,SAAS8D,GAEzC,OADAoK,uBACQpK,EAAEpD,OAAOkM,OACjB,IAAK,IACJ5H,GAAGmC,UAAU,kBAAkBpH,SAC/ByP,EAAW,cAAe,eAAgB1B,aAAa,IACvD,MACD,IAAK,IACJ9I,GAAGmC,UAAU,kBAAkBpH,SAC/ByP,EAAW,cAAe,eAAgB1B,aAAa,IACvD,MACD,IAAK,IACJ9I,GAAGmC,UAAU,kBAAkBpH,SAC/ByP,EAAW,cAAe,eAAgB1B,aAAa,IACvD,MACD,IAAK,IACJ9I,GAAGmC,UAAU,kBAAkBpH,SAC/ByP,EAAW,cAAe,eAAgB1B,aAAa,IACvD,MACD,IAAK,IACJ9I,GAAGmC,UAAU,kBAAkBpH,SAC/ByP,EAAW,cAAe,eAAgB1B,aAAa,IACvD,MACD,IAAK,IACJ9I,GAAGmC,UAAU,kBAAkBpH,SAC/ByP,EAAW,cAAe,eAAgB1B,aAAa,OAOzD0B,EAAW,cAAe,eAAgB1B,aAAa,IACvDI,yBAmBAkC,GACAhC,EAAYxN,MAAM+B,QAAU,SAC5BoK,EAAa,GAAGnM,MAAM4D,QAAU,OA2BhCmJ,WAtBF,SAAwBH,GACvB,IAAMa,EAAiBxP,SAASK,cAAc,6BAC9C,OAAOsO,EAASC,OAChB,KAAK,EACJzI,GAAGC,OAAO,aAAakC,UAAU,KAAKpH,SACtCsO,EAAezN,MAAM+B,QAAU,OAC/ByL,EAAYxN,MAAM+B,QAAU,OAC5BoK,EAAa,GAAGnM,MAAM4D,QAAU,SC/anC,SAAS6L,SAsRR,IAAMC,EAAczR,SAASK,cAAc,iBAIrCqR,EAAYvD,YACZD,EAAelO,SAASG,iBAAiB,mBAI/CuR,EACEtD,MAAM,CACNC,UAAW,UACXC,QAAS,kBACT1F,KAAM,eACN2F,KAAM,kBACNC,OAAO,EACPC,OAAQ,KAERC,YAKF,SAAyBC,GACxB,IAAMa,EAAiBxP,SAASK,cAAc,6BAC9C,OAAOsO,EAASC,OAChB,KAAK,GA9SN,WAGC,IAEI5I,EAAQhG,SAASK,cAAc,WAAWiD,YAK1C4C,EAAMC,GAAGC,OAAO,aAClBC,OAAO,OACPC,KAAK,SANM,KAOXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAGd,IAAImC,EAAS3C,GAAG2C,OAAO,OAOvB4C,QAAQC,IAAI,CACXxF,GAAGyF,KAAK,qBACRzF,GAAGyF,KAAK,yBACRzF,GAAGa,IAAI,0BACLC,KAAK,SAASC,GAOhB,IAJA,IAAMyK,EAAoB7F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQ4F,eAC9DC,EAAuB/F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQ8F,mBAG9DhR,EAAE,EAAGA,EAAGoG,EAAK,GAAGnG,OAAOD,IAE/B,IADA,IAAMiR,EAAQ7K,EAAK,GAAGpG,GAAGkR,OAChBC,EAAE,EAAGA,EAAEN,EAAkB1D,SAASlN,OAAOkR,IAEjD,GAAIF,IADSJ,EAAkB1D,SAASgE,GAAG3E,WAAW0E,OAChC,CACrBL,EAAkB1D,SAASgE,GAAG3E,WAAW4E,YAAchL,EAAK,GAAGpG,GAAGoR,YAClEP,EAAkB1D,SAASgE,GAAG3E,WAAW6E,YAAcjL,EAAK,GAAGpG,GAAGqR,YAClER,EAAkB1D,SAASgE,GAAG3E,WAAW8E,MAAQlL,EAAK,GAAGpG,GAAGsR,MAC5D,MAMH,IAAInF,EAAS9G,GAAGU,eACdC,OAAO,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,QACxDC,MAAM,CAAC,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,YAInF6F,EAAazG,GAAG0G,oBACpBC,QAAQ,CAAC9G,EAxDC,KAwDa2L,GAEnB5E,EAAO5G,GAAG6G,UACdJ,WAAWA,GAGTrG,EAAIL,EAAIG,OAAO,KAIfgM,EAAM9L,EAAEF,OAAO,KACjBC,KAAK,QAAS,SACdgC,UAAU,QACVpB,KAAKyK,EAAkB1D,UACvBZ,KAAK,QACL/G,KAAK,IAAKyG,GACVzG,KAAK,QAAS,OACdA,KAAK,SAAS,SACdA,KAAK,eAAe,IACpBA,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAW8E,SAGrC7L,EAAEF,OAAO,KACpBC,KAAK,QAAQ,SACbD,OAAO,QACPiM,MAAMT,GACNvL,KAAK,IAAKyG,GACVzG,KAAK,QAAS,UAGhBJ,EACEuE,KAAKtE,GAAGqH,OACPE,YAAY,CAAC,EAAE,IACfC,gBAAgB,CAAC,CAAC,EAAE,GAAG,CAAC3H,EAzFf,OA0FT2C,GAAG,OAKN,WACCpC,EAAED,KAAK,YAAaH,GAAGjB,MAAMuI,aAL3B9E,GAAG,QAQN,WACC0J,EACE1J,GAAG,YAAY,QATfA,GAAG,MAaN,WACC0J,EACE1J,GAAG,YAAa,SAASvD,GACzBwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,IAAM,MACpCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,kCAAAT,OAEiBpF,EAAEkI,WAAWiF,OAF9B,6IAAA/H,OAKgC1B,EAAO1D,EAAEkI,WAAW4E,aALpD,qFAAA1H,OAOgC1B,EAAO1D,EAAEkI,WAAW6E,aAPpD,yDAYAhM,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,SAQzB,IAAM4E,EAAa,CAAC,yDACnB,2EACA,0EACA,gEACA,mDACA,oEACA,+DACA,oEACA,mDAED/E,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAG7C,IAOIiK,EAPYhF,GAAGC,OAAO,oBACxBC,OAAO,OACPC,KAAK,QAASN,GACdM,KAAK,SAAU,KAIMgC,UAAU,WAC/BpB,KAAK+F,EAAOlG,SACZyB,QACAnC,OAAO,KACPC,KAAK,QAAS,UAIhB6E,EACE9E,OAAO,QACPC,KAAK,IAAKN,EAAM,EAAE,KAClBM,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAW,GAAJA,EAAO,KAEdwF,KAAK,QAAS,IACdA,KAAK,SAAU,IACfvE,MAAM,SAAU,SAChBA,MAAM,eAAgB,IACtBA,MAAM,OAAQ,SAAUqD,GAAK,OAAOA,IAEtC+F,EACE9E,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAKN,EAAM,EAAG,GAAK,KACxBM,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAO,GAAS,GAAJA,IAEZwF,KAAK,KAAM,SACXsC,KAAK,SAAUxD,EAAGtE,GAClB,OAAOoK,EAAWpK,KA0BpB,IAAI8J,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAMhB+L,EACE1J,GAAG,YAAa,SAASvD,GACzBwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,IAAM,MACpCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,gCAAAT,OAEiBpF,EAAEkI,WAAWiF,OAF9B,sIAAA/H,OAKgC1B,EAAO1D,EAAEkI,WAAW4E,aALpD,iFAAA1H,OAOgC1B,EAAO1D,EAAEkI,WAAW6E,aAPpD,qDAYAhM,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAItBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAGnBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,OA6CxBkM,GACAhD,EAAezN,MAAM+B,QAAU,QAC/B2N,EAAY1P,MAAM+B,QAAU,SAC5BoK,EAAa,GAAGnM,MAAM4D,QAAU,OAXhCmJ,WAgBF,SAAwBH,GACvB,IAAMa,EAAiBxP,SAASK,cAAc,6BAC9C,OAAOsO,EAASC,OAChB,KAAK,EAGL,KAAK,EACJzI,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7C,MAED,KAAK,EACJiF,GAAGC,OAAO,aAAakC,UAAU,KAAKpH,SACtCiF,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7CsO,EAAezN,MAAM+B,QAAU,OAC/B2N,EAAY1P,MAAM+B,QAAU,OAC5BoK,EAAa,GAAGnM,MAAM4D,QAAU,SCxUnC,SAAS8M,SAIR,IAAI1M,EAAc,GAAdA,EAAwB,GAAxBA,EAAmC,GAAnCA,EAA6C,GAE7CC,EAAQhG,SAASK,cAAc,WAAWiD,YAI1C4C,EAAMC,GAAGC,OAAO,aAClBC,OAAO,OACPC,KAAK,SALM,KAMXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAGd,IAAI+I,EAAUvJ,GAAG2C,OAAO,IAGxB3C,GAAGa,IAAI,wBAAwBC,KAAK,SAASC,GAG5CA,EAAK1F,QAAQ,SAAC4D,GACbA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,OAIf,IAAIgE,EAAOlC,EAAKmC,QAAQC,MAAM,EAAE,IAG5B0E,EAAM7H,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAK,OAAOe,GAAG6H,IAAI5E,EAAK,SAACsB,GAAO,OAAOtF,EAAEsF,OAC7D6F,EAAMpK,GAAGoK,IAAIrJ,EAAM,SAAC9B,GAAK,OAAOe,GAAGoK,IAAInH,EAAK,SAACsB,GAAO,OAAOtF,EAAEsF,OAM3DnB,EAASpD,GAAGqD,cAChB1C,OAAOX,GAAGuM,OAAOxL,EAAO,SAAC9B,GAAK,OAAOA,EAAEuN,QACvC5L,MAAM,CAAChB,EAAaC,EAAMD,IAEtB2D,EAASvD,GAAGqD,cAChB1C,OAAO,CAACyJ,EAAIvC,IAAM0C,OAClB3J,MAAM,CAnDI,IAmDIhB,EAAeA,IAGzBkE,EAAQ9D,GAAG+D,WAAWX,GAC1Be,cAAc,GAEVF,EAAQjE,GAAGkE,SAASX,GACxBkJ,MAAM,GACNtI,cAAc,GACdH,WAAW,SAAC/E,GAAK,OAAOsK,EAAQtK,GAAG,OAKrCc,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,eAAAkE,OAjEY,IAoE8BzE,EAH1C,MAIE0E,KAAKR,GAEP/D,EAAIE,OAAO,WACTkC,UAAU,QACVhC,KAAK,IAAK,IAIZJ,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,aAAAkE,OAGgCzE,EAHhC,QAIE0E,KAAKL,GAIPlE,EAAIE,OAAO,WACTkC,UAAU,QACVhC,KAAK,KAAK,IACVA,KAAK,KAAK,GAKZ,IAAIuM,EAAO1M,GAAG0M,OACZrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPC,EAAQ7M,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPE,EAAQ9M,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPG,EAAQ/M,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPI,EAAQhN,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPK,EAAQjN,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPM,EAAQlN,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPO,EAAQnN,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPQ,EAAQpN,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGX7M,EACEG,OAAO,QACPC,KAAK,KAAMP,GACXO,KAAK,KAAMN,EAAMD,GACjBO,KAAK,KAAMoD,EAAO,IAClBpD,KAAK,KAAMoD,EAAO,IAClBpD,KAAK,SAAU,QACfA,KAAK,eAAe,GAKtBJ,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,WACdA,KAAK,OAAQ,QACbA,KAAK,eAAgB,GACrBA,KAAK,IAAKuM,GAEZ3M,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,WACdA,KAAK,OAAQ,QACbA,KAAK,eAAgB,GACrBA,KAAK,IAAK0M,GAEZ9M,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,WACdA,KAAK,OAAQ,QACbA,KAAK,eAAgB,GACrBA,KAAK,IAAK2M,GAEZ/M,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,WACdA,KAAK,OAAQ,QACbA,KAAK,eAAgB,GACrBA,KAAK,IAAK4M,GAEZhN,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,WACdA,KAAK,OAAQ,QACbA,KAAK,eAAgB,GACrBA,KAAK,IAAK6M,GAEZjN,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,WACdA,KAAK,OAAQ,QACbA,KAAK,eAAgB,GACrBA,KAAK,IAAK8M,GAEZlN,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,WACdA,KAAK,OAAQ,QACbA,KAAK,eAAgB,GACrBA,KAAK,IAAK+M,GAEZnN,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,WACdA,KAAK,OAAQ,QACbA,KAAK,eAAgB,GACrBA,KAAK,IAAKgN,GAEZpN,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,WACdA,KAAK,OAAQ,QACbA,KAAK,eAAgB,GACrBA,KAAK,IAAKiN,GAIZ,IAAMC,EAAQ,CAAC,UAAU,UAAU,UAAU,UAC5C,UAAU,UAAU,UAAU,UAAU,WAErCC,EAAQzT,SAASG,iBAAiB,YAGtCuB,MAAMC,KAAK8R,GAAOjS,QAAQ,SAACI,EAAGd,GAC7Bc,EAAG8R,aAAa,SAASF,EAAM1S,MAkChC,IAAI8J,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAMhBH,GAAGmC,UAAU,YACXK,GAAG,YAAa,SAASvD,EAAEtE,GAS3B,OARA8J,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QAEdjB,GACR,KAAK,EACJ8J,EACEK,KADF,4EAIA,MACD,KAAK,EACJL,EACEK,KADF,yFAIA,MACD,KAAK,EACJL,EACEK,KADF,mHAIA,MACD,KAAK,EACJL,EACEK,KADF,4EAIA,MACD,KAAK,EACJL,EACEK,KADF,0FAIA,MACD,KAAK,EACJL,EACEK,KADF,4EAIA,MACD,KAAK,EACJL,EACEK,KADF,0FAIA,MACD,KAAK,EACJL,EACEK,KADF,+FAIA,MACD,KAAK,EACJL,EACEK,KADF,0GASD9E,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAGtBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAInBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,KASxB,IAAM4E,EAAa,CAAC,eAAgB,4BAA6B,sDAAuD,eAAgB,6BAA8B,eAAgB,6BAA8B,kCAAmC,8CASnPC,EAPYhF,GAAGC,OAAO,oBACxBC,OAAO,OACPC,KAAK,QAASN,GACdM,KAAK,SAAU,KAIMgC,UAAU,WAC/BpB,KAAKsM,GACLhL,QACAnC,OAAO,KACPC,KAAK,QAAS,UAKhB6E,EACE9E,OAAO,QACPC,KAAK,IAAK,GAAKP,GACfO,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAW,GAAJA,EAAO,IAEdwF,KAAK,QAAS,IACdA,KAAK,SAAU,IACfvE,MAAM,SAAU,SAChBA,MAAM,eAAgB,IACtBA,MAAM,OAAQ,SAAUqD,GAAK,OAAOA,IAEtC+F,EACE9E,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAK,GAAKP,GACfO,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAO,GAAS,GAAJA,IAEZwF,KAAK,KAAM,SACXsC,KAAK,SAAUxD,EAAGtE,GAClB,OAAOoK,EAAWpK,OFrYtBM,OAAOD,iBAAiB,SAAS,WAChCkO,yBAgbDjO,OAAOD,iBAAiB,OAAQ,WAC0C,QAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7DwL,WCzHFlO,OAAOD,iBAAiB,OAAQ,WAC0C,QAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7D0N,WCgGFpQ,OAAOD,iBAAiB,OAAQ,WAC0C,QAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7D2O,WC7bF,IAAIkB,aAAe,CAAC,YAAa,YAAa,YAAa,YAAa,YAAa,aAEjFC,QAAU5T,SAASK,cAAc,aACjCwT,SAAW7T,SAASK,cAAc,gBAElCyT,eAAiB9T,SAASK,cAAc,qBAE5CuT,QAAQhG,QAAU,WACjBkG,eAAe/E,UAAY4E,aAAa3E,KAAKjB,QAO9C6F,QAAQhG,UAIR,IAAImG,qBAAuB,WAC1B,IAAIjG,EAAkB8F,QAAQ7F,MAAQ6F,QAAQ5F,IAC9C8F,eAAe/R,MAAMmB,KAAQ4K,EAAiB8F,QAAQjT,wBAAwBqF,MAAO,YAAe,MAerG,SAASgO,SAIR,IAAIjO,EAAc,IAAdA,EAAyB,GAAzBA,EAAoC,GAApCA,EAA8C,GAE9CC,EAAQhG,SAASK,cAAc,WAAWiD,YAI1C4C,EAAMC,GAAGC,OAAO,aAClBC,OAAO,OACPC,KAAK,SALM,KAMXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAGd,IAAImC,EAAS3C,GAAG2C,OAAO,OAEnB4G,GADYvJ,GAAG2C,OAAO,QACZ3C,GAAG2C,OAAO,KAExB3C,GAAGa,IAAI,wBAAwBC,KAAK,SAASC,GAG5CA,EAAK1F,QAAQ,SAAC4D,EAAEtE,GACf,IAAK,IAAI4J,KAAOtF,GACVA,EAAEsF,KAAQtF,EAAEsF,KAChBtF,EAAEsF,IAAQtF,EAAEsF,MAOf,IAAIuJ,EAAQ/M,EAAKmC,QAAQC,MAAM,GAAG,IAC9B4K,EAAQhN,EAAKmC,QAAQC,MAAM,GAAG,IAC9BkH,EAAStJ,EAAKmC,QAAQC,MAAM,EAAE,GAC9B6K,EAAWjN,EAAKmC,QAAQC,MAAM,EAAE,IAGhC8K,EAAOjO,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAK,OAAOe,GAAG6H,IAAIiG,EAAM,SAACvJ,GAAO,OAAOtF,EAAEsF,OAC/D2J,EAAOlO,GAAGoK,IAAIrJ,EAAM,SAAC9B,GAAK,OAAOe,GAAGoK,IAAI0D,EAAM,SAACvJ,GAAO,OAAOtF,EAAEsF,OAE/D4J,EAAOnO,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAK,OAAOe,GAAG6H,IAAIkG,EAAM,SAACxJ,GAAO,OAAOtF,EAAEsF,OAC/D6J,EAAOpO,GAAGoK,IAAIrJ,EAAM,SAAC9B,GAAK,OAAOe,GAAGoK,IAAI2D,EAAM,SAACxJ,GAAO,OAAOtF,EAAEsF,OAE/D+F,EAAStK,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAM,OAAOe,GAAG6H,IAAIwC,EAAQ,SAAC9F,GAAQ,OAAOtF,EAAEsF,OAErE8J,EAAWrO,GAAGoK,IAAIrJ,EAAM,SAAC9B,GAAK,OAAOe,GAAGoK,IAAI4D,EAAS,SAACzJ,GAAO,OAAOtF,EAAEsF,OACtE+J,EAAWtO,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAM,OAAOe,GAAG6H,IAAImG,EAAU,SAACzJ,GAAQ,OAAOtF,EAAEsF,OAGvEnB,EAASpD,GAAGqD,cAChB1C,OAAO,CAACuN,EAAMD,IACdrN,MAAM,CAAChB,EAAaC,EAAMD,IAAe2K,OAIrChH,EAASvD,GAAGqD,cAChB1C,OAAO,CAACyN,EAAMD,IACdvN,MAAM,CA3DI,IA2DIhB,EAAeA,IAAa2K,OAGtCzG,EAAQ9D,GAAG+D,WAAWX,GAC1BqJ,MAAM,GACNtI,cAAc,GACdH,WAAW,SAAC/E,GAAK,OAAOsK,EAAQtK,GAAG,OAE/BgF,EAAQjE,GAAGkE,SAASX,GACxBkJ,MAAM,GACNtI,cAAc,GACdH,WAAW,SAAC/E,GAAK,OAAOsK,EAAQtK,GAAG,OAGrCc,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,eAAAkE,OAzEY,IA4E8BzE,EAH1C,MAIE0E,KAAKR,GAEP/D,EACEE,OAAO,WACPkC,UAAU,QACVhC,KAAK,IAAK,IAGZJ,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,aAAAkE,OAGgCzE,EAHhC,QAIE0E,KAAKL,GAIPlE,EACEG,OAAO,QACPC,KAAK,KAAMiD,EAAO,IAClBjD,KAAK,KAAMiD,EAAO,IAClBjD,KAAK,KAAMP,GACXO,KAAK,KAlGK,IAkGQP,GAClBO,KAAK,SAAU,QACfA,KAAK,eAAe,GAItBJ,EACEG,OAAO,QACPC,KAAK,KAAMP,GACXO,KAAK,KAAMN,EAAMD,GACjBO,KAAK,KAAMoD,EAAO,IAClBpD,KAAK,KAAMoD,EAAO,IAClBpD,KAAK,SAAU,QACfA,KAAK,eAAe,GAItB,IAAMoO,EAAavO,GAAGqD,cACpB1C,OAAO,CAAC0N,GAAW,IAAM,EAAG,GAAK,EAAGC,IACpC1N,MAAM,CAAC,UAAW,UAAU,UAAU,UAAU,YAG5C4N,EAAexO,GAAGU,eACtBC,OAAO,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KACvCC,MAAM,CAAC,UAAU,UAAU,UAAU,UACrC,UAAU,UAAU,UAAU,UAAU,YAKzCb,EACEG,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,QAAQ,sBACbA,KAAK,IAAIP,GACTO,KAAK,IAAI,IACTsC,KAAK,WAGP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,GACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,IACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,IACVA,KAAK,SAAU,QAIjBJ,EACEG,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,QAAQ,SACbA,KAAK,IAAIP,EAAW,EAAE,IACtBO,KAAK,IAAKP,EAAY,GACtBhE,MAAM,cAAe,SACrB6G,KAAK,qCAGP1C,EACEG,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,QAAQ,SACbA,KAAK,IAAIP,EAAW,EAAE,IACtBO,KAAK,IAAKP,EAAY,GACtBhE,MAAM,cAAe,SACrB6G,KAAK,oCAIP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,SACbA,KAAK,YACL,cAAiBN,EAAMD,GAAiB,MAtL/B,IAsL8CA,EAAc,GAAK,KAC1EhE,MAAM,cAAe,OACrBuE,KAAK,OAAQ,WACbsC,KAAK,qCAGP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,SACbA,KAAK,YACL,cAAiBN,EAAMD,GAAiB,MAhM/B,IAgM8CA,EAAc,EAAE,IAAM,KAC7EhE,MAAM,cAAe,OACrBuE,KAAK,OAAQ,WACbsC,KAAK,wBAYR,IAAIgM,EAAc1O,EAAIoC,UAAU,WAC9BpB,KAAKwN,EAAW3N,SAChByB,QACAnC,OAAO,KACPC,KAAK,QAAS,UAkDhB,SAASqK,EAAWE,EAAUgE,EAAaC,EAAYC,EAAY3H,GAElElH,EACEG,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,QAAQ,8BACbA,KAAK,IAAI,GAAGP,GACZO,KAAK,IAAI,IACTsC,KAAKwE,GASP,IALA,IAAIjG,EAAahB,GAAGiB,gBAAgBF,GAClCG,MAAM,IAAKlB,GAAGmB,OAAO,SAAClC,GAAM,OAAOmE,EAAOnE,EAAE0P,MAAgBvN,SAAS,IACrEF,MAAM,IAAKlB,GAAGwB,OAAO,SAACvC,GAAM,OAAOsE,EAAOtE,EAAE2P,MAAgBxN,SAAS,IACrE0J,OAEOnQ,EAAE,EAAGA,EAAEoG,EAAKnG,OAAOD,IAAKqG,EAAW+J,OAE5C,IAAIC,EAAajL,EAAIoC,UAAU,YAC7BpB,KAAKA,EAAO,SAAC9B,GAAM,OAAOA,EAAEgM,SAG9BD,EAAW5I,OACTsC,aACAC,SAAS,KACTxE,KAAK,KAAM,GACXA,KAAK,KAAML,IAAWF,EAAc,GACpC7E,SAGF,IAAIqF,EAAI4K,EACN3I,QACAnC,OAAO,KACPC,KAAK,KAAO,SAAClB,GAAM,MAAO,KAAOA,EAAEgM,SAGrC7K,EAAEF,OAAO,UACPC,KAAK,QAAS,WACdA,KAAK,IAAI,GACTA,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEoC,IAC5BlB,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEwC,IAC5BtB,KAAK,SAAW,SAAClB,GAAM,OAAOuP,EAAavP,EAAEgM,UAC7C9K,KAAK,eAAgB,GACrBmC,MAAM0I,GACNtG,aACAC,SAAS,MACTxE,KAAK,OAAS,SAAClB,GAAM,OAAOsP,EAAWtP,EAAEyP,MACzCvO,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEoC,IAC5BlB,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEwC,IAC5BtB,KAAK,IAAI,SAAClB,GAAK,OAAsC,GAA/B2L,KAAKC,KAAK5L,EAAEyL,GAAUJ,KAW9C,IAAI7F,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAMhBC,EACEoC,GAAG,YAAa,SAASvD,GACzBwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,gCAAAT,OAEiBpF,EAAEiM,OAFnB,+IAAA7G,OAK4B1B,EAAO1D,EAAEyP,IALrC,4FAAArK,OAO2C1B,EAAO1D,EAAE0P,IAPpD,+FAAAtK,OAS8C1B,EAAO1D,EAAE2P,IATvD,qDAcA5O,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAGtBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAInBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,KAtJzBsO,EACEvO,OAAO,QACPC,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAO,EAAEkF,EAAM,EAAM,GAAJlF,IAEjBwF,KAAK,IAAKP,EAAW,EAAE,IACvBO,KAAK,QAAS,IACdA,KAAK,SAAU,IACfvE,MAAM,SAAU,SAChBA,MAAM,eAAgB,IACtBA,MAAM,OAAQ,SAAUqD,GAAK,OAAOA,IAGtCwP,EACEvO,OAAO,QACPC,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAO,EAAEkF,EAAM,EAAQ,GAAJlF,IAEnBwF,KAAK,MAAO,GACZA,KAAK,IAAKP,EAAW,EAAE,IACvBO,KAAK,KAAM,SACXA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,SAAUxD,EAAGtE,GAClB,OAAOgI,EAAO4L,EAAW5N,SAAShG,MAGpCoF,EACEG,OAAO,QACPC,KAAK,IAAK,EAAEN,EAAM,EAAI,KACtBM,KAAK,MAAO,GACZA,KAAK,IAAKP,EAAW,EAAE,IACvBO,KAAK,KAAM,SACXA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAKE,EAAO4L,EAAW5N,SAAS,KAElCZ,EACEG,OAAO,QACPC,KAAK,IAAI,EAAEN,EAAM,EAAE,IACnBM,KAAK,IAAIP,EAAW,EAAE,GACtBO,KAAK,cAAe,SACpBA,KAAK,OAAQ,WACbsC,KAAK,uCAqHP,IAAI0I,EAAepL,EACjBG,OAAO,KACPC,KAAK,QAAQ,iBAEfgL,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAI,EAAEN,EAAM,GACjBM,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAK,cAGP0I,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,GACnBM,KAAK,KAAMP,EAAW,EAAE,IACxBO,KAAK,IAA8B,GAAzByK,KAAKC,KAAKP,EAAOA,IAE7Ba,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,GACnBM,KAAK,KAAMP,EAAW,EAAE,GAA2B,GAAvBgL,KAAKC,KAAK,IAAKP,GAAY,GACvDnK,KAAK,IAA4B,GAAvByK,KAAKC,KAAK,IAAKP,IAE3Ba,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,GACnBM,KAAK,KAAMP,EAAW,EAAE,GAA2B,GAAvBgL,KAAKC,KAAK,IAAKP,IAC3CnK,KAAK,IAA2B,GAAtByK,KAAKC,KAAK,IAAIP,IAE1Ba,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAKP,EAAW,EAAE,GACvB6C,KAAK,QAEP0I,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAKP,EAAW,EAAyB,GAAvBgL,KAAKC,KAAK,IAAKP,GAAW,EAAE,GACnD7H,KAAK,OAEP0I,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAMP,EAAW,EAAE,GAA0B,GAAvBgL,KAAKC,KAAK,IAAKP,IAC1C7H,KAAK,OAMP+H,EAAW,WAAY,cAAe,iBAAkB,iBAAkBgD,aAAa,IACvFI,uBAEAH,QAAQzS,iBAAiB,QAAQ,SAAS8D,GAEzC,OADA8O,uBACQ9O,EAAEpD,OAAOkM,OACjB,IAAK,IACJ5H,GAAGC,OAAO,aAAakC,UAAU,kBAAkBpH,SACnDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBgD,aAAa,IACvF,MACD,IAAK,IACJxN,GAAGC,OAAO,aAAakC,UAAU,kBAAkBpH,SACnDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBgD,aAAa,IACvF,MACD,IAAK,IACJxN,GAAGC,OAAO,aAAakC,UAAU,kBAAkBpH,SACnDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBgD,aAAa,IACvF,MACD,IAAK,IACJxN,GAAGC,OAAO,aAAakC,UAAU,kBAAkBpH,SACnDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBgD,aAAa,IACvF,MACD,IAAK,IACJxN,GAAGC,OAAO,aAAakC,UAAU,kBAAkBpH,SACnDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBgD,aAAa,IACvF,MACD,IAAK,IACJxN,GAAGC,OAAO,aAAakC,UAAU,kBAAkBpH,SACnDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBgD,aAAa,SCrf3F,SAASqB,SAER,IAAIC,EAAWjV,SAASK,cAAc,cAEtC4U,EAAS9T,iBAAiB,OAAQ,WAGjC,IAAI+T,EAASlV,SAASK,cAAc,WAAWiD,YAI3C6R,EAAOF,EACTG,iBACA/U,cAAc,oBAEZgV,EAAUJ,EACZG,iBACAjV,iBAAiB,aAEN8U,EACXG,iBACA/U,cAAc,mBAUhB,SAASiV,EAAmB1G,GAC3B,IAAI,IAAI9N,EAAI,EAAGA,EAAIuU,EAAQtU,OAAQD,IAC/B8N,GAAS9N,EACXuU,EAAQvU,GAAG4S,aAAa,UAAU,GAElC2B,EAAQvU,GAAG4S,aAAa,UAAU,GAZrCyB,EAAKzB,aAAa,QAAQwB,GAC1BC,EAAKzB,aAAa,SAjBJ,KAmDbvN,GAAGC,OAAO,eACRkC,UAAU,WACVK,GAAG,QAAS,WAGZxC,GAAGmC,UAAU,WAAWiN,QAAQ,UAAU,GAG1C,IAAIC,EAASrP,GAAGC,OAAO4I,MAQvB,OALAwG,EAAOD,QAAQ,UAAU,GAGVC,EAAOlP,KAAK,OAG3B,IAAK,UACJgP,EAAmB,GACnB,MACD,IAAK,aACJA,EAAmB,GACnB,MACD,IAAK,gBACJA,EAAmB,GACnB,MACD,IAAK,gBACJA,EAAmB,GACnB,MACD,IAAK,eACJA,EAAmB,QAwBxB,IAAMtP,EAAQhG,SAASK,cAAc,aAAaiD,YAG9C4C,EAAMC,GAAGC,OAAO,oBAClBC,OAAO,OACPC,KAAK,QAASN,GACdM,KAAK,SALQ,IAUf,SAASmP,IAIR,IAAIC,EAAUxP,EAAIG,OAAO,KACvBC,KAAK,QAAS,YAGhBoP,EACErP,OAAO,QACPC,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,IACVA,KAAK,QAAS,KACdA,KAAK,SAAS,IACdA,KAAK,OAAQ,QAEfoP,EACErP,OAAO,QACPC,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,IACVA,KAAK,QAAS,MACdA,KAAK,SAAS,IACdA,KAAK,OAAQ,QAEfoP,EACErP,OAAO,QACPC,KAAK,IAAK,IAAIN,EAAM,GACpBM,KAAK,IAAK,IACVA,KAAK,QAAS,MACdA,KAAK,SAAS,IACdA,KAAK,OAAQ,QAEfoP,EACErP,OAAO,QACPC,KAAK,IAAK,IAAIN,EAAM,GACpBM,KAAK,IAAK,IACVA,KAAK,QAAS,MACdA,KAAK,SAAS,IACdA,KAAK,OAAQ,QAEfoP,EACErP,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,IACVsC,KAAK,UAEP8M,EACErP,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,IACVsC,KAAK,SAGP8M,EACErP,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAK,IAAIN,EAAM,GACpBM,KAAK,IAAK,IACVsC,KAAK,SAEP8M,EACErP,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAK,IAAIN,EAAM,GACpBM,KAAK,IAAK,IACVsC,KAAK,SAOR,SAAS+M,IAER,IAAIC,EAAS1P,EAAIG,OAAO,KACtBC,KAAK,QAAS,WAGhBsP,EACEvP,OAAO,QACPC,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,IACVA,KAAK,QAAS,MACdA,KAAK,SAAS,IACdA,KAAK,OAAQ,QAEfsP,EACEvP,OAAO,QACPC,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,IACVA,KAAK,QAAS,KACdA,KAAK,SAAS,IACdA,KAAK,OAAQ,QAEfsP,EACEvP,OAAO,QACPC,KAAK,IAAK,IAAIN,EAAM,GACpBM,KAAK,IAAK,IACVA,KAAK,QAAS,MACdA,KAAK,SAAS,IACdA,KAAK,OAAQ,QAEfsP,EACEvP,OAAO,QACPC,KAAK,IAAK,IAAIN,EAAM,GACpBM,KAAK,IAAK,IACVA,KAAK,QAAS,MACdA,KAAK,SAAS,IACdA,KAAK,OAAQ,QAEfsP,EACEvP,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,IACVsC,KAAK,UAEPgN,EACEvP,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,IACVsC,KAAK,SAGPgN,EACEvP,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAK,IAAIN,EAAM,GACpBM,KAAK,IAAK,IACVsC,KAAK,SAEPgN,EACEvP,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAK,IAAIN,EAAM,GACpBM,KAAK,IAAK,IACVsC,KAAK,SA7IR6M,IAmJiBvP,EAAIG,OAAO,KAC1BC,KAAK,QAAS,eAGdD,OAAO,QACPC,KAAK,IAAKN,EAAM,GAChBM,KAAK,IAAK,IACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,sBAKPlH,MAAMC,KAAK3B,SAASG,iBAAiB,gBAAgBqB,QAAQ,SAACI,EAAGd,GAChEc,EAAGT,iBAAiB,QAAS,SAAS8D,GAErC,OAAQrD,EAAGiU,IACX,IAAK,UACJ1P,GAAGC,OAAO,oBAAoBkC,UAAU,aAAapH,SACrDiF,GAAGC,OAAO,oBAAoBkC,UAAU,YAAYpH,SACpDuU,IACA,MACD,IAAK,aAKL,IAAK,gBAKL,IAAK,gBAKL,IAAK,eACJtP,GAAGC,OAAO,oBAAoBkC,UAAU,aAAapH,SACrDiF,GAAGC,OAAO,oBAAoBkC,UAAU,YAAYpH,SACpDyU,SCxTJ,SAASG,UAIR,IAAI/P,EAA6C,GAE7CC,EAAQhG,SAASK,cAAc,WAAWiD,YAK1C4C,EAAMC,GAAGC,OAAO,aAClBC,OAAO,OACPC,KAAK,SANM,KAOXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAMd+E,QAAQC,IAAI,CACXxF,GAAGyF,KAAK,sBACRzF,GAAGyF,KAAK,0BACRzF,GAAGa,IAAI,0BACLC,KAAK,SAASC,GAQhB,IAJA,IAAMyK,EAAoB7F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQ+J,UAC9DlE,EAAuB/F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQgK,cAG9DlV,EAAE,EAAGA,EAAGoG,EAAK,GAAGnG,OAAOD,IAE/B,IADA,IAAMiR,EAAQ7K,EAAK,GAAGpG,GAAGmV,QAChBhE,EAAE,EAAGA,EAAEN,EAAkB1D,SAASlN,OAAOkR,IAAI,CAErD,GAAIF,IADSJ,EAAkB1D,SAASgE,GAAG3E,WAAW2I,QAChC,CACrBtE,EAAkB1D,SAASgE,GAAG3E,WAAW4I,MAAQhP,EAAK,GAAGpG,GAAGoV,MAC5DvE,EAAkB1D,SAASgE,GAAG3E,WAAW6I,IAAMjP,EAAK,GAAGpG,GAAGqV,IAC1D,OAOH,IAAIlJ,EAAS9G,GAAGU,eACdC,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,MAC5BC,MAAM,CAAC,UAAU,UAAU,UAAU,UAAU,UAAU,YAGrD6F,EAAazG,GAAG0G,oBACpBC,QAAQ,CAAC9G,EApDC,KAoDa2L,GAEnB5E,EAAO5G,GAAG6G,UACdJ,WAAWA,GAETrG,EAAIL,EAAIG,OAAO,KAGf+P,EAAO7P,EAAEF,OAAO,KAClBC,KAAK,QAAQ,UACbgC,UAAU,SACVpB,KAAKyK,EAAkB1D,UACvBZ,KAAK,QACL/G,KAAK,IAAKyG,GACVzG,KAAK,QAAS,QACdA,KAAK,SAAS,SACdA,KAAK,eAAe,IACpBA,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAW4I,SAarC3P,EAAEF,OAAO,KACpBC,KAAK,QAAQ,SACbD,OAAO,QACPiM,MAAMT,GACNvL,KAAK,IAAKyG,GACVzG,KAAK,QAAS,UAmChB,SAAS+P,IACRlQ,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7C,IAAMgK,EAAa,CAAC,YAAY,gCAAiC,6BAA8B,uBAAwB,sCAAuC,sCAQ1JC,EANYhF,GAAGC,OAAO,oBACxBC,OAAO,OACPC,KAAK,QAASN,GACdM,KAAK,SAAU,KAGMgC,UAAU,WAC/BpB,KAAK+F,EAAOlG,SACZyB,QACAnC,OAAO,KACPC,KAAK,QAAS,UAGhB6E,EACE9E,OAAO,QACPC,KAAK,IAAKN,EAAM,EAAE,IAClBM,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAW,GAAJA,EAAO,KAEdwF,KAAK,QAAS,IACdA,KAAK,SAAU,IACfvE,MAAM,SAAU,SAChBA,MAAM,eAAgB,IACtBA,MAAM,OAAQ,SAAUqD,GAAK,OAAOA,IAEtC+F,EACE9E,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAKN,EAAM,EAAE,IAClBM,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAO,GAAS,GAAJA,IAEZwF,KAAK,KAAM,SACXsC,KAAK,SAAUxD,EAAGtE,GAClB,OAAOoK,EAAWpK,KAjEpBoF,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,GACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,IACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,IACVA,KAAK,SAAU,QAsDlB+P,IAIAnQ,EACEuE,KAAKtE,GAAGqH,OACPE,YAAY,CAAC,EAAE,IACfC,gBAAgB,CAAC,CAAC,EAAE,GAAG,CAAC3H,EA5Kf,OA6KT2C,GAAG,OAKN,WACCpC,EAAED,KAAK,YAAaH,GAAGjB,MAAMuI,aAL3B9E,GAAG,QAQN,WACCyN,EACEzN,GAAG,YAAY,QATfA,GAAG,MAaN,WACCyN,EACEzN,GAAG,YAAa,SAASvD,GACzBwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QAEtB6I,EACEK,KADF,gCAAAT,OAEiBpF,EAAEkI,WAAWgJ,QAF9B,oCAMAnQ,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,SAQzB,IAAIsE,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YA6ChB,SAASiQ,EAAYnJ,EAAOoG,GAC3BtN,EACEG,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,QAAQ,sBACbA,KAAK,IAAIP,GACTO,KAAK,IAAI,IACTsC,KAAKwE,GACL9G,KAAK,OAAQkN,GA/ChB4C,EACEzN,GAAG,YAAa,SAASvD,GACzBtF,QAAQC,IAAIqF,GACZwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,8BAAAT,OAEiBpF,EAAEkI,WAAWgJ,QAF9B,kCAMAnQ,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAKtBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAGnBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,KAwBxB,IAAMkQ,EAAWrI,YACXsI,EAAUzW,SAASG,iBAAiB,aAqI1CqW,EACEpI,MAAM,CACNC,UAAW,UACXC,QAAS,kBACT1F,KAAM,eACN2F,KAAM,YACNC,OAAO,EACPC,OAAQ,KAERC,YA5IF,SAAyBC,GAExB,OAAOA,EAASC,OAChB,KAAK,EACJ6H,EAAQ,GAAG1U,MAAM4D,QAAU,EAC3B0Q,IACAlQ,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,oBAAoB,QAChCH,EACEvL,aACAC,SAAS,KACTxE,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAW4I,SAClD,MACD,KAAK,EACJO,EAAQ,GAAG1U,MAAM4D,QAAU,EAC3BQ,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7CiF,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,sCAAuCtJ,EAAOlG,QAAQ,IAClEqP,EACEvL,aACAC,SAAS,KACTxE,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACJjJ,EAAOlG,QAAQ,GACjC,YAEL,MACD,KAAK,EACJ0P,EAAQ,GAAG1U,MAAM4D,QAAU,EAC3BQ,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7CiF,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,qCAAsCtJ,EAAOlG,QAAQ,IACjEqP,EACEvL,aACAC,SAAS,KACTxE,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACLjJ,EAAOlG,QAAQ,GAChC,YAEL,MACD,KAAK,EACJ0P,EAAQ,GAAG1U,MAAM4D,QAAU,EAC3BQ,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7CiF,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,uBAAwBtJ,EAAOlG,QAAQ,IACnDqP,EACEvL,aACAC,SAAS,KACTxE,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACLjJ,EAAOlG,QAAQ,GAChC,YAEL,MACD,KAAK,EACJ0P,EAAQ,GAAG1U,MAAM4D,QAAU,EAC3BQ,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7CiF,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,6BAA8BtJ,EAAOlG,QAAQ,IACzDqP,EACEvL,aACAC,SAAS,KACTxE,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACLjJ,EAAOlG,QAAQ,GAChC,YAEL,MAED,KAAK,EACJ0P,EAAQ,GAAG1U,MAAM4D,QAAU,EAC3BQ,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7CiF,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,gCAAiCtJ,EAAOlG,QAAQ,IAC5DqP,EACEvL,aACAC,SAAS,KACTxE,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACLjJ,EAAOlG,QAAQ,GAChC,YAEL,MAED,KAAK,EACJ0P,EAAQ,GAAG1U,MAAM4D,QAAU,EAC3BQ,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7CiF,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,YAAatJ,EAAOlG,QAAQ,IACxCqP,EACEvL,aACAC,SAAS,KACTxE,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACLjJ,EAAOlG,QAAQ,GAChC,eA6CL+H,WAtCF,SAAwBH,GAEvB,OAAOA,EAASC,OAChB,KAAK,EACJ6H,EAAQ,GAAG1U,MAAM4D,QAAU,GAC3B,MACD,KAAK,EACJ8Q,EAAQ,GAAG1U,MAAM4D,QAAU,GAC3B,MACD,KAAK,EACJ8Q,EAAQ,GAAG1U,MAAM4D,QAAU,GAC3B,MACD,KAAK,EACJ8Q,EAAQ,GAAG1U,MAAM4D,QAAU,GAC3B,MACD,KAAK,EACJ8Q,EAAQ,GAAG1U,MAAM4D,QAAU,GAC3B,MACD,KAAK,EACJ8Q,EAAQ,GAAG1U,MAAM4D,QAAU,GAC3B,MACD,KAAK,EACJ8Q,EAAQ,GAAG1U,MAAM4D,QAAU,QC1Z/B,SAAS+Q,UAIR,IAAI3Q,EAA6C,GAE7CC,EAAQhG,SAASK,cAAc,WAAWiD,YAK1C4C,EAAMC,GAAGC,OAAO,aAClBC,OAAO,OACPC,KAAK,SANM,KAOXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAMd+E,QAAQC,IAAI,CACXxF,GAAGyF,KAAK,sBACRzF,GAAGyF,KAAK,0BACRzF,GAAGa,IAAI,0BACLC,KAAK,SAASC,GAiBhB,IAbA,IAAI+F,EAAS9G,GAAGU,eACdC,OAAO,CAAC,MAAM,MAAM,MAAM,MAAM,KAChCC,MAAM,CAAC,UAAW,UAAU,UAAU,UAAU,YAM5C4K,EAAoB7F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQ+J,UAC9DlE,EAAuB/F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQgK,cAI9DlV,EAAE,EAAGA,EAAGoG,EAAK,GAAGnG,OAAOD,IAE/B,IADA,IAAMiR,EAAQ7K,EAAK,GAAGpG,GAAGmV,QAChBhE,EAAE,EAAGA,EAAEN,EAAkB1D,SAASlN,OAAOkR,IAAI,CAErD,GAAIF,IADSJ,EAAkB1D,SAASgE,GAAG3E,WAAW2I,QAChC,CACrBtE,EAAkB1D,SAASgE,GAAG3E,WAAWqJ,QAAUzP,EAAK,GAAGpG,GAAG6V,QAC9DhF,EAAkB1D,SAASgE,GAAG3E,WAAWsJ,QAAU1P,EAAK,GAAGpG,GAAG8V,QAC9DjF,EAAkB1D,SAASgE,GAAG3E,WAAWuJ,QAAU3P,EAAK,GAAGpG,GAAG+V,QAC9DlF,EAAkB1D,SAASgE,GAAG3E,WAAWwJ,QAAU5P,EAAK,GAAGpG,GAAGgW,QAC9DnF,EAAkB1D,SAASgE,GAAG3E,WAAWyJ,QAAU7P,EAAK,GAAGpG,GAAGiW,QAC9DpF,EAAkB1D,SAASgE,GAAG3E,WAAW0J,QAAU9P,EAAK,GAAGpG,GAAGkW,QAC9DrF,EAAkB1D,SAASgE,GAAG3E,WAAW2J,QAAU/P,EAAK,GAAGpG,GAAGmW,QAC9DtF,EAAkB1D,SAASgE,GAAG3E,WAAW4J,QAAUhQ,EAAK,GAAGpG,GAAGoW,QAC9D,OASH,IAAMtK,EAAazG,GAAG0G,oBACpBC,QAAQ,CAAC9G,EAhEC,KAgEa2L,GAEnB5E,EAAO5G,GAAG6G,UACdJ,WAAWA,GAETrG,EAAIL,EAAIG,OAAO,KAGf+P,EAAO7P,EAAEF,OAAO,KAClBC,KAAK,QAAQ,UACbgC,UAAU,SACVpB,KAAKyK,EAAkB1D,UACvBZ,KAAK,QACL/G,KAAK,IAAKyG,GACVzG,KAAK,QAAS,QACdA,KAAK,SAAS,SACdA,KAAK,eAAe,IACpBA,KAAK,OAAQ,WAKFC,EAAEF,OAAO,KACpBC,KAAK,QAAQ,SACbD,OAAO,QACPiM,MAAMT,GACNvL,KAAK,IAAKyG,GACVzG,KAAK,QAAS,UAGhBJ,EACEuE,KAAKtE,GAAGqH,OACPE,YAAY,CAAC,EAAE,IACfC,gBAAgB,CAAC,CAAC,EAAE,GAAG,CAAC3H,EAjGf,OAkGT2C,GAAG,OAMN,WACCpC,EAAED,KAAK,YAAaH,GAAGjB,MAAMuI,aAN3B9E,GAAG,QASN,WACCyN,EACEzN,GAAG,YAAY,QAVfA,GAAG,MAaN,WAIC,OAFa3I,SAASK,cAAc,qBAErB8W,aACf,IAAK,8BACJC,EAAa,IACb,MACD,IAAK,YACJA,EAAa,WACb,MACD,IAAK,YACJA,EAAa,WACb,MACD,IAAK,uBACJA,EAAa,WACb,MACD,IAAK,4BACJA,EAAa,eAkBdlR,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,GACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,IACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,IACVA,KAAK,SAAU,QAWlB,IAAM4E,EAAa,CAAC,sDACnB,qDACA,sDACA,sDAOGC,EALYhF,GAAGC,OAAO,oBACxBC,OAAO,OACPC,KAAK,QAASN,GACdM,KAAK,SAAU,IAEMgC,UAAU,WAC/BpB,KAAK+F,EAAOlG,SACZyB,QACAnC,OAAO,KACPC,KAAK,QAAS,UAyBhB6E,EACE9E,OAAO,QACPC,KAAK,IAAKN,EAAM,EAAG,IACnBM,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAW,GAAJA,EAAO,KAEdwF,KAAK,QAAS,IACdA,KAAK,SAAU,IACfvE,MAAM,SAAU,SAChBA,MAAM,eAAgB,IACtBA,MAAM,OAAQ,SAAUqD,GAAK,OAAOA,IAEtC+F,EACE9E,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAKN,EAAM,EAAE,IAClBM,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAO,GAAS,GAAJA,IAEZwF,KAAK,KAAM,SACXsC,KAAK,SAAUxD,EAAGtE,GAClB,OAAOoK,EAAWpK,KAUpB,IAAI8J,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAOhB,SAAS8Q,EAAaC,GACrBjB,EACEzN,GAAG,YAAa,SAASvD,GACzBwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QAEtB6I,EACEK,KADF,gCAAAT,OAEiBpF,EAAEkI,WAAWgJ,QAF9B,wCAAA9L,OAGSpF,EAAEkI,WAAW+J,GAHtB,2BAOAlR,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAItBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAGnBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,KAQzB,SAASiQ,EAAYnJ,GACpBlH,EACEG,OAAO,QACPC,KAAK,QAAQ,sBACbA,KAAK,KAAM,oBACXA,KAAK,IAAIP,GACTO,KAAK,IAAI,IACTA,KAAK,OAAQ,QACbsC,KAAKwE,GAMR,IAAMoJ,EAAWrI,YACXmJ,EAAUtX,SAASG,iBAAiB,aAiF1CqW,EACEpI,MAAM,CACNC,UAAW,UACXC,QAAS,kBACT1F,KAAM,eACN2F,KAAM,YACNC,OAAO,EACPC,OAAQ,KAERC,YAxFF,SAAyBC,GAExB,OAAOA,EAASC,OAChB,KAAK,EACJ0I,EAAQ,GAAGvV,MAAM4D,QAAU,EAC3BQ,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,+BACZa,EAAa,IACbhB,EACEvL,aACOC,SAAS,KAChBxE,KAAK,OAAQ,WACf,MACD,KAAK,EACJgR,EAAQ,GAAGvV,MAAM4D,QAAU,EAC3BQ,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,aACZa,EAAa,WACbhB,EACEvL,aACSC,SAAS,KAClBxE,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAWwJ,WAClD,MACD,KAAK,EACJQ,EAAQ,GAAGvV,MAAM4D,QAAU,EAC3BQ,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,aACZa,EAAa,WACbhB,EACEvL,aACSC,SAAS,KAClBxE,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAWuJ,WAClD,MACD,KAAK,EACJS,EAAQ,GAAGvV,MAAM4D,QAAU,EAC3BQ,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,wBACZa,EAAa,WACbhB,EACEvL,aACSC,SAAS,KAClBxE,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAWsJ,WAClD,MACD,KAAK,EACJU,EAAQ,GAAGvV,MAAM4D,QAAU,EAC3BQ,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,6BACZa,EAAa,WACbhB,EACEvL,aACSC,SAAS,KAClBxE,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAWqJ,cAsClD7H,WAhCF,SAAwBH,GAEvB,OAAOA,EAASC,OAChB,KAAK,EACJ0I,EAAQ,GAAGvV,MAAM4D,QAAU,GAC3B,MACD,KAAK,EACJ2R,EAAQ,GAAGvV,MAAM4D,QAAU,GAC3B,MACD,KAAK,EACJ2R,EAAQ,GAAGvV,MAAM4D,QAAU,GAC3B,MACD,KAAK,EACJ2R,EAAQ,GAAGvV,MAAM4D,QAAU,GAC3B,MACD,KAAK,EACJ2R,EAAQ,GAAGvV,MAAM4D,QAAU,QTjY/B,SAAS4R,UAAUC,GAKlB,IAAIxR,EAAQhG,SAASK,cAAc,WAAWiD,YACxC2C,EAAS,IAOXC,EAAMC,GAAGC,OAAOoR,GAClBnR,OAAO,OACPC,KAAK,SAAUL,GACfK,KAAK,QAASN,GAGZO,EAAIL,EAAIG,OAAO,KACjBC,KAAK,YAAa,aAAeN,EAAM,EAAK,SAM9CG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAQd,IAAIQ,EAAahB,GAAGiB,kBAClBC,MAAM,IAAKlB,GAAGmB,SAASC,SAAS,MAChCF,MAAM,IAAKlB,GAAGwB,SAASJ,SAAS,MAChCF,MAAM,UAAWlB,GAAG0B,aAAa,IACjCR,MAAM,SAAUlB,GAAG2B,gBAAgBP,UAAU,IAI3CX,EAAYT,GAAGU,eACjBC,OAAO,CAAC,QAAS,UAAW,UAAW,UAAW,aAAc,YAChEC,MAAM,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,YAIhEZ,GAAGa,IAAI,wBAAwBC,KAAK,SAASC,GAI5C,IAAImB,EAAU9B,EAAEF,OAAO,KACrBiC,UAAU,WAGZ,SAASqI,EAAW8G,IAInBpP,EAAUA,EAAQnB,KAAKuQ,IAEflP,OAAOrH,SAEfmH,EAAUA,EACRG,QAAQnC,OAAO,UACfC,KAAK,QAAS,UACdA,KAAK,IAAI,GACTA,KAAK,OAAQ,SAAClB,GAAK,OAAOwB,EAAUxB,EAAEsC,YACtCe,MAAMJ,GAIRlB,EAAWuB,MAAM+O,GACf9O,GAAG,OAAQ+O,GAcd,SAASA,IACRrP,EACE/B,KAAK,KAAO,SAAClB,GAAK,OAAOA,EAAEoC,IAC3BlB,KAAK,KAAO,SAAClB,GAAK,OAAOA,EAAEwC,EAAE,KAIhCS,EACEM,GAAG,QAAU,SAACvD,GACdtF,QAAQC,IAAIqF,KAGd,IAAIuS,EAAsB,CACzBC,EAAI,CAACpQ,EAAG,GAAGxB,EAAM,EAAG4B,EAAG3B,KACvB4R,EAAI,CAACrQ,EAAG,GAAGxB,EAAM,EAAG4B,EAAG3B,MAIpBwB,EAAsB,CACzBM,QAAU,CAACP,GAAI,EAAExB,EAAM,EAAG4B,EAAG3B,KAC7B+B,QAAU,CAACR,GAAIxB,EAAM,EAAG4B,EAAG3B,KAC3BgC,QAAU,CAACT,EAAG,EAAGI,EAAG3B,KACpBiC,WAAa,CAACV,EAAGxB,EAAM,EAAG4B,EAAG3B,KAC7BkC,QAAU,CAACX,EAAG,EAAExB,EAAM,EAAG4B,EAAG3B,KAC5BmC,MAAQ,CAACZ,EAAE,EAAEI,EAAE,KAkBf1B,EACEG,OAAO,QACPC,KAAK,QAAQ,sBACbA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAK,sBAGP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAK,IACVA,KAAK,KAAK,GACVA,KAAK,KAAK,KACVA,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAK,IACVA,KAAK,KAAK,IACVA,KAAK,KAAK,KACVA,KAAK,KAAK,IACVA,KAAK,SAAU,QASF,mBAAZkR,IAGH7G,EAAWzJ,GAEXC,EAAWE,MAAM,IAAKlB,GAAGmB,SAASC,SAAS,KAAMC,EAlDlD,SAA6BpC,GAC5B,OAAOuS,EAAoBvS,EAAE2I,OAAOvG,KAmDpCL,EAAW2Q,MAAM,GAAGC,UAGpB5R,GAAGC,OAAO,aAAakC,UAAU,eAAepH,SAChDiF,GAAGC,OAAO,aAAakC,UAAU,eAAepH,SAEhDgF,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,IACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,sBAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,IACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,gCAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAG,EAAEN,EAAM,GACrBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,sBAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAG,EAAEN,EAAM,GACrBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,4BAKP+H,EADYzJ,EAAK8Q,OAAO,SAAC5S,GAAK,MAAkB,KAAXA,EAAE2I,SAIvC5G,EAAWE,MAAM,IAAKlB,GAAGmB,SAASC,SAAS,KAAMC,EAhGlD,SAA6BpC,GAC5B,OAAOqC,EAAoBrC,EAAEsC,UAAUF,KAiGvCL,EAAW2Q,MAAM,GAAGC,UAGpB5R,GAAGC,OAAO,aAAakC,UAAU,eAAepH,SAChDiF,GAAGC,OAAO,aAAakC,UAAU,eAAepH,SAEhDgF,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,mBAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,wBAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAG,EAAEN,EAAM,GACrBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,+BAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAG,EAAEN,EAAM,GACrBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,+BAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,mCAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,GAAGN,EAAM,GACnBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,6BAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAE,EAAEN,EAAM,GACpBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,oBAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAE,EAAEN,EAAM,GACpBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,aAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,sBAEP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,cACbA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAK,KACVA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,iBAIP1C,EACEG,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAM,GAAGN,EAAM,GACpBM,KAAK,KAAM,GAAGN,EAAM,GACpBM,KAAK,KAAK,KACVA,KAAK,KAAM,KACXA,KAAK,SAAU,WACfA,KAAK,eAAe,GAItBJ,EACEG,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAM,GAAG,EAAEN,EAAM,GACtBM,KAAK,KAAM,GAAG,EAAEN,EAAM,GACtBM,KAAK,KAAK,KACVA,KAAK,KAAM,KACXA,KAAK,SAAU,WACfA,KAAK,eAAe,GAEtBJ,EACEG,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAM,GAAGN,EAAM,GACpBM,KAAK,KAAM,GAAGN,EAAM,GACpBM,KAAK,KAAK,KACVA,KAAK,KAAM,KACXA,KAAK,SAAU,WACfA,KAAK,eAAe,GAEtBJ,EACEG,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAM,EAAE,EAAEN,EAAM,GACrBM,KAAK,KAAM,EAAE,EAAEN,EAAM,GACrBM,KAAK,KAAK,KACVA,KAAK,KAAM,KACXA,KAAK,SAAU,WACfA,KAAK,eAAe,GAGtBJ,EACEG,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAM,EAAEN,EAAM,GACnBM,KAAK,KAAM,EAAEN,EAAM,GACnBM,KAAK,KAAK,KACVA,KAAK,KAAM,KACXA,KAAK,SAAU,WACfA,KAAK,eAAe,MCxXzB,SAAS2R,UAAUT,GAKlB,IAAIzR,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,IAEjDC,EAAQhG,SAASK,cAAc,WAAWiD,YAI1C4C,EAAMC,GAAGC,OAAOoR,GAClBnR,OAAO,OACPC,KAAK,SALM,KAMXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAGd,IAAImC,EAAS3C,GAAG2C,OAAO,OAEvB3C,GAAGa,IAAI,wBAAwBC,KAAK,SAAUC,GAI7CA,EAAK1F,QAAQ,SAAC4D,GACbA,EAAE2D,UAAY3D,EAAE2D,SAChB3D,EAAE4D,YAAc5D,EAAE4D,WAClB5D,EAAE6D,YAAc7D,EAAE6D,WAClB7D,EAAE8D,YAAc9D,EAAE8D,WAClB9D,EAAE+D,YAAc/D,EAAE+D,aAInB,IAAIC,EAAOlC,EAAKmC,QAAQC,MAAM,EAAG,GAI3BC,EAASpD,GAAGqD,cAChB1C,OAAO,CAAC,EAAG,KACX2C,WAAW,CAAC1D,EAAaC,EAAQD,IAG7B2D,EAASvD,GAAGwD,YAChB7C,OAAOI,EAAK0C,IAAI,SAACxE,GAAQ,OAAOA,EAAEyE,WAClCJ,WAAW,CAAC1D,EA1CF,IA0CuBA,IACjC+D,aAAa,IACbC,MAAM,IAGFC,EAAS7D,GAAGU,eAChBC,OAAOsC,GACPrC,MAAM,CAAC,UAAW,UAAW,UAAW,UAAW,YAG/CkD,EAAQ9D,GAAG+D,WAAWX,GAC1BY,WAAW,SAAC/E,GAAQ,OAAOA,EAAI,OAC3BgF,EAAQjE,GAAGkE,SAASX,GACxBY,cAAc,GAGVC,EAAQpE,GAAGoE,QAIjBrE,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,eAAAkE,OA9DY,IAiEgCzE,EAH5C,MAIE0E,KAAKR,GAEP/D,EAAIE,OAAO,WACTkC,UAAU,QACVhC,KAAK,IAAK,IAEZJ,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,aAAAkE,OAGiCzE,EAHjC,QAIE0E,KAAKL,GACLhE,OAAO,WAAWlF,SAINgF,EACZoC,UAAU,UACVpB,KAAKqD,EAAMnB,KAAKA,EAAXmB,CAAiBrD,IACtBsB,QAAQnC,OAAO,KACfC,KAAK,QAAS,SACdA,KAAK,OAAS,SAAClB,GAAQ,OAAO4E,EAAO5E,EAAEsF,OAGvCpC,UAAU,QACVpB,KAAK,SAAC9B,GAAQ,OAAOA,IACrBoD,QACAnC,OAAO,QACPC,KAAK,IAAM,SAAClB,GAAQ,OAAOmE,EAAOnE,EAAE,MACpCkB,KAAK,IAAM,SAAClB,GAAQ,OAAOsE,EAAOtE,EAAE8B,KAAK2C,WACzCvD,KAAK,QAAU,SAAClB,GAAQ,OAAOmE,EAAOnE,EAAE,IAAMmE,EAAOnE,EAAE,MACvDkB,KAAK,SAAUoD,EAAOiB,aAIxBzE,EACEG,OAAO,QACPC,KAAK,QAAS,SACdA,KAAK,YACL,cAAgBN,EAAQD,GAAgB,MAxG9B,IAwG+CA,EAAgB,GAAK,KAC9EhE,MAAM,cAAe,OACrBuE,KAAK,OAAQ,WACbsC,KAAK,6CAIP,IAAIgC,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAMhBH,GAAGmC,UAAU,QACXK,GAAG,YAAa,SAAUvD,GAC1BwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,IAAM,MACpCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,6FAAAT,OAG4D1B,EAAO1D,EAAE8B,KAAK6B,UAH1E,4GAAAyB,OAK+D1B,EAAO1D,EAAE8B,KAAK8B,YAL7E,2GAAAwB,OAO8D1B,EAAO1D,EAAE8B,KAAK+B,YAP5E,4FAAAuB,OAS+C1B,EAAO1D,EAAE8B,KAAKgC,YAT7D,6FAAAsB,OAWgD1B,EAAO1D,EAAE8B,KAAKiC,YAX9D,mDAiBAR,GAAG,WAAY,SAAUvD,GACzBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,OKlIvBX,OAAOD,iBAAiB,SAAS,WAChC4S,yBAsfD3S,OAAOD,iBAAiB,OAAQ,WAC0C,QAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7DkQ,WC7MFgB,SC8GA5T,OAAOD,iBAAiB,OAAQ,WAC0C,QAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7DgS,YCpBF1U,OAAOD,iBAAiB,OAAQ,WAC0C,QAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7D4S,YT/BuE,SAAtEtL,iBAAiBpL,SAASK,cAAc,mBAAmByD,UAE7DyT,UAAU,mBACVA,UAAU,oBC3NXnW,OAAOD,iBAAiB,OAAQ,WAC0C,SAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7DmU,UAAU,mBCjLZ,IAAIC,eAAiB,CAAC,YAAa,YAAa,YAAa,YAAa,YAAa,aAEnFC,WAAanY,SAASK,cAAc,aACpC+X,YAAcpY,SAASK,cAAc,gBAErCgY,kBAAoBrY,SAASK,cAAc,qBAW/C,SAASiY,UAAUd,GAIlB,IAAIzR,EAA6C,GAE7CC,EAAQhG,SAASK,cAAc,WAAWiD,YAK1C4C,EAAMC,GAAGC,OAAOoR,GAClBnR,OAAO,OACPC,KAAK,SANM,KAOXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAMd+E,QAAQC,IAAI,CACXxF,GAAGyF,KAAK,6BACRzF,GAAGyF,KAAK,6BACRzF,GAAGyF,KAAK,6BACRzF,GAAGyF,KAAK,6BACRzF,GAAGyF,KAAK,6BACRzF,GAAGyF,KAAK,+BACN3E,KAAK,SAASC,GAIhB,IAAM2E,EAAwBC,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQC,aAClEC,EAAwBJ,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQG,aAClEC,EAAwBN,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQK,aAClEC,EAAwBR,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQO,aAClEC,EAAwBV,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQS,aAClEC,EAAwBZ,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQW,aAGlEC,EAAazG,GAAG0G,oBACpBC,QAAQ,CAAC9G,EAxCC,KAwCa6F,GAEnBkB,EAAO5G,GAAG6G,UACdJ,WAAWA,GAETrG,EAAIL,EAAIG,OAAO,KAGf4G,EAAS9G,GAAGU,eACdC,OAAO,CAAC,SAAS,QAAQ,OAAO,MAAM,MAAM,MAAM,UAClDC,MAAM,CAAC,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,YAoCrE,SAASoG,EAAcjG,EAAMkG,GAI5BlH,EACEG,OAAO,QACPC,KAAK,QAAQ,8BACbA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAKwE,GAIE7G,EACP+B,UAAU,OACVpB,KAAKA,GACLmG,KAAK,QACL/G,KAAK,IAAKyG,GACVzG,KAAK,QAAS,MACdA,KAAK,SAAS,SACdA,KAAK,eAAe,IACpBA,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAWC,UArDlDrH,EACEG,OAAO,QACPC,KAAK,QAAQ,sBACbA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAK,WAGP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,GACVA,KAAK,KAAK,KACVA,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,IACVA,KAAK,KAAK,KACVA,KAAK,KAAK,IACVA,KAAK,SAAU,QAkClBJ,EACEuE,KAAKtE,GAAGqH,OACP7E,GAAG,OAAQ,WACXpC,EAAED,KAAK,YAAaH,GAAGjB,MAAMuI,aAE7BC,YAAY,CAAC,EAAE,IACfC,gBAAgB,CAAC,CAAC,EAAE,GAAG,CAAC3H,EAxHf,QAwMZmS,WAAWvK,UAIX,IAAI2K,EAAyB,WAC5B,IAAIzK,EAAkBqK,WAAWpK,MAAQoK,WAAWnK,IACpDqK,kBAAkBtW,MAAMmB,KAAQ4K,EAAiBqK,WAAWxX,wBAAwBqF,MAAO,YAAe,MAG3GmH,EAAcT,EAAsBuB,SAASiK,eAAe,IAC5DK,IAKAJ,WAAWhX,iBAAiB,QAAQ,SAAS8D,GAI5C,OAFAsT,IAEQtT,EAAEpD,OAAOkM,OACjB,IAAK,IACJ5H,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDiM,EAActB,EAAsBoC,SAASiK,eAAe,IAC5D,MACD,IAAK,IACJ/R,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDiM,EAAcjB,EAAsB+B,SAASiK,eAAe,IAC5D,MACD,IAAK,IACJ/R,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDiM,EAAcf,EAAsB6B,SAASiK,eAAe,IAC5D,MACD,IAAK,IACJ/R,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDiM,EAAcb,EAAsB2B,SAASiK,eAAe,IAC5D,MACD,IAAK,IACJ/R,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDiM,EAAcX,EAAsByB,SAASiK,eAAe,IAC5D,MACD,IAAK,IACJ/R,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDiM,EAAcT,EAAsBuB,SAASiK,eAAe,SAlQhEE,YAAYxK,QAAU,WAErByK,kBAAkBtJ,UAAYmJ,eAAelJ,KAAKjB,QAKnDqK,YAAYxK,UA4QZxM,OAAOD,iBAAiB,OAAQ,WAC0C,SAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7DwU,UAAU,mBC9RZ,IAAIE,gBAAkB,CAAC,YAAa,YAAa,YAAa,YAAa,YAAa,aAEpFC,WAAazY,SAASK,cAAc,aACpCqY,YAAc1Y,SAASK,cAAc,gBAErCsY,kBAAoB3Y,SAASK,cAAc,qBAE/CqY,YAAY9K,QAAU,WAErB+K,kBAAkB5J,UAAYyJ,gBAAgBxJ,KAAKjB,QAQpD0K,WAAW7K,UAGX,IAAIgL,wBAA0B,WAC7B,IAAI9K,EAAkB4K,YAAY3K,MAAQ2K,YAAY1K,IACtD2K,kBAAkB5W,MAAMmB,KAAQ4K,EAAiB4K,YAAY/X,wBAAwBqF,MAAO,YAAe,MAe5G,SAAS6S,UAAUrB,GAIlB,IAAIzR,EAAc,GAAdA,EAAwB,GAAxBA,EAAmC,GAAnCA,EAA6C,GAE7CC,EAAQhG,SAASK,cAAc,WAAWiD,YAI1C4C,EAAMC,GAAGC,OAAOoR,GAClBnR,OAAO,OACPC,KAAK,SALM,KAMXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAGd,IAAImC,EAAS3C,GAAG2C,OAAO,OACnB2G,EAAYtJ,GAAG2C,OAAO,QACtB4G,EAAUvJ,GAAG2C,OAAO,IAKxB3C,GAAGa,IAAI,wBAAwBC,KAAK,SAASC,GAG5CA,EAAK1F,QAAQ,SAAC4D,GACbA,EAAEuK,cAAgBvK,EAAEuK,aACpBvK,EAAEwK,cAAgBxK,EAAEwK,aACpBxK,EAAEyK,cAAgBzK,EAAEyK,aACpBzK,EAAE0K,cAAgB1K,EAAE0K,aACpB1K,EAAE2K,cAAgB3K,EAAE2K,aACpB3K,EAAE4K,cAAgB5K,EAAE4K,aACpB5K,EAAE6K,aAAe7K,EAAE6K,YACnB7K,EAAE8K,aAAe9K,EAAE8K,YACnB9K,EAAE+K,aAAe/K,EAAE+K,YACnB/K,EAAEgL,aAAehL,EAAEgL,YACnBhL,EAAEiL,aAAejL,EAAEiL,YACnBjL,EAAEkL,aAAelL,EAAEkL,cAKpB,IAAIrD,EAAS9G,GAAGU,eACdC,OAAO,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KACrD,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,OAC9BC,MAAM,CAAC,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAC7E,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,YAI9EqC,EAAOlC,EAAKmC,QAAQC,MAAM,EAAE,IAG5B0E,EAAM7H,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAK,OAAOe,GAAG6H,IAAI5E,EAAK,SAACsB,GAAO,OAAOtF,EAAEsF,OAC7D6F,EAAMpK,GAAGoK,IAAIrJ,EAAM,SAAC9B,GAAK,OAAOe,GAAGoK,IAAInH,EAAK,SAACsB,GAAO,OAAOtF,EAAEsF,OAE7D8F,EAAStJ,EAAKmC,QAAQC,MAAM,EAAE,GAC9BmH,EAAStK,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAM,OAAOe,GAAG6H,IAAIwC,EAAQ,SAAC9F,GAAQ,OAAOtF,EAAEsF,OAInEnB,EAASpD,GAAGqD,cAChB1C,OAAO,CAACyJ,EAAIvC,IACZjH,MAAM,CAAChB,EAAaC,EAAMD,IAC1B2K,OAEIzG,EAAQ9D,GAAG+D,WAAWX,GAC1Be,cAAc,GACdH,WAAW,SAAC/E,GAAM,OAAOsK,EAAQtK,GAAG,OAwFtC,SAASuL,EAAWC,EAASC,EAAUzD,GAEtClH,EACEG,OAAO,QACPC,KAAK,QAAQ,8BACbA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAKwE,GASP,IANA,IAAIjG,EAAahB,GAAGiB,gBAAgBF,GAClCG,MAAM,IAAKlB,GAAGmB,OAAO,SAAClC,GAAM,OAAOmE,EAAOnE,EAAEwL,MAAarJ,SAAS,IAClEF,MAAM,IAAKlB,GAAGwB,OAAO1B,IAAWF,EAAc,IAC9CsB,MAAM,UAAWlB,GAAG0B,eAAeiJ,OAAO,SAAC1L,GAAK,OAAsC,GAA/B2L,KAAKC,KAAK5L,EAAEyL,GAAUJ,MAC7EQ,OAEOnQ,EAAE,EAAGA,EAAEoG,EAAKnG,OAAOD,IAAKqG,EAAW+J,OAE5C,IAAIC,EAAajL,EAAIoC,UAAU,YAC7BpB,KAAKA,EAAO,SAAC9B,GAAM,OAAOA,EAAEgM,SAG9BD,EAAW5I,OACTsC,aACAC,SAAS,KACTxE,KAAK,KAAM,GACXA,KAAK,KAAML,IAAWF,EAAc,GACpC7E,SAGF,IAAIqF,EAAI4K,EACN3I,QACAnC,OAAO,KACPC,KAAK,KAAO,SAAClB,GAAM,MAAO,KAAOA,EAAEgM,SAGrC7K,EAAEF,OAAO,UACPC,KAAK,QAAS,WACdA,KAAK,IAAI,GACTA,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEoC,IAC5BlB,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEwC,IAC5BtB,KAAK,OAAQ,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEgM,UACpC3I,MAAM0I,GACNtG,aACAC,SAAS,MACTxE,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEoC,IAC5BlB,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEwC,IAC5BtB,KAAK,IAAI,SAAClB,GAAK,OAAsC,GAA/B2L,KAAKC,KAAK5L,EAAEyL,GAAUJ,KAS9C,IAAI7F,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAMhBC,EACEoC,GAAG,YAAa,SAASvD,GACzBwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,gCAAAT,OAEiBpF,EAAEiM,OAFnB,0HAAA7G,OAKWiF,EAAUrK,EAAEyL,IALvB,kGAAArG,OAOW1B,EAAO1D,EAAEwL,IAPpB,qDAYAzK,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAGtBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAInBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,KArLxBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,sBACbA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAK,WAGP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,GACVA,KAAK,KAAK,KACVA,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,IACVA,KAAK,KAAK,KACVA,KAAK,KAAK,IACVA,KAAK,SAAU,QAoClBJ,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,eAAAkE,OAvIY,IA0I8BzE,EAH1C,MAIE0E,KAAKR,GAEP/D,EAAIE,OAAO,WACTkC,UAAU,QACVhC,KAAK,IAAK,IAIZJ,EACEG,OAAO,QACPC,KAAK,KAAMiD,EAAO,IAClBjD,KAAK,KAAMiD,EAAO,IAClBjD,KAAK,KAAMP,GACXO,KAAK,KAxJK,IAwJQP,GAClBO,KAAK,SAAU,QACfA,KAAK,eAAe,GA4GtB,IAAIgL,EAAepL,EACjBG,OAAO,KACPC,KAAK,QAAQ,iBAEfgL,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAI,EAAEN,EAAM,EAAE,IACnBM,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAK,iCAGP0I,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,EAAE,IACrBM,KAAK,KAAMP,EAAW,IACtBO,KAAK,IAA8B,GAAzByK,KAAKC,KAAKP,EAAOA,IAE7Ba,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,EAAE,IACrBM,KAAK,KAAMP,EAAW,GAA4B,GAAxBgL,KAAKC,KAAK,KAAMP,GAAY,GACtDnK,KAAK,IAA6B,GAAxByK,KAAKC,KAAK,KAAMP,IAE5Ba,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,EAAE,IACrBM,KAAK,KAAMP,EAAW,GAA4B,GAAxBgL,KAAKC,KAAK,KAAMP,IAC1CnK,KAAK,IAA4B,GAAvByK,KAAKC,KAAK,IAAKP,IAE3Ba,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,EAAE,IACpBM,KAAK,IAAKP,EAAW,EAAE,IACvB6C,KAAK6G,EAAUgB,IAEjBa,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,EAAE,IACpBM,KAAK,IAAKP,EAAW,EAA0B,GAAxBgL,KAAKC,KAAK,KAAMP,GAAW,IAClD7H,KAAK6G,EAAU,MAEjB6B,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,EAAE,IACpBM,KAAK,IAAMP,EAAW,EAAE,EAAEgL,KAAKC,KAAK,KAAMP,GAAQ,GAAG,IACrD7H,KAAK6G,EAAU,MAGjBkB,EAAW,cAAe,eAAgB6H,gBAAgB,IAC1DI,0BAEAH,WAAWtX,iBAAiB,QAAQ,SAAS8D,GAE5C,OADA2T,0BACQ3T,EAAEpD,OAAOkM,OACjB,IAAK,IACJ5H,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,cAAe,eAAgB6H,gBAAgB,IAC1D,MACD,IAAK,IACJrS,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,cAAe,eAAgB6H,gBAAgB,IAC1D,MACD,IAAK,IACJrS,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,cAAe,eAAgB6H,gBAAgB,IAC1D,MACD,IAAK,IACJrS,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,cAAe,eAAgB6H,gBAAgB,IAC1D,MACD,IAAK,IACJrS,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,cAAe,eAAgB6H,gBAAgB,IAC1D,MACD,IAAK,IACJrS,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,cAAe,eAAgB6H,gBAAgB,SCpY9D,SAASM,UAAUtB,GAIlB,IAEIxR,EAAQhG,SAASK,cAAc,WAAWiD,YAK1C4C,EAAMC,GAAGC,OAAOoR,GAClBnR,OAAO,OACPC,KAAK,SANM,KAOXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAGd,IAAImC,EAAS3C,GAAG2C,OAAO,OAGvB4C,QAAQC,IAAI,CACXxF,GAAGyF,KAAK,qBACRzF,GAAGyF,KAAK,yBACRzF,GAAGa,IAAI,0BACLC,KAAK,SAASC,GAOhB,IAJA,IAAMyK,EAAoB7F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQ4F,eAC9DC,EAAuB/F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQ8F,mBAG9DhR,EAAE,EAAGA,EAAGoG,EAAK,GAAGnG,OAAOD,IAE/B,IADA,IAAMiR,EAAQ7K,EAAK,GAAGpG,GAAGkR,OAChBC,EAAE,EAAGA,EAAEN,EAAkB1D,SAASlN,OAAOkR,IAAI,CAErD,GAAIF,IADSJ,EAAkB1D,SAASgE,GAAG3E,WAAW0E,OAChC,CACrBL,EAAkB1D,SAASgE,GAAG3E,WAAW4E,YAAchL,EAAK,GAAGpG,GAAGoR,YAClEP,EAAkB1D,SAASgE,GAAG3E,WAAW6E,YAAcjL,EAAK,GAAGpG,GAAGqR,YAClER,EAAkB1D,SAASgE,GAAG3E,WAAW8E,MAAQlL,EAAK,GAAGpG,GAAGsR,MAC5D,OAMH,IAAInF,EAAS9G,GAAGU,eACdC,OAAO,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,QACxDC,MAAM,CAAC,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,YAInF6F,EAAazG,GAAG0G,oBACpBC,QAAQ,CAAC9G,EApDC,KAoDa2L,GAEnB5E,EAAO5G,GAAG6G,UACdJ,WAAWA,GAGTrG,EAAIL,EAAIG,OAAO,KAIfgM,EAAM9L,EAAEF,OAAO,KACjBC,KAAK,QAAS,SACdgC,UAAU,QACVpB,KAAKyK,EAAkB1D,UACvBZ,KAAK,QACL/G,KAAK,IAAKyG,GACVzG,KAAK,QAAS,OACdA,KAAK,SAAS,SACdA,KAAK,eAAe,IACpBA,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAW8E,SAGrC7L,EAAEF,OAAO,KACpBC,KAAK,QAAQ,SACbD,OAAO,QACPiM,MAAMT,GACNvL,KAAK,IAAKyG,GACVzG,KAAK,QAAS,UAGhBJ,EACEuE,KAAKtE,GAAGqH,OACPE,YAAY,CAAC,EAAE,IACfC,gBAAgB,CAAC,CAAC,EAAE,GAAG,CAAC3H,EArFf,OAsFT2C,GAAG,OAKN,WACCpC,EAAED,KAAK,YAAaH,GAAGjB,MAAMuI,aAL3B9E,GAAG,QAQN,WACC0J,EACE1J,GAAG,YAAY,QATfA,GAAG,MAaN,WACC0J,EACE1J,GAAG,YAAa,SAASvD,GACzBtF,QAAQC,IAAIqF,GACZwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,IAAM,MACpCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,gCAAAT,OAEiBpF,EAAEkI,WAAWiF,OAF9B,uIAAA/H,OAKgC1B,EAAO1D,EAAEkI,WAAW4E,aALpD,iFAAA1H,OAOgC1B,EAAO1D,EAAEkI,WAAW6E,aAPpD,qDAYAhM,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,SAWzB,IAAIsE,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAMhB+L,EACE1J,GAAG,YAAa,SAASvD,GACzBtF,QAAQC,IAAIqF,GACZwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,IAAM,MACpCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,8BAAAT,OAEiBpF,EAAEkI,WAAWiF,OAF9B,gIAAA/H,OAKgC1B,EAAO1D,EAAEkI,WAAW4E,aALpD,6EAAA1H,OAOgC1B,EAAO1D,EAAEkI,WAAW6E,aAPpD,iDAYAhM,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAItBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAGnBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,OCzL1B,SAASyS,UAAUvB,GAIlB,IAAIzR,EAAc,GAAdA,EAAwB,GAAxBA,EAAmC,GAAnCA,EAA6C,GAE7CC,EAAQhG,SAASK,cAAc,WAAWiD,YAI1C4C,EAAMC,GAAGC,OAAOoR,GAClBnR,OAAO,OACPC,KAAK,SALM,KAMXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAGd,IAAI+I,EAAUvJ,GAAG2C,OAAO,IAGxB3C,GAAGa,IAAI,wBAAwBC,KAAK,SAASC,GAG5CA,EAAK1F,QAAQ,SAAC4D,GACbA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,KACdA,EAAE,MAAUA,EAAE,OAIf,IAAIgE,EAAOlC,EAAKmC,QAAQC,MAAM,EAAE,IAG5B0E,EAAM7H,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAK,OAAOe,GAAG6H,IAAI5E,EAAK,SAACsB,GAAO,OAAOtF,EAAEsF,OAC7D6F,EAAMpK,GAAGoK,IAAIrJ,EAAM,SAAC9B,GAAK,OAAOe,GAAGoK,IAAInH,EAAK,SAACsB,GAAO,OAAOtF,EAAEsF,OAM3DnB,EAASpD,GAAGqD,cAChB1C,OAAOX,GAAGuM,OAAOxL,EAAO,SAAC9B,GAAK,OAAOA,EAAEuN,QACvC5L,MAAM,CAAChB,EAAaC,EAAMD,IAEtB2D,EAASvD,GAAGqD,cAChB1C,OAAO,CAACyJ,EAAIvC,IAAM0C,OAClB3J,MAAM,CAnDI,IAmDIhB,EAAeA,IAGzBkE,EAAQ9D,GAAG+D,WAAWX,GAC1Be,cAAc,GAEVF,EAAQjE,GAAGkE,SAASX,GACxBkJ,MAAM,GACNtI,cAAc,GACdH,WAAW,SAAC/E,GAAK,OAAOsK,EAAQtK,GAAG,OAKrCc,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,eAAAkE,OAjEY,IAoE8BzE,EAH1C,MAIE0E,KAAKR,GAEP/D,EAAIE,OAAO,WACTkC,UAAU,QACVhC,KAAK,IAAK,IAIZJ,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,aAAAkE,OAGgCzE,EAHhC,QAIE0E,KAAKL,GAIPlE,EAAIE,OAAO,WACTkC,UAAU,QACVhC,KAAK,KAAK,IACVA,KAAK,KAAK,GAKZ,IAAIuM,EAAO1M,GAAG0M,OACZrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPC,EAAQ7M,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPE,EAAQ9M,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPG,EAAQ/M,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPI,EAAQhN,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPK,EAAQjN,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPM,EAAQlN,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPO,EAAQnN,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGPQ,EAAQpN,GAAG0M,OACbrL,EAAE,SAACpC,GAAK,OAAOmE,EAAOnE,EAAEuN,QACxB/K,EAAE,SAACxC,GAAK,OAAOsE,EAAOtE,EAAE,QACxB0N,MAAM3M,GAAG4M,gBAGX7M,EACEG,OAAO,QACPC,KAAK,KAAMP,GACXO,KAAK,KAAMN,EAAMD,GACjBO,KAAK,KAAMoD,EAAO,IAClBpD,KAAK,KAAMoD,EAAO,IAClBpD,KAAK,SAAU,QACfA,KAAK,eAAe,GAKtBJ,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,QACdA,KAAK,IAAKuM,GAEZ3M,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,QACdA,KAAK,IAAK0M,GAEZ9M,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,QACdA,KAAK,IAAK2M,GAEZ/M,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,QACdA,KAAK,IAAK4M,GAEZhN,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,QACdA,KAAK,IAAK6M,GAEZjN,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,QACdA,KAAK,IAAK8M,GAEZlN,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,QACdA,KAAK,IAAK+M,GAEZnN,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,QACdA,KAAK,IAAKgN,GAEZpN,EACEG,OAAO,QACPiM,MAAMpL,GACNZ,KAAK,QAAS,QACdA,KAAK,IAAKiN,GAIZ,IAAMC,EAAQ,CAAC,UAAU,UAAU,UAAU,UAC5C,UAAU,UAAU,UAAU,UAAU,WAErCC,EAAQzT,SAASG,iBAAiB,SAEtCuB,MAAMC,KAAK8R,GAAOjS,QAAQ,SAACI,EAAGd,GAC7Bc,EAAG8R,aAAa,SAASF,EAAM1S,MAkChC,IAAI8J,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAMhBH,GAAGmC,UAAU,YACXK,GAAG,YAAa,SAASvD,EAAEtE,GAS3B,OARA8J,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QAEdjB,GACR,KAAK,EACJ8J,EACEK,KADF,4EAIA,MACD,KAAK,EACJL,EACEK,KADF,yFAIA,MACD,KAAK,EACJL,EACEK,KADF,mHAIA,MACD,KAAK,EACJL,EACEK,KADF,4EAIA,MACD,KAAK,EACJL,EACEK,KADF,0FAIA,MACD,KAAK,EACJL,EACEK,KADF,4EAIA,MACD,KAAK,EACJL,EACEK,KADF,0FAIA,MACD,KAAK,EACJL,EACEK,KADF,+FAIA,MACD,KAAK,EACJL,EACEK,KADF,0GASD9E,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAGtBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAInBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,OFlU1BlF,OAAOD,iBAAiB,SAAS,WAChCyX,4BA2XDxX,OAAOD,iBAAiB,OAAQ,WAC0C,SAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7D+U,UAAU,mBClNZzX,OAAOD,iBAAiB,OAAQ,WAC0C,SAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7DgV,UAAU,mBC6KZ1X,OAAOD,iBAAiB,OAAQ,WAC0C,SAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7DiV,UAAU,mBC5XZ,IAAIC,gBAAkB,CAAC,YAAa,YAAa,YAAa,YAAa,YAAa,aAEpFC,WAAajZ,SAASK,cAAc,aACpC6Y,YAAclZ,SAASK,cAAc,gBAErC8Y,kBAAoBnZ,SAASK,cAAc,qBAE/C4Y,WAAWrL,QAAU,WACpBuL,kBAAkBpK,UAAYiK,gBAAgBhK,KAAKjB,QAOpDkL,WAAWrL,UAIX,IAAIwL,wBAA0B,WAC7B,IAAItL,EAAkBmL,WAAWlL,MAAQkL,WAAWjL,IACpDmL,kBAAkBpX,MAAMmB,KAAQ4K,EAAiBmL,WAAWtY,wBAAwBqF,MAAO,YAAe,MAe3G,SAASqT,UAAU7B,GAIlB,IAAIzR,EAAc,IAAdA,EAAyB,GAAzBA,EAAoC,GAApCA,EAA8C,GAE9CC,EAAQhG,SAASK,cAAc,WAAWiD,YAI1C4C,EAAMC,GAAGC,OAAOoR,GAClBnR,OAAO,OACPC,KAAK,SALM,KAMXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAGd,IAAImC,EAAS3C,GAAG2C,OAAO,OAEnB4G,GADYvJ,GAAG2C,OAAO,QACZ3C,GAAG2C,OAAO,KAExB3C,GAAGa,IAAI,wBAAwBC,KAAK,SAASC,GAG5CA,EAAK1F,QAAQ,SAAC4D,EAAEtE,GACf,IAAK,IAAI4J,KAAOtF,GACVA,EAAEsF,KAAQtF,EAAEsF,KAChBtF,EAAEsF,IAAQtF,EAAEsF,MAOf,IAAIuJ,EAAQ/M,EAAKmC,QAAQC,MAAM,GAAG,IAC9B4K,EAAQhN,EAAKmC,QAAQC,MAAM,GAAG,IAC9BkH,EAAStJ,EAAKmC,QAAQC,MAAM,EAAE,GAC9B6K,EAAWjN,EAAKmC,QAAQC,MAAM,EAAE,IAGhC8K,EAAOjO,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAK,OAAOe,GAAG6H,IAAIiG,EAAM,SAACvJ,GAAO,OAAOtF,EAAEsF,OAC/D2J,EAAOlO,GAAGoK,IAAIrJ,EAAM,SAAC9B,GAAK,OAAOe,GAAGoK,IAAI0D,EAAM,SAACvJ,GAAO,OAAOtF,EAAEsF,OAE/D4J,EAAOnO,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAK,OAAOe,GAAG6H,IAAIkG,EAAM,SAACxJ,GAAO,OAAOtF,EAAEsF,OAC/D6J,EAAOpO,GAAGoK,IAAIrJ,EAAM,SAAC9B,GAAK,OAAOe,GAAGoK,IAAI2D,EAAM,SAACxJ,GAAO,OAAOtF,EAAEsF,OAE/D+F,EAAStK,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAM,OAAOe,GAAG6H,IAAIwC,EAAQ,SAAC9F,GAAQ,OAAOtF,EAAEsF,OAErE8J,EAAWrO,GAAGoK,IAAIrJ,EAAM,SAAC9B,GAAK,OAAOe,GAAGoK,IAAI4D,EAAS,SAACzJ,GAAO,OAAOtF,EAAEsF,OACtE+J,EAAWtO,GAAG6H,IAAI9G,EAAM,SAAC9B,GAAM,OAAOe,GAAG6H,IAAImG,EAAU,SAACzJ,GAAQ,OAAOtF,EAAEsF,OAGvEnB,EAASpD,GAAGqD,cAChB1C,OAAO,CAACuN,EAAMD,IACdrN,MAAM,CAAChB,EAAaC,EAAMD,IAAe2K,OAIrChH,EAASvD,GAAGqD,cAChB1C,OAAO,CAACyN,EAAMD,IACdvN,MAAM,CA3DI,IA2DIhB,EAAeA,IAAa2K,OAGtCzG,EAAQ9D,GAAG+D,WAAWX,GAC1BqJ,MAAM,GACNtI,cAAc,GACdH,WAAW,SAAC/E,GAAK,OAAOsK,EAAQtK,GAAG,OAE/BgF,EAAQjE,GAAGkE,SAASX,GACxBkJ,MAAM,GACNtI,cAAc,GACdH,WAAW,SAAC/E,GAAK,OAAOsK,EAAQtK,GAAG,OAGrCc,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,eAAAkE,OAzEY,IA4E8BzE,EAH1C,MAIE0E,KAAKR,GAEP/D,EACEE,OAAO,WACPkC,UAAU,QACVhC,KAAK,IAAK,IAGZJ,EACEG,OAAO,KACPC,KAAK,QAAS,eACdA,KAAK,YAHP,aAAAkE,OAGgCzE,EAHhC,QAIE0E,KAAKL,GAIPlE,EACEG,OAAO,QACPC,KAAK,KAAMiD,EAAO,IAClBjD,KAAK,KAAMiD,EAAO,IAClBjD,KAAK,KAAMP,GACXO,KAAK,KAlGK,IAkGQP,GAClBO,KAAK,SAAU,QACfA,KAAK,eAAe,GAItBJ,EACEG,OAAO,QACPC,KAAK,KAAMP,GACXO,KAAK,KAAMN,EAAMD,GACjBO,KAAK,KAAMoD,EAAO,IAClBpD,KAAK,KAAMoD,EAAO,IAClBpD,KAAK,SAAU,QACfA,KAAK,eAAe,GAItB,IAAMoO,EAAavO,GAAGqD,cACpB1C,OAAO,CAAC0N,GAAW,IAAM,EAAG,GAAK,EAAGC,IACpC1N,MAAM,CAAC,UAAW,UAAU,UAAU,UAAU,YAG5C4N,EAAexO,GAAGU,eACtBC,OAAO,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KACvCC,MAAM,CAAC,UAAU,UAAU,UAAU,UACrC,UAAU,UAAU,UAAU,UAAU,YAKzCb,EACEG,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,QAAQ,sBACbA,KAAK,IAAIP,GACTO,KAAK,IAAI,IACTsC,KAAK,WAGP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,GACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,IACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,IACVA,KAAK,SAAU,QAIjBJ,EACEG,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,QAAQ,SACbA,KAAK,IAAIP,EAAW,EAAE,IACtBO,KAAK,IAAKP,EAAY,GACtBhE,MAAM,cAAe,SACrB6G,KAAK,qCAGP1C,EACEG,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,QAAQ,SACbA,KAAK,IAAIP,EAAW,EAAE,IACtBO,KAAK,IAAKP,EAAY,GACtBhE,MAAM,cAAe,SACrB6G,KAAK,oCAIP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,SACbA,KAAK,YACL,cAAiBN,EAAMD,GAAiB,MAtL/B,IAsL8CA,EAAc,GAAK,KAC1EhE,MAAM,cAAe,OACrBuE,KAAK,OAAQ,WACbsC,KAAK,qCAGP1C,EACEG,OAAO,QACPC,KAAK,QAAQ,SACbA,KAAK,YACL,cAAiBN,EAAMD,GAAiB,MAhM/B,IAgM8CA,EAAc,EAAE,IAAM,KAC7EhE,MAAM,cAAe,OACrBuE,KAAK,OAAQ,WACbsC,KAAK,wBAYR,IAAIgM,EAAc1O,EAAIoC,UAAU,WAC9BpB,KAAKwN,EAAW3N,SAChByB,QACAnC,OAAO,KACPC,KAAK,QAAS,UAkDhB,SAASqK,EAAWE,EAAUgE,EAAaC,EAAYC,EAAY3H,GAElElH,EACEG,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,QAAQ,8BACbA,KAAK,IAAI,GAAGP,GACZO,KAAK,IAAI,IACTsC,KAAKwE,GASP,IALA,IAAIjG,EAAahB,GAAGiB,gBAAgBF,GAClCG,MAAM,IAAKlB,GAAGmB,OAAO,SAAClC,GAAM,OAAOmE,EAAOnE,EAAE0P,MAAgBvN,SAAS,IACrEF,MAAM,IAAKlB,GAAGwB,OAAO,SAACvC,GAAM,OAAOsE,EAAOtE,EAAE2P,MAAgBxN,SAAS,IACrE0J,OAEOnQ,EAAE,EAAGA,EAAEoG,EAAKnG,OAAOD,IAAKqG,EAAW+J,OAE5C,IAAIC,EAAajL,EAAIoC,UAAU,YAC7BpB,KAAKA,EAAO,SAAC9B,GAAM,OAAOA,EAAEgM,SAG9BD,EAAW5I,OACTsC,aACAC,SAAS,KACTxE,KAAK,KAAM,GACXA,KAAK,KAAML,IAAWF,EAAc,GACpC7E,SAGF,IAAIqF,EAAI4K,EACN3I,QACAnC,OAAO,KACPC,KAAK,KAAO,SAAClB,GAAM,MAAO,KAAOA,EAAEgM,SAGrC7K,EAAEF,OAAO,UACPC,KAAK,QAAS,WACdA,KAAK,IAAI,GACTA,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEoC,IAC5BlB,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEwC,IAC5BtB,KAAK,SAAW,SAAClB,GAAM,OAAOuP,EAAavP,EAAEgM,UAC7C9K,KAAK,eAAgB,GACrBmC,MAAM0I,GACNtG,aACAC,SAAS,MACTxE,KAAK,OAAS,SAAClB,GAAM,OAAOsP,EAAWtP,EAAEyP,MACzCvO,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEoC,IAC5BlB,KAAK,KAAO,SAAClB,GAAM,OAAOA,EAAEwC,IAC5BtB,KAAK,IAAI,SAAClB,GAAK,OAAsC,GAA/B2L,KAAKC,KAAK5L,EAAEyL,GAAUJ,KAW9C,IAAI7F,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAMhBC,EACEoC,GAAG,YAAa,SAASvD,GACzBwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,gCAAAT,OAEiBpF,EAAEiM,OAFnB,+IAAA7G,OAK4B1B,EAAO1D,EAAEyP,IALrC,4FAAArK,OAO2C1B,EAAO1D,EAAE0P,IAPpD,+FAAAtK,OAS8C1B,EAAO1D,EAAE2P,IATvD,qDAcA5O,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAGtBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAInBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,KAtJzBsO,EACEvO,OAAO,QACPC,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAO,EAAEkF,EAAM,EAAM,GAAJlF,IAEjBwF,KAAK,IAAKP,EAAW,EAAE,IACvBO,KAAK,QAAS,IACdA,KAAK,SAAU,IACfvE,MAAM,SAAU,SAChBA,MAAM,eAAgB,IACtBA,MAAM,OAAQ,SAAUqD,GAAK,OAAOA,IAGtCwP,EACEvO,OAAO,QACPC,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAO,EAAEkF,EAAM,EAAQ,GAAJlF,IAEnBwF,KAAK,MAAO,GACZA,KAAK,IAAKP,EAAW,EAAE,IACvBO,KAAK,KAAM,SACXA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAK,SAAUxD,EAAGtE,GAClB,OAAOgI,EAAO4L,EAAW5N,SAAShG,MAGpCoF,EACEG,OAAO,QACPC,KAAK,IAAK,EAAEN,EAAM,EAAI,KACtBM,KAAK,MAAO,GACZA,KAAK,IAAKP,EAAW,EAAE,IACvBO,KAAK,KAAM,SACXA,KAAK,cAAe,UACpBA,KAAK,OAAQ,WACbsC,KAAKE,EAAO4L,EAAW5N,SAAS,KAElCZ,EACEG,OAAO,QACPC,KAAK,IAAI,EAAEN,EAAM,EAAE,IACnBM,KAAK,IAAIP,EAAW,EAAE,GACtBO,KAAK,cAAe,SACpBA,KAAK,OAAQ,WACbsC,KAAK,uCAqHP,IAAI0I,EAAepL,EACjBG,OAAO,KACPC,KAAK,QAAQ,iBAEfgL,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAI,EAAEN,EAAM,GACjBM,KAAK,IAAI,IACTA,KAAK,OAAQ,WACbsC,KAAK,cAGP0I,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,GACnBM,KAAK,KAAMP,EAAW,EAAE,IACxBO,KAAK,IAA8B,GAAzByK,KAAKC,KAAKP,EAAOA,IAE7Ba,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,GACnBM,KAAK,KAAMP,EAAW,EAAE,GAA2B,GAAvBgL,KAAKC,KAAK,IAAKP,GAAY,GACvDnK,KAAK,IAA4B,GAAvByK,KAAKC,KAAK,IAAKP,IAE3Ba,EACEjL,OAAO,UACPC,KAAK,KAAM,EAAEN,EAAM,GACnBM,KAAK,KAAMP,EAAW,EAAE,GAA2B,GAAvBgL,KAAKC,KAAK,IAAKP,IAC3CnK,KAAK,IAA2B,GAAtByK,KAAKC,KAAK,IAAIP,IAE1Ba,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAKP,EAAW,EAAE,GACvB6C,KAAK,QAEP0I,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAKP,EAAW,EAAyB,GAAvBgL,KAAKC,KAAK,IAAKP,GAAW,EAAE,GACnD7H,KAAK,OAEP0I,EACEjL,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,IAAK,EAAEN,EAAM,GAClBM,KAAK,IAAMP,EAAW,EAAE,GAA0B,GAAvBgL,KAAKC,KAAK,IAAKP,IAC1C7H,KAAK,OAMP+H,EAAW,WAAY,cAAe,iBAAkB,iBAAkBqI,gBAAgB,IAC1FI,0BAEAH,WAAW9X,iBAAiB,QAAQ,SAAS8D,GAE5C,OADAmU,0BACQnU,EAAEpD,OAAOkM,OACjB,IAAK,IACJ5H,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBqI,gBAAgB,IAC1F,MACD,IAAK,IACJ7S,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBqI,gBAAgB,IAC1F,MACD,IAAK,IACJ7S,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBqI,gBAAgB,IAC1F,MACD,IAAK,IACJ7S,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBqI,gBAAgB,IAC1F,MACD,IAAK,IACJ7S,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBqI,gBAAgB,IAC1F,MACD,IAAK,IACJ7S,GAAGC,OAAOoR,GAAUlP,UAAU,kBAAkBpH,SAChDyP,EAAW,WAAY,cAAe,iBAAkB,iBAAkBqI,gBAAgB,SCvf9F,SAASM,YAER,IAAIrE,EAAWjV,SAASK,cAAc,kBAEtC4U,EAAS9T,iBAAiB,OAAQ,WAGjC,IAAI+T,EAASlV,SAASK,cAAc,WAAWiD,YAI3C6R,EAAOF,EACTG,iBACA/U,cAAc,oBAEZgV,EAAUJ,EACZG,iBACAjV,iBAAiB,aAEN8U,EACXG,iBACA/U,cAAc,mBAUhB,SAASiV,EAAmB1G,GAC3B,IAAI,IAAI9N,EAAI,EAAGA,EAAIuU,EAAQtU,OAAQD,IAC/B8N,GAAS9N,EACXuU,EAAQvU,GAAG4S,aAAa,UAAU,GAElC2B,EAAQvU,GAAG4S,aAAa,UAAU,GAZrCyB,EAAKzB,aAAa,QAAQwB,GAC1BC,EAAKzB,aAAa,SAjBJ,KAmDbvN,GAAGC,OAAO,eACRkC,UAAU,WACVK,GAAG,QAAS,WAGZxC,GAAGmC,UAAU,WAAWiN,QAAQ,UAAU,GAG1C,IAAIC,EAASrP,GAAGC,OAAO4I,MAQvB,OALAwG,EAAOD,QAAQ,UAAU,GAGVC,EAAOlP,KAAK,OAG3B,IAAK,UACJgP,EAAmB,GACnB,MACD,IAAK,aACJA,EAAmB,GACnB,MACD,IAAK,gBACJA,EAAmB,GACnB,MACD,IAAK,gBACJA,EAAmB,GACnB,MACD,IAAK,eACJA,EAAmB,QCzFzB,SAASiE,WAAW/B,GAInB,IAAIzR,EAA6C,GAE7CC,EAAQhG,SAASK,cAAc,WAAWiD,YAK1C4C,EAAMC,GAAGC,OAAOoR,GAClBnR,OAAO,OACPC,KAAK,SANM,KAOXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAMd+E,QAAQC,IAAI,CACXxF,GAAGyF,KAAK,sBACRzF,GAAGyF,KAAK,0BACRzF,GAAGa,IAAI,0BACLC,KAAK,SAASC,GAQhB,IAJA,IAAMyK,EAAoB7F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQ+J,UAC9DlE,EAAuB/F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQgK,cAG9DlV,EAAE,EAAGA,EAAGoG,EAAK,GAAGnG,OAAOD,IAE/B,IADA,IAAMiR,EAAQ7K,EAAK,GAAGpG,GAAGmV,QAChBhE,EAAE,EAAGA,EAAEN,EAAkB1D,SAASlN,OAAOkR,IAAI,CAErD,GAAIF,IADSJ,EAAkB1D,SAASgE,GAAG3E,WAAW2I,QAChC,CACrBtE,EAAkB1D,SAASgE,GAAG3E,WAAW4I,MAAQhP,EAAK,GAAGpG,GAAGoV,MAC5DvE,EAAkB1D,SAASgE,GAAG3E,WAAW6I,IAAMjP,EAAK,GAAGpG,GAAGqV,IAC1D,OAOH,IAAIlJ,EAAS9G,GAAGU,eACdC,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,MAC5BC,MAAM,CAAC,UAAU,UAAU,UAAU,UAAU,UAAU,YAGrD6F,EAAazG,GAAG0G,oBACpBC,QAAQ,CAAC9G,EApDC,KAoDa2L,GAEnB5E,EAAO5G,GAAG6G,UACdJ,WAAWA,GAETrG,EAAIL,EAAIG,OAAO,KAGf+P,EAAO7P,EAAEF,OAAO,KAClBC,KAAK,QAAQ,UACbgC,UAAU,SACVpB,KAAKyK,EAAkB1D,UACvBZ,KAAK,QACL/G,KAAK,IAAKyG,GACVzG,KAAK,QAAS,QACdA,KAAK,SAAS,SACdA,KAAK,eAAe,IACpBA,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAW4I,SAarC3P,EAAEF,OAAO,KACpBC,KAAK,QAAQ,SACbD,OAAO,QACPiM,MAAMT,GACNvL,KAAK,IAAKyG,GACVzG,KAAK,QAAS,UAmChB,SAAS+P,IACRlQ,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7C,IAAMgK,EAAa,CAAC,YAAY,gCAAiC,6BAA8B,uBAAwB,sCAAuC,sCAQ1JC,EANYhF,GAAGC,OAAO,oBACxBC,OAAO,OACPC,KAAK,QAASN,GACdM,KAAK,SAAU,KAGMgC,UAAU,WAC/BpB,KAAK+F,EAAOlG,SACZyB,QACAnC,OAAO,KACPC,KAAK,QAAS,UAGhB6E,EACE9E,OAAO,QACPC,KAAK,IAAKN,EAAM,EAAE,IAClBM,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAW,GAAJA,EAAO,KAEdwF,KAAK,QAAS,IACdA,KAAK,SAAU,IACfvE,MAAM,SAAU,SAChBA,MAAM,eAAgB,IACtBA,MAAM,OAAQ,SAAUqD,GAAK,OAAOA,IAEtC+F,EACE9E,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAKN,EAAM,EAAE,IAClBM,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAO,GAAS,GAAJA,IAEZwF,KAAK,KAAM,SACXsC,KAAK,SAAUxD,EAAGtE,GAClB,OAAOoK,EAAWpK,KAjEpBoF,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,GACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,IACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,IACVA,KAAK,SAAU,QAsDlB+P,IAIAnQ,EACEuE,KAAKtE,GAAGqH,OACPE,YAAY,CAAC,EAAE,IACfC,gBAAgB,CAAC,CAAC,EAAE,GAAG,CAAC3H,EA5Kf,OA6KT2C,GAAG,OAKN,WACCpC,EAAED,KAAK,YAAaH,GAAGjB,MAAMuI,aAL3B9E,GAAG,QAQN,WACCyN,EACEzN,GAAG,YAAY,QATfA,GAAG,MAaN,WACCyN,EACEzN,GAAG,YAAa,SAASvD,GACzBwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QAEtB6I,EACEK,KADF,gCAAAT,OAEiBpF,EAAEkI,WAAWgJ,QAF9B,oCAMAnQ,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,SAQzB,IAAIsE,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YA6ChB,SAASiQ,EAAYnJ,EAAOoG,GAC3BtN,EACEG,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,QAAQ,sBACbA,KAAK,IAAIP,GACTO,KAAK,IAAI,IACTsC,KAAKwE,GACL9G,KAAK,OAAQkN,GAMhB,OArDA4C,EACEzN,GAAG,YAAa,SAASvD,GACzBtF,QAAQC,IAAIqF,GACZwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QACtB6I,EACEK,KADF,8BAAAT,OAEiBpF,EAAEkI,WAAWgJ,QAF9B,kCAMAnQ,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAKtBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAGnBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,KAuBjBkR,GACP,IAAK,kBACJnB,IACAlQ,GAAGC,OAAOoR,GAAUlP,UAAU,iBAAiBpH,SAC/CqV,EAAY,oBAAoB,QAChCH,EACE9P,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAW4I,SAClD,MACD,IAAK,kBACJ/P,GAAGC,OAAOoR,GAAUlP,UAAU,iBAAiBpH,SAC/CqV,EAAY,sCAAuCtJ,EAAOlG,QAAQ,IAClEqP,EACE9P,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACJjJ,EAAOlG,QAAQ,GACjC,YAEL,MACD,IAAK,kBACJZ,GAAGC,OAAOoR,GAAUlP,UAAU,iBAAiBpH,SAC/CqV,EAAY,qCAAsCtJ,EAAOlG,QAAQ,IACjEqP,EACE9P,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACLjJ,EAAOlG,QAAQ,GAChC,YAEL,MACD,IAAK,kBACJZ,GAAGC,OAAOoR,GAAUlP,UAAU,iBAAiBpH,SAC/CqV,EAAY,uBAAwBtJ,EAAOlG,QAAQ,IACnDqP,EACE9P,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACLjJ,EAAOlG,QAAQ,GAChC,YAEL,MACD,IAAK,kBACJZ,GAAGC,OAAOoR,GAAUlP,UAAU,iBAAiBpH,SAC/CqV,EAAY,6BAA8BtJ,EAAOlG,QAAQ,IACzDqP,EACE9P,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACLjJ,EAAOlG,QAAQ,GAChC,YAEL,MAED,IAAK,kBACJZ,GAAGC,OAAOoR,GAAUlP,UAAU,iBAAiBpH,SAC/CqV,EAAY,gCAAiCtJ,EAAOlG,QAAQ,IAC5DqP,EACE9P,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACLjJ,EAAOlG,QAAQ,GAChC,YAEL,MAED,IAAK,kBACJZ,GAAGC,OAAO,oBAAoBkC,UAAU,KAAKpH,SAC7CiF,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,YAAatJ,EAAOlG,QAAQ,IACxCqP,EACE9P,KAAK,OAAS,SAAClB,GAEf,OAAgB,GADJA,EAAEkI,WAAW4I,MACLjJ,EAAOlG,QAAQ,GAChC,eC/VR,SAASyS,WAAWhC,GAInB,IAAIzR,EAA6C,GAE7CC,EAAQhG,SAASK,cAAc,WAAWiD,YAK1C4C,EAAMC,GAAGC,OAAOoR,GAClBnR,OAAO,OACPC,KAAK,SANM,KAOXA,KAAK,QAASN,GAIhBG,GAAGK,oBAAoB,CACtBC,QAAW,IACXC,UAAa,IACbC,SAAY,CAAC,KAMd+E,QAAQC,IAAI,CACXxF,GAAGyF,KAAK,sBACRzF,GAAGyF,KAAK,0BACRzF,GAAGa,IAAI,0BACLC,KAAK,SAASC,GAiBhB,IAbA,IAAI+F,EAAS9G,GAAGU,eACdC,OAAO,CAAC,MAAM,MAAM,MAAM,MAAM,KAChCC,MAAM,CAAC,UAAW,UAAU,UAAU,UAAU,YAM5C4K,EAAoB7F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQ+J,UAC9DlE,EAAuB/F,SAASC,QAAQ7E,EAAK,GAAIA,EAAK,GAAG8E,QAAQgK,cAI9DlV,EAAE,EAAGA,EAAGoG,EAAK,GAAGnG,OAAOD,IAE/B,IADA,IAAMiR,EAAQ7K,EAAK,GAAGpG,GAAGmV,QAChBhE,EAAE,EAAGA,EAAEN,EAAkB1D,SAASlN,OAAOkR,IAAI,CAErD,GAAIF,IADSJ,EAAkB1D,SAASgE,GAAG3E,WAAW2I,QAChC,CACrBtE,EAAkB1D,SAASgE,GAAG3E,WAAWqJ,QAAUzP,EAAK,GAAGpG,GAAG6V,QAC9DhF,EAAkB1D,SAASgE,GAAG3E,WAAWsJ,QAAU1P,EAAK,GAAGpG,GAAG8V,QAC9DjF,EAAkB1D,SAASgE,GAAG3E,WAAWuJ,QAAU3P,EAAK,GAAGpG,GAAG+V,QAC9DlF,EAAkB1D,SAASgE,GAAG3E,WAAWwJ,QAAU5P,EAAK,GAAGpG,GAAGgW,QAC9DnF,EAAkB1D,SAASgE,GAAG3E,WAAWyJ,QAAU7P,EAAK,GAAGpG,GAAGiW,QAC9DpF,EAAkB1D,SAASgE,GAAG3E,WAAW0J,QAAU9P,EAAK,GAAGpG,GAAGkW,QAC9DrF,EAAkB1D,SAASgE,GAAG3E,WAAW2J,QAAU/P,EAAK,GAAGpG,GAAGmW,QAC9DtF,EAAkB1D,SAASgE,GAAG3E,WAAW4J,QAAUhQ,EAAK,GAAGpG,GAAGoW,QAC9D,OASH,IAAMtK,EAAazG,GAAG0G,oBACpBC,QAAQ,CAAC9G,EAhEC,KAgEa2L,GAEnB5E,EAAO5G,GAAG6G,UACdJ,WAAWA,GAETrG,EAAIL,EAAIG,OAAO,KAGf+P,EAAO7P,EAAEF,OAAO,KAClBC,KAAK,QAAQ,UACbgC,UAAU,SACVpB,KAAKyK,EAAkB1D,UACvBZ,KAAK,QACL/G,KAAK,IAAKyG,GACVzG,KAAK,QAAS,QACdA,KAAK,SAAS,SACdA,KAAK,eAAe,IACpBA,KAAK,OAAQ,WAKFC,EAAEF,OAAO,KACpBC,KAAK,QAAQ,SACbD,OAAO,QACPiM,MAAMT,GACNvL,KAAK,IAAKyG,GACVzG,KAAK,QAAS,UAGhBJ,EACEuE,KAAKtE,GAAGqH,OACPE,YAAY,CAAC,EAAE,IACfC,gBAAgB,CAAC,CAAC,EAAE,GAAG,CAAC3H,EAjGf,OAkGT2C,GAAG,OAMN,WACCpC,EAAED,KAAK,YAAaH,GAAGjB,MAAMuI,aAN3B9E,GAAG,QASN,WACCyN,EACEzN,GAAG,YAAY,QAVfA,GAAG,MAaN,WAIC,OAFa3I,SAASK,cAAc,qBAErB8W,aACf,IAAK,8BACJC,EAAa,IACb,MACD,IAAK,YACJA,EAAa,WACb,MACD,IAAK,YACJA,EAAa,WACb,MACD,IAAK,uBACJA,EAAa,WACb,MACD,IAAK,4BACJA,EAAa,eAkBdlR,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,GACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,GACVA,KAAK,SAAU,QAEjBJ,EACEG,OAAO,QACPC,KAAK,QAAQ,oBACbA,KAAK,KAAKP,GACVO,KAAK,KAAK,IACVA,KAAK,KAAK,IAAIP,GACdO,KAAK,KAAK,IACVA,KAAK,SAAU,QAWlB,IAAM4E,EAAa,CAAC,sDACnB,qDACA,sDACA,sDAOGC,EALYhF,GAAGC,OAAO,oBACxBC,OAAO,OACPC,KAAK,QAASN,GACdM,KAAK,SAAU,IAEMgC,UAAU,WAC/BpB,KAAK+F,EAAOlG,SACZyB,QACAnC,OAAO,KACPC,KAAK,QAAS,UAyBhB6E,EACE9E,OAAO,QACPC,KAAK,IAAKN,EAAM,EAAG,IACnBM,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAW,GAAJA,EAAO,KAEdwF,KAAK,QAAS,IACdA,KAAK,SAAU,IACfvE,MAAM,SAAU,SAChBA,MAAM,eAAgB,IACtBA,MAAM,OAAQ,SAAUqD,GAAK,OAAOA,IAEtC+F,EACE9E,OAAO,QACPC,KAAK,OAAQ,WACbA,KAAK,IAAKN,EAAM,EAAE,IAClBM,KAAK,IAAK,SAAUlB,EAAGtE,GACvB,OAAO,GAAS,GAAJA,IAEZwF,KAAK,KAAM,SACXsC,KAAK,SAAUxD,EAAGtE,GAClB,OAAOoK,EAAWpK,KAUpB,IAAI8J,EAAQzE,GAAGC,OAAO,QAAQC,OAAO,OACnCC,KAAK,QAAS,YAOhB,SAAS8Q,EAAaC,GACrBjB,EACEzN,GAAG,YAAa,SAASvD,GACzBwF,EACEC,aACAC,SAAS,IACT/I,MAAM,OAAQoE,GAAGjB,MAAM6F,MAAQ,GAAK,MACpChJ,MAAM,MAAOoE,GAAGjB,MAAM8F,MAAQ,GAAK,MACnCjJ,MAAM,UAAW,GACjBA,MAAM,aAAc,QAEtB6I,EACEK,KADF,gCAAAT,OAEiBpF,EAAEkI,WAAWgJ,QAF9B,wCAAA9L,OAGSpF,EAAEkI,WAAW+J,GAHtB,2BAOAlR,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,MAItBqC,GAAG,WAAY,SAASvD,GACxBwF,EACEC,aACAC,SAAS,KACT/I,MAAM,UAAW,GAGnBoE,GAAGC,OAAO4I,MACR1I,KAAK,eAAe,KAQzB,SAASiQ,EAAYnJ,GACpBlH,EACEG,OAAO,QACPC,KAAK,QAAQ,sBACbA,KAAK,KAAM,oBACXA,KAAK,IAAIP,GACTO,KAAK,IAAI,IACTA,KAAK,OAAQ,QACbsC,KAAKwE,GAKR,OAAOoK,GACP,IAAK,kBACJrR,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,aACZa,EAAa,WACbhB,EACE9P,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAWwJ,WAClD,MACD,IAAK,kBACJ3Q,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,aACZa,EAAa,WACbhB,EACE9P,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAWuJ,WAClD,MACD,IAAK,kBACJ1Q,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,wBACZa,EAAa,WACbhB,EACE9P,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAWsJ,WAClD,MACD,IAAK,kBACJzQ,GAAGC,OAAO,aAAakC,UAAU,iBAAiBpH,SAClDqV,EAAY,6BACZa,EAAa,WACbhB,EACE9P,KAAK,OAAS,SAAClB,GAAM,OAAO6H,EAAO7H,EAAEkI,WAAWqJ,cHtTrDvV,OAAOD,iBAAiB,SAAS,WAChCiY,4BAsfDhY,OAAOD,iBAAiB,OAAQ,WAC0C,SAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,SAE7DuV,UAAU,mBCnaZC,YC6PAlY,OAAOD,iBAAiB,OAAQ,WAC0C,SAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,UAE7DyV,WAAW,mBACXA,WAAW,mBACXA,WAAW,mBACXA,WAAW,mBACXA,WAAW,mBACXA,WAAW,mBACXA,WAAW,sBCpBbnY,OAAOD,iBAAiB,OAAQ,WAC0C,SAAtEiK,iBAAiBpL,SAASK,cAAc,mBAAmByD,UAE7D0V,WAAW,mBACXA,WAAW,mBACXA,WAAW,mBACXA,WAAW","file":"../large-device/script-min.js","sourcesContent":["console.log(\"Etat du document : \" + document.readyState);\n\t\nlet navBulletMenu = document.querySelectorAll(\".nav-bullet-menu\");\nlet niv1HIntro2Button = document.querySelector(\".niv1-h-intro-2-button\");\nlet sectionNavBullet = document.querySelectorAll(\".section-nav-bullet\");\n\n\n\n\n//ALTERNATIVE 1 & ALTERNATIVE 2 could enter in competition :)\n\n/*\n//ALTERNATIVE 1 : COLOR BULLET CLICK EVENT\n\nlet navLinkMenu = document.querySelectorAll(\".nav-link-menu\");\n\n//Color on click nav link\nfunction navColor() {\n\tfor(let i = 0; i < navLinkMenu.length; i++){\n\t\tif(this != navLinkMenu[i]){\n\t\t\tnavBulletMenu[i].style.backgroundColor = \"#fff\";\n\t\t} else {\n\t\t\tnavBulletMenu[i].style.backgroundColor = \"#779933\";\n\t\t}\n\t}\n}\n\n//->Here the event--------------\n//------------------------------\nArray.from(navLinkMenu).forEach((el)=>{\n\tel.addEventListener(\"click\",navColor);\n});\n\n\n//Color on click header button\nfunction navButtonColor() {\n\tnavBulletMenu[1].style.backgroundColor = \"#779933\";\n\tlet navBulletMenuCopy = Array.from(navBulletMenu);\n\tnavBulletMenuCopy.splice(1,1);\n\n\tnavBulletMenuCopy.forEach((el)=>{\n\t\tel.style.backgroundColor = \"#fff\";\n\t});\n}\n\n\n//->Here the event--------------\n//------------------------------\nniv1HIntro2Button.addEventListener(\"click\",navButtonColor);\n\t\n}\n\n*/\n\n//CLICK BUTTON INTRO\n\nniv1HIntro2Button.addEventListener(\"click\",function(){\n\twindow.location = \"#onze_pour_cent_des_francais_ont_demenage_en_2014\";\n});\n\n\n\n//ALTERNATIVE 2 : COLOR BULLET SCROLL EVENT\n\n//with boundingrect\nfunction alternativeColorBullet(){\n\t\n\tlet navBulletMenu = document.querySelectorAll(\".nav-bullet-menu\");\n\n\tlet sectionIsInViewport = function(elem){\n\t\tlet bounding = elem.getBoundingClientRect();\n\t\treturn (\n\t\t\tbounding.top <= 10 &&\n\t\t\tbounding.bottom >= 10\n\t\t);\t\t\n\n\t};\n\n\tfor (let i=0;i<sectionNavBullet.length;i++){\n\t\tif (sectionIsInViewport(sectionNavBullet[i])){\n\t\t\t//is in viewport\n\t\t\tnavBulletMenu[i].classList.add(\"nav-bullet-menu-visible\");\n\t\t} else {\n\t\t\t//is not in viewport\n\t\t\tnavBulletMenu[i].classList.remove(\"nav-bullet-menu-visible\");\n\t\t}\n\t}\n\n\tdocument.addEventListener(\"scroll\",function(){\n\t\tfor (let i=0;i<sectionNavBullet.length;i++){\n\t\t\tif (sectionIsInViewport(sectionNavBullet[i])){\n\t\t\t\t//is in viewport\n\t\t\t\tnavBulletMenu[i].classList.add(\"nav-bullet-menu-visible\");\n\t\t\t} else {\n\t\t\t\t//is not in viewport\n\t\t\t\tnavBulletMenu[i].classList.remove(\"nav-bullet-menu-visible\");\n\t\t\t}\n\t\t}\n\t});\n}\n\n//with interaction observer\n\n//Color on scroll\n\nlet intersectionCallback = function(entries){\n\n\tentries.forEach((entry) =>{\n\t\tfunction navScrollColor(i){\n\t\t\tif (entry.boundingClientRect.top<=10 && entry.boundingClientRect.bottom>=-10){\n\t\t\t\tnavBulletMenu[i].style.backgroundColor = \"#779933\";\n\t\t\t\tlet navBulletMenuCopy = Array.from(navBulletMenu);\n\t\t\t\tnavBulletMenuCopy.splice(i,1);\n\n\t\t\t\tnavBulletMenuCopy.forEach((el)=>{\n\t\t\t\t\tel.style.backgroundColor = \"#fff\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tArray.from(sectionNavBullet).forEach((el,i)=>{\n\t\t\tif (el==entry.target){\n\t\t\t\tnavScrollColor(i);\n\t\t\t}\n\t\t});\t\n\t});\n};\n\nfunction thresholdList(){\n\tlet thresholds = [];\n\tconst numSteps = 3500;\n\n\tfor (let i=1;i<=numSteps;i++){\n\t\tlet ratio = i/numSteps;\n\t\tthresholds.push(ratio);\n\t}\n\n\tthresholds.push(0);\n\treturn thresholds;\n}\n\n\nlet observerOptions = {\n\troot: null,\n\trootMargin: \"0px\",\n\tthreshold: thresholdList()\n};\n\n\n\n//->Here the event--------------\n//------------------------------\n\n\nif(\"IntersectionObserver\" in window) {\n\t//it is ok, client web can observe\n\tlet io_nav = new IntersectionObserver(intersectionCallback, observerOptions);\n\n\tArray.from(sectionNavBullet).forEach((el)=>{\n\t\tio_nav.observe(el);\n\t});\n} else{\n\t//client web not implement intersetion observer\n\talternativeColorBullet();\n}\n\n\t\n","console.log(\"Etat du document : \" + document.readyState);\n\n\n//FOOTER NOTE\n\n//Display div when note apparead in viewport\n\nlet notesStep = document.querySelectorAll(\".notes-step\");\nlet notesBoxRef = document.querySelectorAll(\".notes-box-ref\");\n\n//already declared in nav.js\nlet noteIsInViewport = function(elem){\n\tlet bounding = elem.getBoundingClientRect();\n\treturn (\n\t\tbounding.top >= 0 &&\n\t\tbounding.left >= 0 &&\n\t\tbounding.right <= (window.innerWidth || document.documentElement.clientWidth) &&\n\t\tbounding.bottom <= (window.innerHeight  || document.documentElement.clientHeight)\n\t);\n};\n\n\n\n//->Here the event--------------\n//------------------------------\n\n\ndocument.addEventListener(\"scroll\",function(){\n\tfor (let i=0;i<notesStep.length;i++){\n\t\tif (noteIsInViewport(notesStep[i])){\n\t\t\t//is in viewport\n\t\t\tnotesBoxRef[i].classList.add(\"notes-box-div-visible\");\n\t\t} else {\n\t\t\t//is not in viewport\n\t\t\tnotesBoxRef[i].classList.remove(\"notes-box-div-visible\");\n\t\t}\n\t}\n});\n\n\n//BUTTTON HELP\nconst cHelpButton = document.querySelectorAll(\".c-help-button\");\nconst helpButton = document.querySelectorAll(\".help-button\");\nconst helpBody = document.querySelectorAll(\".help-body\");\n\nlet displayToggle = 1;\n\n\nfunction showHelpButton(i){\n\thelpBody[i].style.display = \"block\";\n\tcHelpButton[i].style.borderWidth = \"1px\";\n\tcHelpButton[i].style.background = \" #282828\";\n}\n\nfunction hideHelpButton(i){\n\thelpBody[i].style.display = \"none\";\n\tcHelpButton[i].style.borderWidth = \"0px\";\n\tcHelpButton[i].style.background = \"none\";\n}\n\nArray.from(helpButton).forEach((el,i)=>{\n\tel.addEventListener(\"click\",function(){\n\t\tdisplayToggle++;\n\n\t\tif (displayToggle % 2 ==0){\n\t\t\tshowHelpButton(i);\n\t\t} else {\n\t\t\thideHelpButton(i);\n\t\t}\n\n\t});\n\n});\n\n\n\n//SECTION 3 BREAK SCROLLING\n//-----------------------------------------------------\n//-----------------------------------------------------\n\n\n\n\n\n//SMALL AND LARGE DEVICE POSITIONNING GRAPHIC\n//-----------------------------------------------------\n//-----------------------------------------------------\n\n\n\nfunction deplaceElementSmallDevice() {\n\n\t//Detect large or small viewport\n\tconst breakpoint = \"(min-width: 1024px)\";\n\tconst largeMedia = window.matchMedia(breakpoint).matches;\n\n\t//if largeMedia=true : large device\n\t//if largeMedia=false: small device\n\t\n\n\t//If small device, deplace svg after text, if large device replace svg at the end\n\n\n\tif (largeMedia==false){\n\n\n\t\tfirstVisit(largeMedia);\n\t\t\n\t}\n\n\tif (largeMedia==true){\n\t\t\n\t\t//POP-UP ALERT------------------------\n\t\t//------------------------------------\n\t\t\n\t\tfirstVisit(largeMedia);\n\n\t\tconsole.log(\"grand écran\");\n\t}\n\n}\n\n//->Here the event--------------\n//------------------------------\n\t\n//If windows is resized, real-time\nwindow.addEventListener(\"resize\",()=>{\n\tdeplaceElementSmallDevice();\n\n});\n\n//If document is complete, press F5 or on location\ndocument.onreadystatechange = function(){\n\tif (document.readyState == \"complete\"){\n\t\tdeplaceElementSmallDevice();\n\n\t}\n};\n\n\n\n\n\n//ALERT FIRST VISIT--------------------\n//-------------------------------------\n\n\nconst alertLargeDevice = document.querySelector(\"#alert-large-device\");\nconst alertSmallDevice = document.querySelector(\"#alert-small-device\");\nconst body = document.querySelector(\"body\");\nconst selectionGlobal = document.querySelector(\".global\");\nconst selectionHtml = document.querySelector(\"html\");\n\n\n\nfunction firstVisit(match){\n\n\n\n\tArray.from(document.querySelectorAll(\".button-alert\")).forEach((el,i)=>{\n\t\tel.addEventListener(\"click\",function(){\n\t\t\ti == 0 ? hideAlertLargeDevice() : hideAlertSmallDevice();\n\t\t});\n\n\t});\n\n\tdocument.onkeydown = function (e) {\n\t\te = e || window.event;\n\t\tif (e.keyCode == 27 || e.keyCode == 13 || e.keyCode == 8) {\n\t\t\tmatch ? hideAlertLargeDevice(): hideAlertSmallDevice();\n\n\n\t\t\tArray.from(helpButton).forEach((d,i)=>{\n\t\t\t\thideHelpButton(i);\n\t\t\t});\n\t\t}\n\t};\n\n\tif (window.sessionStorage.getItem(\"nouvelleSession\")){\n\n\t\tconsole.log(\"ce n'est pas la première visite\");\n\t\tmatch ? hideAlertLargeDevice(): hideAlertSmallDevice();\n\n\t\t\n\t} else {\n\n\t\twindow.sessionStorage.setItem(\"nouvelleSession\",\"true\");\n\t\tconsole.log(\"c'est la première visite\");\n\t\tmatch ? showAlertLargeDevice() : showAlertSmallDevice();\n\t}\n}\n\n\nfunction showAlertLargeDevice(){\n\talertLargeDevice.style.display = \"flex\";\n\tbody.style.overflow = \"hidden\";\n\tselectionHtml.style.overflow = \"hidden\";\n\tselectionGlobal.style.opacity = 0.2;\n\tselectionGlobal.style.pointerEvents = \"none\";\n\tselectionGlobal.style.userSelect = \"none\";\n}\n\nfunction hideAlertLargeDevice(){\n\talertLargeDevice.style.display = \"none\";\n\tbody.style.overflow = \"initial\";\n\tselectionHtml.style.overflow = \"initial\";\n\tselectionGlobal.style.opacity = 1;\n\tselectionGlobal.style.pointerEvents = \"initial\";\n\tselectionGlobal.style.userSelect = \"initial\";\n}\n\nfunction showAlertSmallDevice(){\n\talertSmallDevice.style.display = \"flex\";\n\tbody.style.overflow = \"hidden\";\n\tselectionHtml.style.overflow = \"hidden\";\n\tselectionGlobal.style.opacity = 0.2;\n\tselectionGlobal.style.pointerEvents = \"none\";\n\tselectionGlobal.style.userSelect = \"none\";\n}\n\nfunction hideAlertSmallDevice(){\n\talertSmallDevice.style.display = \"none\";\n\tbody.style.overflow = \"initial\";\n\tselectionHtml.style.overflow = \"initial\";\n\tselectionGlobal.style.opacity = 1;\n\tselectionGlobal.style.pointerEvents = \"initial\";\n\tselectionGlobal.style.userSelect = \"initial\";\n}","//small device\n\n\n\t\n\nfunction graph1Min(position){\n\n\n\n\t//sizing\n\tlet width = document.querySelector(\".niv2 p\").clientWidth;\n\tconst height = 400;\n\n\t//center location mobility type\n\n\n\n\t//initiate svg\n\tlet svg = d3.select(position)\n\t\t.append(\"svg\")\n\t\t.attr(\"height\", height)\n\t\t.attr(\"width\", width);\n\t\t\n\n\tlet g = svg.append(\"g\")\n\t\t.attr(\"transform\", \"translate(\" + width/2 +  \",\"  + height/2 + \")\");\n\n\n\n\t//initiate format number\n\t/*Initiate format number*/\n\td3.formatDefaultLocale({\n\t\t\"decimal\": \",\",\n\t\t\"thousands\": \"\\u2009\",\n\t\t\"grouping\": [3]\n\t});\n\n\n\t//the simulation is a collection of forces\n\t//about where we want our circles to go\n\t//and how we want our circles interact\n\n\tlet simulation = d3.forceSimulation()\n\t\t.force(\"x\", d3.forceX().strength(0.05))\n\t\t.force(\"y\", d3.forceY().strength(0.05))\n\t\t.force(\"collide\", d3.forceCollide(5))\n\t\t.force(\"charge\", d3.forceManyBody().strength(-1));\n\n\n\t//color circles\n\tlet fillColor = d3.scaleOrdinal()\n\t\t.domain([\"immob\", \"mob_com\", \"mob_dep\", \"mob_reg\", \"mob_france\", \"mob_all\"])\n\t\t.range([\"#eaeaea\", \"#7b7fbc\", \"#7dbd9f\", \"#f8c351\", \"#f18757\", \"#e85754\"]);\n\n\t\n\t\n\td3.csv(\"data/csv/data-01.csv\").then(function(data){\n\t\n\t\t\n\n\t\tlet circles = g.append(\"g\")\n\t\t\t.selectAll(\".people\");\n\n\n\t\tfunction updateData(myData){\n\n\t\t\t\n\t\t\t// Apply the general update pattern to the circles\n\t\t\tcircles = circles.data(myData);\n\n\t\t\tcircles.exit().remove();\n\n\t\t\tcircles = circles\n\t\t\t\t.enter().append(\"circle\")\n\t\t\t\t.attr(\"class\", \"people\")\n\t\t\t\t.attr(\"r\",2)\n\t\t\t\t.attr(\"fill\",((d)=>{return fillColor(d.type_mob);}))\n\t\t\t\t.merge(circles);\n\n\t\t\t//moves the SVG circles used to make the bubbles\n\t\t\t//to their new positions\n\t\t\tsimulation.nodes(myData)\n\t\t\t\t.on(\"tick\", ticked);\n\n\t\t} //update data\n\t\t\n\t\t/*\n\t\t* Callback function that is called after every tick of the\n\t\t* force simulation.\n\t\t* Here we do the acutal repositioning of the SVG circles\n\t\t* based on the current x and y values of their bound node data.\n\t\t* These x and y values are modified by the force simulation.\n\t\t* This function joins the nodes array to circle elements\n\t\t* and updates their positions\n\t\t*/\n\n\t\tfunction ticked(){\n\t\t\tcircles\n\t\t\t\t.attr(\"cx\", ((d)=>{return d.x;}))\n\t\t\t\t.attr(\"cy\", ((d)=>{return d.y+20;}));\n\t\t}\n\n\t\t//event click circles\n\t\tcircles\n\t\t\t.on(\"click\", ((d)=>{\n\t\t\t\tconsole.log(d);\n\t\t\t}));\n\n\t\tlet propMobilityCenters = {\n\t\t\t\"0\":{x: 50-width/4, y: height/2},\n\t\t\t\"1\":{x: 50+width/4, y: height/2}\n\t\t};\n\n\n\t\tlet typeMobilityCenters = {\n\t\t\t\"mob_com\":{x: -2*width/6, y: height/2},\n\t\t\t\"mob_dep\":{x: -width/6, y: height/2},\n\t\t\t\"mob_reg\":{x: 0, y: height/2},\n\t\t\t\"mob_france\":{x: width/6, y: height/2},\n\t\t\t\"mob_all\":{x: 2*width/6, y: height/2},\n\t\t\t\"immob\":{x:0,y:0}\n\t\t};\n\n\t\t/*\n\t\t* Provides a x value for each node to be used with the split by year\n\t\t* x force.\n\t\t*/\n\t\tfunction nodePropMobilityPos(d) {\n\t\t\treturn propMobilityCenters[d.value].x;\n\t\t}\n\n\t\tfunction nodeTypeMobilityPos(d){\n\t\t\treturn typeMobilityCenters[d.type_mob].x;\n\t\t}\n\n\n\t\tfunction addExtra(){\n\t\t\t//Text label xAxis\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"class\",\"extra label-change\")      \n\t\t\t\t.attr(\"x\",20)\n\t\t\t\t.attr(\"y\",25)\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"En 2014, en France\");\n\t\t\t\n\t\t\t//Horizontal line\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",20)\n\t\t\t\t.attr(\"y1\",5)\n\t\t\t\t.attr(\"x2\",180)\n\t\t\t\t.attr(\"y2\",5)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",20)\n\t\t\t\t.attr(\"y1\",35)\n\t\t\t\t.attr(\"x2\",180)\n\t\t\t\t.attr(\"y2\",35)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\t\t} //function addExtra\n\n\n\t\taddExtra();\n\n\n\n\n\t\tif (position == \"#c-svg-01-min-1\"){\n\n\n\t\t\tupdateData(data);\n\t\t\t//reset the 'x' force to draw the circles to their year centers\n\t\t\tsimulation.force(\"x\", d3.forceX().strength(0.05).x(nodePropMobilityPos));\n\t\t\t//reset the alpha value and restart the simulation\n\t\t\tsimulation.alpha(1).restart();\n\n\n\t\t\td3.select(\"#c-svg-01\").selectAll(\".label-text\").remove();\n\t\t\td3.select(\"#c-svg-01\").selectAll(\".label-line\").remove();\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 50+width/4) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 70)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"89 % des individus\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 50+width/4) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 85)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"n'ont pas changé de logement\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 55+3*width/4) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 150)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"11 % des individus\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 55+3*width/4) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 165)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"ont changé de logement\");\n\n\t\t} else{\n\n\t\t\tlet data2 = data.filter((d)=>{return d.value == \"1\";});\n\t\t\tupdateData(data2);\n\n\t\t\t//reset the 'x' force to draw the circles to their year centers\n\t\t\tsimulation.force(\"x\", d3.forceX().strength(0.05).x(nodeTypeMobilityPos));\n\t\t\t//reset the alpha value and restart the simulation\n\t\t\tsimulation.alpha(1).restart();\n\n\n\t\t\td3.select(\"#c-svg-01\").selectAll(\".label-text\").remove();\n\t\t\td3.select(\"#c-svg-01\").selectAll(\".label-line\").remove();\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 10+width/6) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 120)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"4 % sont restés\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 10+width/6) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 135)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"dans la même commune\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 10+2*width/6) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 300)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"4,1 % ont changé de commune\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 10+2*width/6) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 315)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"au sein du même département\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 10+width/2) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 120)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"1,2 % ont changé de département\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 10+width/2) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 135)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"au sein de la même région\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 5+2*width/3) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 300)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"1,6 % ont changé\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 5+2*width/3) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 315)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"de région\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 5*width/6) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 120)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"0,4 % sont arrivés\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"class\",\"label-text\")\n\t\t\t\t.attr(\"x\", 5*width/6) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", 135)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"de l'étranger\");\n\n\n\t\t\t//Vertical Line\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\", \"label-line\")\n\t\t\t\t.attr(\"x1\", 10+width/6)\n\t\t\t\t.attr(\"x2\", 10+width/6)\n\t\t\t\t.attr(\"y1\",155)\n\t\t\t\t.attr(\"y2\", 175)\n\t\t\t\t.attr(\"stroke\", \"#f0f0f0\")\n\t\t\t\t.attr(\"stroke-width\",1);\n\n\n\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\", \"label-line\")\n\t\t\t\t.attr(\"x1\", 10+2*width/6)\n\t\t\t\t.attr(\"x2\", 10+2*width/6)\n\t\t\t\t.attr(\"y1\",260)\n\t\t\t\t.attr(\"y2\", 280)\n\t\t\t\t.attr(\"stroke\", \"#f0f0f0\")\n\t\t\t\t.attr(\"stroke-width\",1);\n\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\", \"label-line\")\n\t\t\t\t.attr(\"x1\", 10+width/2)\n\t\t\t\t.attr(\"x2\", 10+width/2)\n\t\t\t\t.attr(\"y1\",155)\n\t\t\t\t.attr(\"y2\", 175)\n\t\t\t\t.attr(\"stroke\", \"#f0f0f0\")\n\t\t\t\t.attr(\"stroke-width\",1);\n\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\", \"label-line\")\n\t\t\t\t.attr(\"x1\", 5+2*width/3)\n\t\t\t\t.attr(\"x2\", 5+2*width/3)\n\t\t\t\t.attr(\"y1\",260)\n\t\t\t\t.attr(\"y2\", 280)\n\t\t\t\t.attr(\"stroke\", \"#f0f0f0\")\n\t\t\t\t.attr(\"stroke-width\",1);\n\n\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\", \"label-line\")\n\t\t\t\t.attr(\"x1\", 5*width/6)\n\t\t\t\t.attr(\"x2\", 5*width/6)\n\t\t\t\t.attr(\"y1\",155)\n\t\t\t\t.attr(\"y2\", 175)\n\t\t\t\t.attr(\"stroke\", \"#f0f0f0\")\n\t\t\t\t.attr(\"stroke-width\",1);\n\n\n\t\t}\n\n\t\n\n\n\n\t});\n\n\n} //function graph1\n\n\n\nif(getComputedStyle(document.querySelector(\".c-graphic-min\")).display == \"block\")\n{\n\tgraph1Min(\"#c-svg-01-min-1\");\n\tgraph1Min(\"#c-svg-01-min-2\");\n}\n","//small device\n\nfunction graph2Min(position) {\n\n\n\n\t//sizing\n\tlet margin = { top: 20, right: 20, bottom: 60, left: 100 };\n\n\tlet width = document.querySelector(\".niv2 p\").clientWidth;\n\tlet height = 400;\n\n\t//initiate svg\n\tlet svg = d3.select(position)\n\t\t.append(\"svg\")\n\t\t.attr(\"height\", height)\n\t\t.attr(\"width\", width);\n\n\t//initiate format number\n\t/*Initiate format number*/\n\td3.formatDefaultLocale({\n\t\t\"decimal\": \",\",\n\t\t\"thousands\": \"\\u2009\",\n\t\t\"grouping\": [3]\n\t});\n\n\tlet format = d3.format(\".2n\");\n\n\td3.csv(\"data/csv/data-02.csv\").then(function (data) {\n\n\n\t\t//Conversion number\n\t\tdata.forEach((d) => {\n\t\t\td.meme_com = +d.meme_com,\n\t\t\td.change_com = +d.change_com,\n\t\t\td.change_dep = +d.change_dep,\n\t\t\td.change_reg = +d.change_reg,\n\t\t\td.change_int = +d.change_int;\n\t\t});\n\n\t\t//select righ-key values\n\t\tlet keys = data.columns.slice(1, 6);\n\n\n\t\t//Initiate x Axis\n\t\tconst xScale = d3.scaleLinear()\n\t\t\t.domain([0, 35])\n\t\t\t.rangeRound([margin.left, width - margin.right]);\n\n\t\t//Initiate y Axis\n\t\tconst yScale = d3.scaleBand()\n\t\t\t.domain(data.map((d) => { return d.periode; }))\n\t\t\t.rangeRound([margin.top, height - margin.bottom])\n\t\t\t.paddingInner(0.5)\n\t\t\t.align(0.1);\n\n\t\t//Initiate z Axis\n\t\tconst zScale = d3.scaleOrdinal()\n\t\t\t.domain(keys)\n\t\t\t.range([\"#7b7fbd\", \"#7dbd9f\", \"#f8c352\", \"#f18757\", \"#e85654\"]);\n\n\n\t\tconst xAxis = d3.axisBottom(xScale)\n\t\t\t.tickFormat((d) => { return d + \" %\"; });\n\t\tconst yAxis = d3.axisLeft(yScale)\n\t\t\t.tickSizeOuter(0);\n\n\n\t\tconst stack = d3.stack();\n\n\n\t\t//Call Axis\n\t\tsvg\n\t\t\t.append(\"g\")\n\t\t\t.attr(\"class\", \"axis x_axis\")\n\t\t\t.attr(\"transform\", `translate(0,${height - margin.bottom})`)\n\t\t\t.call(xAxis);\n\n\t\tsvg.select(\".x_axis\")\n\t\t\t.selectAll(\"text\")\n\t\t\t.attr(\"y\", 10);\n\n\t\tsvg\n\t\t\t.append(\"g\")\n\t\t\t.attr(\"class\", \"axis y_axis\")\n\t\t\t.attr(\"transform\", `translate(${margin.left},0)`)\n\t\t\t.call(yAxis)\n\t\t\t.select(\".domain\").remove();\n\n\n\t\t//Call Z\t\n\t\tconst serie = svg\n\t\t\t.selectAll(\".serie\")\n\t\t\t.data(stack.keys(keys)(data))\n\t\t\t.enter().append(\"g\")\n\t\t\t.attr(\"class\", \"serie\")\n\t\t\t.attr(\"fill\", ((d) => { return zScale(d.key); }));\n\n\t\tserie\n\t\t\t.selectAll(\"rect\")\n\t\t\t.data((d) => { return d; })\n\t\t\t.enter()\n\t\t\t.append(\"rect\")\n\t\t\t.attr(\"x\", ((d) => { return xScale(d[0]); }))\n\t\t\t.attr(\"y\", ((d) => { return yScale(d.data.periode); }))\n\t\t\t.attr(\"width\", ((d) => { return xScale(d[1]) - xScale(d[0]); }))\n\t\t\t.attr(\"height\", yScale.bandwidth());\n\n\n\t\t//Text label xAxis\n\t\tsvg\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"class\", \"label\")\n\t\t\t.attr(\"transform\",\n\t\t\t\t\"translate(\" + (width - margin.right) + \" ,\" + (height - margin.bottom / 4) + \")\")\n\t\t\t.style(\"text-anchor\", \"end\")\n\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t.text(\"Part des ménages ayant changé de logement\");\n\n\n\t\t//create div popup\n\t\tlet popup = d3.select(\"body\").append(\"div\")\n\t\t\t.attr(\"class\", \"my-popup\");\n\n\n\t\t//MOUSE EVENT\n\n\n\t\td3.selectAll(\"rect\")\n\t\t\t.on(\"mouseover\", function (d) {\n\t\t\t\tpopup\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(50)\n\t\t\t\t\t.style(\"left\", d3.event.pageX - 20 + \"px\")\n\t\t\t\t\t.style(\"top\", d3.event.pageY - 120 + \"px\")\n\t\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t\t.style(\"text-align\", \"left\");\n\t\t\t\tpopup\n\t\t\t\t\t.html(`\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<em>Chgt de logement dans la même commune</em> : <span>${format(d.data.meme_com)} % </span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<em>Chgt de commune dans le même département</em> : <span>${format(d.data.change_com)} % </span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<em>Chgt de département dans la même région</em> : <span>${format(d.data.change_dep)} % </span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<em>Chgt de région en France</em> : <span>${format(d.data.change_reg)} % </span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<em>Arrivée depuis l'étranger</em> : <span>${format(d.data.change_int)} % </span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`);\n\n\n\t\t\t})\n\t\t\t.on(\"mouseout\", function (d) {\n\t\t\t\tpopup\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(100)\n\t\t\t\t\t.style(\"opacity\", 0);\n\n\n\t\t\t});\n\n\n\n\n\t}); //read csv\n\n\n\n\n\n\n\n\n} //fonction graph2\n\n\nwindow.addEventListener(\"load\", function(){\n\tif(getComputedStyle(document.querySelector(\".c-graphic-min\")).display == \"block\")\n\t{\n\t\tgraph2Min(\"#c-svg-02-min\");\n\t}\n});\n","//small device\n\n\n//storing values in an array\nlet inputValuesMin = [\"1968-1975\", \"1975-1982\", \"1982-1990\", \"1990-1999\", \"1999-2009\", \"2009-2014\"];\n\nlet input03Min = document.querySelector(\"#input-03\");\nlet output03Min = document.querySelector(\"#c-output-03\");\n\nlet output03BulletMin = document.querySelector(\"#output-03-bullet\");\n\noutput03Min.oninput = function(){\n\t//output03.innerHTML = inputValues[this.value];\n\toutput03BulletMin.innerHTML = inputValuesMin[this.value];\n};\n\n\n//set the default value\noutput03Min.oninput();\n\nfunction graph3Min(position){\n\n\n\t//sizing\n\tlet margin = {top:20, right:20, bottom:20, left: 20};\n\n\tlet width = document.querySelector(\".niv2 p\").clientWidth;\n\tlet height = 400;\n\n\n\t//initiate svg\n\tlet svg = d3.select(position)\n\t\t.append(\"svg\")\n\t\t.attr(\"height\", height)\n\t\t.attr(\"width\", width);\n\n\t//initiate format number\n\t/*Initiate format number*/\n\td3.formatDefaultLocale({\n\t\t\"decimal\": \",\",\n\t\t\"thousands\": \"\\u2009\",\n\t\t\"grouping\": [3]\n\t});\n\n\n\n\t//Initiate data\n\tPromise.all([\n\t\td3.json(\"data/map/rw_19681975.json\"),\n\t\td3.json(\"data/map/rw_19751982.json\"),\n\t\td3.json(\"data/map/rw_19821990.json\"),\n\t\td3.json(\"data/map/rw_19901999.json\"),\n\t\td3.json(\"data/map/rw_19992009.json\"),\n\t\td3.json(\"data/map/rw_20092014.json\")\n\t]).then(function(data){\n\n\n\n\t\tconst featureCollection6875 = topojson.feature(data[0], data[0].objects.rw_19681975); //geojson\n\t\tconst featureCollection7582 = topojson.feature(data[1], data[1].objects.rw_19751982); //geojson\n\t\tconst featureCollection8290 = topojson.feature(data[2], data[2].objects.rw_19821990); //geojson\n\t\tconst featureCollection9099 = topojson.feature(data[3], data[3].objects.rw_19901999); //geojson\n\t\tconst featureCollection9909 = topojson.feature(data[4], data[4].objects.rw_19992009); //geojson\n\t\tconst featureCollection0914 = topojson.feature(data[5], data[5].objects.rw_20092014); //geojson\n\n\t\t//projection\n\t\tconst projection = d3.geoConicConformal() //france projection\n\t\t\t.fitSize([width,height],featureCollection6875);\n\n\t\tconst path = d3.geoPath() //generate path\n\t\t\t.projection(projection); //add projection to path\n\n\t\tlet g = svg.append(\"g\"); //conteneur pour le zoom\n\n\t\t//set colors by region\n\t\tlet colors = d3.scaleOrdinal()\n\t\t\t.domain([\"inf_-2\",\"-2_-1\",\"-1_0\",\"0_1\",\"1_2\",\"2_3\",\"sup_3\"])\n\t\t\t.range([\"#10524d\",\"#229f97\",\"#add9dc\",\"#f9d7ad\",\"#e89c3f\",\"#ab6016\",\"#693e0f\"]);\n\n\n\t\tfunction addExtra(){\n\t\t\t//Text label xAxis\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"class\",\"extra label-change\")      \n\t\t\t\t.attr(\"x\",20)\n\t\t\t\t.attr(\"y\",25)\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"Période\");\n\t\t\t\n\t\t\t//Horizontal line\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",margin.left)\n\t\t\t\t.attr(\"y1\",5)\n\t\t\t\t.attr(\"x2\",180)\n\t\t\t\t.attr(\"y2\",5)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",margin.left)\n\t\t\t\t.attr(\"y1\",35)\n\t\t\t\t.attr(\"x2\",180)\n\t\t\t\t.attr(\"y2\",35)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\t\t} //function addExtra\n\n\n\t\taddExtra();\n\n\t\tfunction render_raster(data, label){\n\n\t\t\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"class\",\"label-change label-change2\")      \n\t\t\t\t.attr(\"x\",90)\n\t\t\t\t.attr(\"y\",25)\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(label);\n\n\n\t\t\t//generate epci\n\t\t\tlet rw = g\n\t\t\t\t.selectAll(\".rw\")\n\t\t\t\t.data(data)\n\t\t\t\t.join(\"path\")\n\t\t\t\t.attr(\"d\", path)\n\t\t\t\t.attr(\"class\", \"rw\")\n\t\t\t\t.attr(\"stroke\",\"white\")\n\t\t\t\t.attr(\"stroke-width\",.1)\n\t\t\t\t.attr(\"fill\", ((d)=>{ return colors(d.properties.classe); }));\n\t\t}\n\n\t\n\n\t\t//zoom\n\t\tsvg\n\t\t\t.call(d3.zoom()\n\t\t\t\t.on(\"zoom\", function(){\n\t\t\t\t\tg.attr(\"transform\", d3.event.transform);\n\t\t\t\t})\n\t\t\t\t.scaleExtent([1,6]) //deep zoom\n\t\t\t\t.translateExtent([[0,0],[width, height]])\n\t\t\t);\n\n\n\n\t\tfunction addLegend(){\n\t\t//Legend\n\n\t\t\tconst legendText = [-2, -1, 0, 1, 2, 3];\n\n\n\t\t\tlet svgLegend = d3.select(\"#c-svg-03-legend\")\n\t\t\t\t.append(\"svg\")\n\t\t\t\t.attr(\"width\", width)\n\t\t\t\t.attr(\"height\", 70);\n\n\t\t\tlet legend = svgLegend.selectAll(\".legend\")\n\t\t\t\t.data(colors.range())\n\t\t\t\t.enter()\n\t\t\t\t.append(\"g\")\n\t\t\t\t.attr(\"class\", \"legend\");\n\n\n\t\t\t\n\t\t\tlegend\n\t\t\t\t.append(\"rect\")\n\t\t\t\t.attr(\"x\", function (d, i) {\n\t\t\t\t\treturn (width/2-100) +i * 30;\n\t\t\t\t})\n\t\t\t\t.attr(\"y\", 40)\n\t\t\t\t.attr(\"width\", 23)\n\t\t\t\t.attr(\"height\", 12)\n\t\t\t\t.style(\"stroke\", \"black\")\n\t\t\t\t.style(\"stroke-width\", 0.1)\n\t\t\t\t.style(\"fill\", function (d) { return d; });\n\n\n\t\t\tlegend\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.attr(\"x\", function (d, i) {\n\t\t\t\t\treturn (width/2-100+30) + i * 30;\n\t\t\t\t})\n\t\t\t\t.attr(\"dx\", -5)\n\t\t\t\t.attr(\"y\", 60)\n\t\t\t\t.attr(\"dy\", \"0.5em\")\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.text(function (d, i) {\n\t\t\t\t\treturn legendText[i];\n\t\t\t\t});\n\n\t\t\t\n\n\n\t\t\t//title legend\t\n\t\t\tsvgLegend\n\t\t\t\t.append(\"text\")         \n\t\t\t\t.attr(\"x\",width/2)\n\t\t\t\t.attr(\"y\",margin.top/2+5)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"Taux d'évolution de la population due au solde\");\n\n\t\t\tsvgLegend\n\t\t\t\t.append(\"text\")         \n\t\t\t\t.attr(\"x\",width/2)\n\t\t\t\t.attr(\"y\",margin.top/2+20)\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"migratoire apparent (moyenne annuelle, en %) \");\n\t\t}\n\n\n\n\n\n\n\n\n\t\t//set the default value\n\t\tinput03Min.oninput();\n\n\n\t\t//deplace output bullet during slide\n\t\tlet deplaceOutputBulletMin = function(){\n\t\t\tlet bulletPosition = (input03Min.value / input03Min.max);\n\t\t\toutput03BulletMin.style.left = (bulletPosition * input03Min.getBoundingClientRect().width)*0.9221018907 + \"px\";\n\t\t};\n\n\t\trender_raster(featureCollection0914.features,inputValuesMin[5]);\n\t\tdeplaceOutputBulletMin();\n\n\t\t//on loading, first svg\n\t\t//render_raster(featureCollection0914.features,inputValues[5]);\n\n\t\tinput03Min.addEventListener(\"input\",function(e){\n\n\t\t\tdeplaceOutputBulletMin();\n\n\t\t\tswitch (e.target.value) {\n\t\t\tcase \"0\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\trender_raster(featureCollection6875.features,inputValuesMin[0]);\n\t\t\t\tbreak;\n\t\t\tcase \"1\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\trender_raster(featureCollection7582.features,inputValuesMin[1]);\n\t\t\t\tbreak;\t\n\t\t\tcase \"2\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\trender_raster(featureCollection8290.features,inputValuesMin[2]);\n\t\t\t\tbreak;\n\t\t\tcase \"3\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\trender_raster(featureCollection9099.features,inputValuesMin[3]);\n\t\t\t\tbreak;\n\t\t\tcase \"4\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\trender_raster(featureCollection9909.features,inputValuesMin[4]);\n\t\t\t\tbreak;\n\t\t\tcase \"5\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\trender_raster(featureCollection0914.features,inputValuesMin[5]);\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t});\n\n\n\n\n\t}); //read csv\n\n\n\n\n} //function graph03\n\n\nwindow.addEventListener(\"load\", function(){\n\tif(getComputedStyle(document.querySelector(\".c-graphic-min\")).display == \"block\")\n\t{\n\t\tgraph3Min(\"#c-svg-03-min\");\n\t}\n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","//small device\n\n//storing values in an array\nlet inputValues2Min = [\"1968-1975\", \"1975-1982\", \"1982-1990\", \"1990-1999\", \"1999-2009\", \"2009-2014\"];\n\nlet input04Min = document.querySelector(\"#input-04\");\nlet output04Min = document.querySelector(\"#c-output-04\");\n\nlet output04BulletMin = document.querySelector(\"#output-04-bullet\");\n\noutput04Min.oninput = function(){\n\t//output03.innerHTML = inputValues[this.value];\n\toutput04BulletMin.innerHTML = inputValues2Min[this.value];\n};\n\n\n\n\n//set the default value\n\ninput04Min.oninput();\n\n//deplace output bullet during slide\nlet deplaceOutputBullet2Min = function(){\n\tlet bulletPosition = (output04Min.value / output04Min.max);\n\toutput04BulletMin.style.left = (bulletPosition * output04Min.getBoundingClientRect().width)*0.9221018907 + \"px\";\n};\n\n\n\n//If windows is resized, real-time\nwindow.addEventListener(\"resize\",()=>{\n\tdeplaceOutputBullet2Min();\n\n});\n\n\n\n//d3 processing img\n\nfunction graph4Min(position){\n\n\n\t//sizing\n\tlet margin = {top:60, right:20, bottom:70, left: 20};\n\n\tlet width = document.querySelector(\".niv2 p\").clientWidth;\n\tlet height = 400;\n\n\t//initiate svg\n\tlet svg = d3.select(position)\n\t\t.append(\"svg\")\n\t\t.attr(\"height\", height)\n\t\t.attr(\"width\", width);\n\n\t//initiate format number\n\t/*Initiate format number*/\n\td3.formatDefaultLocale({\n\t\t\"decimal\": \",\",\n\t\t\"thousands\": \"\\u2009\",\n\t\t\"grouping\": [3]\n\t});\n\n\tlet format = d3.format(\".2n\");\n\tlet formatPop = d3.format(\",.0f\");\n\tlet format2 = d3.format(\"\");\n\n\t//let tx_data = \"tx_sm_68_75\";\n\t//let pop_data = \"pop_sm_68_75\";\n\n\td3.csv(\"data/csv/data-04.csv\").then(function(data){\n\n\n\t\tdata.forEach((d)=>{\n\t\t\td.pop_sm_68_75 = +d.pop_sm_68_75,\n\t\t\td.pop_sm_75_82 = +d.pop_sm_75_82,\n\t\t\td.pop_sm_82_90 = +d.pop_sm_82_90,\n\t\t\td.pop_sm_90_99 = +d.pop_sm_90_99,\n\t\t\td.pop_sm_99_09 = +d.pop_sm_99_09,\n\t\t\td.pop_sm_09_14 = +d.pop_sm_09_14,\n\t\t\td.tx_sm_68_75 = +d.tx_sm_68_75,\n\t\t\td.tx_sm_75_82 = +d.tx_sm_75_82,\n\t\t\td.tx_sm_82_90 = +d.tx_sm_82_90,\n\t\t\td.tx_sm_90_99 = +d.tx_sm_90_99,\n\t\t\td.tx_sm_99_09 = +d.tx_sm_99_09,\n\t\t\td.tx_sm_09_14 = +d.tx_sm_09_14;\n\t\t});\n\n\n\t\t//set colors by region\n\t\tlet colors = d3.scaleOrdinal()\n\t\t\t.domain([\"01\",\"02\",\"03\",\"04\",\"11\",\"24\",\"27\",\"28\",\"32\",\"44\",\n\t\t\t\t\"52\",\"53\",\"75\",\"76\",\"84\",\"93\",\"94\"])\n\t\t\t.range([\"#faa61a\",\"#fec641\",\"#bb529e\",\"#b71f2b\",\"#ccecfa\",\"#d8c470\",\"#a7d48c\",\"#f8d6c7\",\n\t\t\t\t\"#bcbcbc\",\"#f9f49b\",\"#eec0d9\",\"#abdfeb\",\"#cfe295\",\"#f79868\",\"#9fc9eb\",\"#f9b132\",\"#a9d9bc\"]);\n\t\t\n\n\t\t//select key values\n\t\tlet keys = data.columns.slice(8,14);\n\n\t\t//return min & max values\n\t\tlet max = d3.max(data, (d)=>{return d3.max(keys,(key)=>{return d[key];});});\n\t\tlet min = d3.min(data, (d)=>{return d3.min(keys,(key)=>{return d[key];});});\n\t\t\n\t\tlet popKey = data.columns.slice(2,8);\n\t\tlet popMax = d3.max(data, (d)=>{ return d3.max(popKey, (key)=>{ return d[key];});});\n\n\n\t\t//Initiate x Axis\n\t\tconst xScale = d3.scaleLinear()\n\t\t\t.domain([min,max]) //input\n\t\t\t.range([margin.left, width-margin.right]) //output\n\t\t\t.nice();\n\n\t\tconst xAxis = d3.axisBottom(xScale)\n\t\t\t.tickSizeOuter(0)\n\t\t\t.tickFormat((d)=>{ return format2(d)+\" %\"; });\n\n\n\t\tfunction addExtra(){\n\t\t\t//Text label xAxis\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"class\",\"extra label-change\")      \n\t\t\t\t.attr(\"x\",20)\n\t\t\t\t.attr(\"y\",25)\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"Période\");\n\t\t\t\n\t\t\t//Horizontal line\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",margin.left)\n\t\t\t\t.attr(\"y1\",5)\n\t\t\t\t.attr(\"x2\",180)\n\t\t\t\t.attr(\"y2\",5)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",margin.left)\n\t\t\t\t.attr(\"y1\",35)\n\t\t\t\t.attr(\"x2\",180)\n\t\t\t\t.attr(\"y2\",35)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\n\t\t\t/*\n\t\t\t//Text label xAxis\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"class\",\"label extra\")      \n\t\t\t\t.attr(\"transform\",\n\t\t\t\t\t\"translate(\" + ((width-margin.right)) + \" ,\" + (height-margin.bottom/3) + \")\")\n\t\t\t\t.style(\"text-anchor\", \"end\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"Taux d'évolution de la population\");\n\n\t\t\t//Text label xAxis\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"class\",\"label extra\")      \n\t\t\t\t.attr(\"transform\",\n\t\t\t\t\t\"translate(\" + ((width-margin.right)) + \" ,\" + (height-margin.bottom/3+15) + \")\")\n\t\t\t\t.style(\"text-anchor\", \"end\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"due au solde migratoire apparent\");\n\t\t\t*/\n\n\t\t} //function addExtra\n\n\n\n\t\taddExtra();\n\n\n\n\n\n\n\t\t//Call x axis\n\t\tsvg\n\t\t\t.append(\"g\")\n\t\t\t.attr(\"class\", \"axis x_axis\")\n\t\t\t.attr(\"transform\", `translate(0,${height-margin.bottom})`)\n\t\t\t.call(xAxis);\n\n\t\tsvg.select(\".x_axis\")\n\t\t\t.selectAll(\"text\")\n\t\t\t.attr(\"y\", 10);\n\n\n\t\t//Call vertical line\n\t\tsvg\n\t\t\t.append(\"line\")\n\t\t\t.attr(\"x1\", xScale(0))\n\t\t\t.attr(\"x2\", xScale(0))\n\t\t\t.attr(\"y1\", margin.top)\n\t\t\t.attr(\"y2\", height-margin.bottom)\n\t\t\t.attr(\"stroke\", \"#fff\")\n\t\t\t.attr(\"stroke-width\",2);\n\n\n\t\tfunction updateData(tx_data, pop_data, label){\n\t\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"class\",\"label-change label-change2\")      \n\t\t\t\t.attr(\"x\",90)\n\t\t\t\t.attr(\"y\",25)\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(label);\n\n\t\t\t//simulation force\n\t\t\tlet simulation = d3.forceSimulation(data)\n\t\t\t\t.force(\"x\", d3.forceX((d)=>{ return xScale(d[tx_data]);}).strength(1))\n\t\t\t\t.force(\"y\", d3.forceY(height/2 - margin.bottom/2))\n\t\t\t\t.force(\"collide\", d3.forceCollide().radius((d)=>{return(Math.sqrt(d[pop_data]/popMax))*50;}))\n\t\t\t\t.stop();\n\n\t\t\tfor (let i=0; i<data.length;i++) simulation.tick();\n\n\t\t\tlet newCircles = svg.selectAll(\".circles\")\n\t\t\t\t.data(data, ((d)=>{ return d.codgeo; }));\n\n\n\t\t\tnewCircles.exit()\n\t\t\t\t.transition()\n\t\t\t\t.duration(1000)\n\t\t\t\t.attr(\"cx\", 0)\n\t\t\t\t.attr(\"cy\", height/2 - margin.bottom/2)\n\t\t\t\t.remove();\n\n\t\t\t\n\t\t\tlet\tg = newCircles\n\t\t\t\t.enter()\n\t\t\t\t.append(\"g\")\n\t\t\t\t.attr(\"id\", ((d)=>{ return \"g-\" + d.codgeo;}));\n\n\t\t\t//circle\n\t\t\tg.append(\"circle\")\n\t\t\t\t.attr(\"class\", \"circles\")\n\t\t\t\t.attr(\"r\",1)\n\t\t\t\t.attr(\"cx\", ((d)=>{ return d.x; }))\n\t\t\t\t.attr(\"cy\", ((d)=>{ return d.y; }))\n\t\t\t\t.attr(\"fill\",((d)=>{ return colors(d.codgeo);}))\n\t\t\t\t.merge(newCircles)\n\t\t\t\t.transition()\n\t\t\t\t.duration(1500)\n\t\t\t\t.attr(\"cx\", ((d)=>{ return d.x; }))\n\t\t\t\t.attr(\"cy\", ((d)=>{ return d.y; }))\n\t\t\t\t.attr(\"r\",(d)=>{return(Math.sqrt(d[pop_data]/popMax))*50;});\n\t\t\t\t\n\n\t\t\n\n\n\t\t\t//add popup\n\n\t\t\t//create div popup\n\t\t\tlet popup = d3.select(\"body\").append(\"div\")\n\t\t\t\t.attr(\"class\", \"my-popup\");\n\n\n\t\t\t//MOUSE EVENT\n\n\n\t\t\tg\n\t\t\t\t.on(\"mouseover\", function(d){\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t.duration(50)\n\t\t\t\t\t\t.style(\"left\", d3.event.pageX - 20 + \"px\")\n\t\t\t\t\t\t.style(\"top\", d3.event.pageY - 10 + \"px\")\n\t\t\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t\t\t.style(\"text-align\", \"left\");\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>${d.libgeo}</strong></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div>Solde migratoire annuel moyen</div>\n\t\t\t\t\t\t\t\t<span>${formatPop(d[pop_data])} </span>\n\t\t\t\t\t\t\t\t<div>Taux d'évolution de la population</div>\n\t\t\t\t\t\t\t\t<span>${format(d[tx_data])} % </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t`);\n\n\t\t\t\t\t//geographical unit\n\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t.attr(\"fill-opacity\",0.7);\n\n\t\t\t\t})\n\t\t\t\t.on(\"mouseout\", function(d){\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t.duration(100)\n\t\t\t\t\t\t.style(\"opacity\", 0);\n\n\n\t\t\t\t\t//geographical unit\n\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t.attr(\"fill-opacity\",1);\n\n\t\t\t\t});\n\n\n\t\t} //function updatedata\n\n\t\tlet circleLegend = svg\n\t\t\t.append(\"g\")\n\t\t\t.attr(\"class\",\"circle-legend\");\n\n\t\tcircleLegend\n\t\t\t.append(\"text\")         \n\t\t\t.attr(\"class\", \"label-circle\")  \n\t\t\t.attr(\"x\",6*width/7-20)\n\t\t\t.attr(\"y\",25)\n\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t.text(\"Solde migratoire annuel moyen\");\n\n\n\t\tcircleLegend\n\t\t\t.append(\"circle\")\n\t\t\t.attr(\"cx\", 6*width/7-20)\n\t\t\t.attr(\"cy\", margin.top+40)\n\t\t\t.attr(\"r\", Math.sqrt(popMax/popMax)*50);\n\n\t\tcircleLegend\n\t\t\t.append(\"circle\")\n\t\t\t.attr(\"cx\", 6*width/7-20)\t\t\n\t\t\t.attr(\"cy\", margin.top+40+(Math.sqrt(25000/popMax)*50)/2)\n\t\t\t.attr(\"r\", Math.sqrt(25000/popMax)*50);\n\n\t\tcircleLegend\n\t\t\t.append(\"circle\")\n\t\t\t.attr(\"cx\", 6*width/7-20)\t\t\n\t\t\t.attr(\"cy\", margin.top+40+(Math.sqrt(25000/popMax)*50))\n\t\t\t.attr(\"r\", Math.sqrt(5000/popMax)*50);\n\t\n\t\tcircleLegend\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"class\", \"label-circle\")\n\t\t\t.attr(\"x\", 6*width/7-20)\n\t\t\t.attr(\"y\", margin.top/2+15)\n\t\t\t.text(formatPop(popMax));\n\n\t\tcircleLegend\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"class\", \"label-circle\")\n\t\t\t.attr(\"x\", 6*width/7-20)\n\t\t\t.attr(\"y\", margin.top/2+Math.sqrt(25000/popMax)*50+15)\n\t\t\t.text(formatPop(5000));\n\n\t\tcircleLegend\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"class\", \"label-circle\")\n\t\t\t.attr(\"x\", 6*width/7-20)\n\t\t\t.attr(\"y\",  margin.top/2+2*Math.sqrt(25000/popMax)*50+15)\n\t\t\t.text(formatPop(1000));\n\n\n\t\tupdateData(\"tx_sm_09_14\", \"pop_sm_09_14\", inputValues2Min[5]);\n\t\tdeplaceOutputBullet2Min();\n\n\t\tinput04Min.addEventListener(\"input\",function(e){\n\t\t\tdeplaceOutputBullet2Min();\n\t\t\tswitch (e.target.value) {\n\t\t\tcase \"0\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"tx_sm_68_75\", \"pop_sm_68_75\", inputValues2Min[0]);\n\t\t\t\tbreak;\n\t\t\tcase \"1\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"tx_sm_75_82\", \"pop_sm_75_82\", inputValues2Min[1]);\n\t\t\t\tbreak;\t\n\t\t\tcase \"2\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"tx_sm_82_90\", \"pop_sm_82_90\", inputValues2Min[2]);\n\t\t\t\tbreak;\n\t\t\tcase \"3\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"tx_sm_90_99\", \"pop_sm_90_99\", inputValues2Min[3]);\n\t\t\t\tbreak;\n\t\t\tcase \"4\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"tx_sm_99_09\", \"pop_sm_99_09\", inputValues2Min[4]);\n\t\t\t\tbreak;\n\t\t\tcase \"5\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"tx_sm_09_14\", \"pop_sm_09_14\", inputValues2Min[5]);\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t});\n\n\n\n\n\t\t\n\n\t}); //read data\n\n\t\n\n\n\n\n\n} //function graph4\n\nwindow.addEventListener(\"load\", function(){\n\tif(getComputedStyle(document.querySelector(\".c-graphic-min\")).display == \"block\")\n\t{\n\t\tgraph4Min(\"#c-svg-04-min\");\n\t}\n});\n\n\n","//small device\n\nfunction graph5Min(position){\n\n\n\t//sizing\n\tlet margin = {top:20, right:0, bottom:40, left: 20};\n\n\tlet width = document.querySelector(\".niv2 p\").clientWidth;\n\tlet height = 400;\n\n\n\t//initiate svg\n\tlet svg = d3.select(position)\n\t\t.append(\"svg\")\n\t\t.attr(\"height\", height)\n\t\t.attr(\"width\", width);\n\n\t//initiate format number\n\t/*Initiate format number*/\n\td3.formatDefaultLocale({\n\t\t\"decimal\": \",\",\n\t\t\"thousands\": \"\\u2009\",\n\t\t\"grouping\": [3]\n\t});\n\n\tlet format = d3.format(\".2n\");\n\n\t//Initiate data\n\tPromise.all([\n\t\td3.json(\"data/map/dep.json\"),\n\t\td3.json(\"data/map/dep_reg.json\"),\n\t\td3.csv(\"data/csv/data-05.csv\")\n\t]).then(function(data){\n\n\n\t\tconst featureCollection = topojson.feature(data[0], data[0].objects.dep_gen_wgs84); //geojson\n\t\tconst featureCollectionReg = topojson.feature(data[1], data[1].objects.dep_reg_gen_wgs84); //geojson\n\t\t\n\t\t//join map and data\n\t\tfor (let i=0; i< data[2].length;i++){\n\t\t\tconst csvId = data[2][i].coddep;\n\t\t\tfor (var j=0; j<featureCollection.features.length;j++){\n\t\t\t\tvar jsonId = featureCollection.features[j].properties.coddep;\n\t\t\t\tif (csvId === jsonId) {\n\t\t\t\t\tfeatureCollection.features[j].properties.tx_19992009 = data[2][i].tx_19992009;\n\t\t\t\t\tfeatureCollection.features[j].properties.tx_20092014 = data[2][i].tx_20092014;\n\t\t\t\t\tfeatureCollection.features[j].properties.quali = data[2][i].quali;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//set colors\n\t\tlet colors = d3.scaleOrdinal()\n\t\t\t.domain([\"0_0\",\"0_1\",\"0_2\",\"1_0\",\"1_1\",\"1_2\",\"2_0\",\"2_1\",\"2_2\"])\n\t\t\t.range([\"#045364\",\"#1a5230\",\"#ad6116\",\"#26a199\",\"#39a065\",\"#e89e3f\",\"#aedbde\",\"#b0d8bd\",\"#fad8af\"]);\n\t\t\n\t\t//projection\n\n\t\tconst projection = d3.geoConicConformal() //france projection\n\t\t\t.fitSize([width,height],featureCollection);\n\n\t\tconst path = d3.geoPath() //generate path\n\t\t\t.projection(projection); //add projection to path\n\n\n\t\tlet g = svg.append(\"g\"); //conteneur pour le zoom\n\n\n\t\t//generate dep\n\t\tlet dep = g.append(\"g\")\n\t\t\t.attr(\"class\", \"c-dep\")\n\t\t\t.selectAll(\".dep\")\n\t\t\t.data(featureCollection.features)\n\t\t\t.join(\"path\")\n\t\t\t.attr(\"d\", path)\n\t\t\t.attr(\"class\", \"dep\")\n\t\t\t.attr(\"stroke\",\"white\")\n\t\t\t.attr(\"stroke-width\",.1)\n\t\t\t.attr(\"fill\", ((d)=>{ return colors(d.properties.quali);}));\n\n\t\t//generate reg\n\t\tlet region = g.append(\"g\")\n\t\t\t.attr(\"class\",\"c-reg\")\n\t\t\t.append(\"path\")\n\t\t\t.datum(featureCollectionReg)\n\t\t\t.attr(\"d\", path)\n\t\t\t.attr(\"class\", \"region\");\n\n\t\t//zoom\n\t\tsvg\n\t\t\t.call(d3.zoom()\n\t\t\t\t.scaleExtent([1,6]) //deep zoom\n\t\t\t\t.translateExtent([[0,0],[width, height]])\n\t\t\t\t.on(\"zoom\", zoomed)\n\t\t\t\t.on(\"start\", zoomstart)\n\t\t\t\t.on(\"end\", zoomend)\n\t\t\t);\n\n\t\tfunction zoomed(){\n\t\t\tg.attr(\"transform\", d3.event.transform);\n\t\t}\n\t\t\t\n\t\tfunction zoomstart(){\n\t\t\tdep\n\t\t\t\t.on(\"mouseover\",null);\n\t\t}\n\n\n\t\tfunction zoomend(){\n\t\t\tdep\n\t\t\t\t.on(\"mouseover\", function(d){\n\t\t\t\t\tconsole.log(d)\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t.duration(50)\n\t\t\t\t\t\t.style(\"left\", d3.event.pageX - 20 + \"px\")\n\t\t\t\t\t\t.style(\"top\", d3.event.pageY - 100 + \"px\")\n\t\t\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t\t\t.style(\"text-align\", \"left\");\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>${d.properties.libdep}</strong></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div>Croissance migratoire</div>\n\t\t\t\t\t\t\t\t<em>1999-2009</em> : <span>${format(d.properties.tx_19992009)} % </span>\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t<em>2009-2014</em> : <span>${format(d.properties.tx_20092014)} % </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t`);\n\n\t\t\t\t\t//geographical unit\n\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t.attr(\"fill-opacity\",0.7);\n\n\n\t\t\t\t});\n\t\t}\n\n\n\n\t\t//add popup\n\n\t\t//create div popup\n\t\tlet popup = d3.select(\"body\").append(\"div\")\n\t\t\t.attr(\"class\", \"my-popup\");\n\n\n\t\t//MOUSE EVENT\n\n\n\t\tdep\n\t\t\t.on(\"mouseover\", function(d){\n\t\t\t\tconsole.log(d)\n\t\t\t\tpopup\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(50)\n\t\t\t\t\t.style(\"left\", d3.event.pageX - 20 + \"px\")\n\t\t\t\t\t.style(\"top\", d3.event.pageY - 100 + \"px\")\n\t\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t\t.style(\"text-align\", \"left\");\n\t\t\t\tpopup\n\t\t\t\t\t.html(`\n\t\t\t\t\t\t<div><strong>${d.properties.libdep}</strong></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Évolution migratoire</div>\n\t\t\t\t\t\t\t<em>1999-2009</em> : <span>${format(d.properties.tx_19992009)} % </span>\n\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t<em>2009-2014</em> : <span>${format(d.properties.tx_20092014)} % </span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`);\n\n\t\t\t\t//geographical unit\n\t\t\t\td3.select(this)\n\t\t\t\t\t.attr(\"fill-opacity\",0.7);\n\n\n\t\t\t})\n\t\t\t.on(\"mouseout\", function(d){\n\t\t\t\tpopup\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(100)\n\t\t\t\t\t.style(\"opacity\", 0);\n\n\t\t\t\t//geographical unit\n\t\t\t\td3.select(this)\n\t\t\t\t\t.attr(\"fill-opacity\",1);\n\n\n\t\t\t});\n\n\n\t}); //read csv\n\n\n\n\n\n\t\n\n\n} //fonction graph5\n\nwindow.addEventListener(\"load\", function(){\n\tif(getComputedStyle(document.querySelector(\".c-graphic-min\")).display == \"block\")\n\t{\n\t\tgraph5Min(\"#c-svg-05-min\");\n\t}\n});\n\n\n","//small device\n\nfunction graph6Min(position){\n\n\n\t//sizing\n\tlet margin = {top:35, right:20, bottom:30, left: 50};\n\n\tlet width = document.querySelector(\".niv2 p\").clientWidth;\n\tlet height = 400;\n\n\t//initiate svg\n\tlet svg = d3.select(position)\n\t\t.append(\"svg\")\n\t\t.attr(\"height\", height)\n\t\t.attr(\"width\", width);\n\n\t//initiate format number\n\t/*Initiate format number*/\n\td3.formatDefaultLocale({\n\t\t\"decimal\": \",\",\n\t\t\"thousands\": \"\\u2009\",\n\t\t\"grouping\": [3]\n\t});\n\n\tlet format2 = d3.format(\"\");\n\n\t//Initiate data\n\td3.csv(\"data/csv/data-06.csv\").then(function(data){\n\n\t\t//Conversion number\n\t\tdata.forEach((d)=>{\n\t\t\td[\"111\"] = +d[\"111\"];\n\t\t\td[\"112\"] = +d[\"112\"];\n\t\t\td[\"120\"] = +d[\"120\"];\n\t\t\td[\"211\"] = +d[\"211\"];\n\t\t\td[\"212\"] = +d[\"212\"];\n\t\t\td[\"221\"] = +d[\"221\"];\n\t\t\td[\"222\"] = +d[\"222\"];\n\t\t\td[\"300\"] = +d[\"300\"];\n\t\t\td[\"400\"] = +d[\"400\"];\n\t\t});\n\n\t\t//select key values\n\t\tlet keys = data.columns.slice(1,10);\n\n\t\t//return min & max values\n\t\tlet max = d3.max(data, (d)=>{return d3.max(keys,(key)=>{return d[key];});});\n\t\tlet min = d3.min(data, (d)=>{return d3.min(keys,(key)=>{return d[key];});});\n\n\n\t\t//calculate min\n\t\t\n\t\t//Initiate x Axis\n\t\tconst xScale = d3.scaleLinear()\n\t\t\t.domain(d3.extent(data, ((d)=>{return d.year;}))) //input\n\t\t\t.range([margin.left, width-margin.right]); //output\n\n\t\tconst yScale = d3.scaleLinear()\n\t\t\t.domain([min,max]).nice() //input\n\t\t\t.range([height-margin.bottom, margin.top]); //output\n\n\n\t\tconst xAxis = d3.axisBottom(xScale)\n\t\t\t.tickSizeOuter(0);\n\n\t\tconst yAxis = d3.axisLeft(yScale)\n\t\t\t.ticks(5)\n\t\t\t.tickSizeOuter(0)\n\t\t\t.tickFormat((d)=>{return format2(d)+\" %\";}); //add unit\n\n\n\n\t\t//Call x axis\n\t\tsvg\n\t\t\t.append(\"g\")\n\t\t\t.attr(\"class\", \"axis x_axis\")\n\t\t\t.attr(\"transform\", `translate(0,${height-margin.bottom})`)\n\t\t\t.call(xAxis);\n\n\t\tsvg.select(\".x_axis\")\n\t\t\t.selectAll(\"text\")\n\t\t\t.attr(\"y\", 10);\n\n\t\t\t\n\t\t//Call y axis\n\t\tsvg\n\t\t\t.append(\"g\")\n\t\t\t.attr(\"class\", \"axis y_axis\")\n\t\t\t.attr(\"transform\",`translate(${margin.left},0)`)\n\t\t\t.call(yAxis);\n\n\n\t\n\t\tsvg.select(\".y_axis\")\n\t\t\t.selectAll(\"text\")\n\t\t\t.attr(\"x\",-10)\n\t\t\t.attr(\"dy\",3);\n\n\n\n\t\t//111\n\t\tlet line = d3.line()\n\t\t\t.x((d)=>{return xScale(d.year);}) //set the x values for the line generator\n\t\t\t.y((d)=>{return yScale(d[\"111\"]);}) //set the y values for the line generator\n\t\t\t.curve(d3.curveMonotoneX); //apply smoothing to the line\n\t\n\t\t//112\n\t\tlet line2 = d3.line()\n\t\t\t.x((d)=>{return xScale(d.year);}) //set the x values for the line generator\n\t\t\t.y((d)=>{return yScale(d[\"112\"]);}) //set the y values for the line generator\n\t\t\t.curve(d3.curveMonotoneX); //apply smoothing to the line\n\n\t\t//120\n\t\tlet line3 = d3.line()\n\t\t\t.x((d)=>{return xScale(d.year);}) //set the x values for the line generator\n\t\t\t.y((d)=>{return yScale(d[\"120\"]);}) //set the y values for the line generator\n\t\t\t.curve(d3.curveMonotoneX); //apply smoothing to the line\n\n\t\t//211\n\t\tlet line4 = d3.line()\n\t\t\t.x((d)=>{return xScale(d.year);}) //set the x values for the line generator\n\t\t\t.y((d)=>{return yScale(d[\"211\"]);}) //set the y values for the line generator\n\t\t\t.curve(d3.curveMonotoneX); //apply smoothing to the line\n\n\t\t//212\n\t\tlet line5 = d3.line()\n\t\t\t.x((d)=>{return xScale(d.year);}) //set the x values for the line generator\n\t\t\t.y((d)=>{return yScale(d[\"212\"]);}) //set the y values for the line generator\n\t\t\t.curve(d3.curveMonotoneX); //apply smoothing to the line\n\n\t\t//221\n\t\tlet line6 = d3.line()\n\t\t\t.x((d)=>{return xScale(d.year);}) //set the x values for the line generator\n\t\t\t.y((d)=>{return yScale(d[\"221\"]);}) //set the y values for the line generator\n\t\t\t.curve(d3.curveMonotoneX); //apply smoothing to the line\n\n\t\t//222\n\t\tlet line7 = d3.line()\n\t\t\t.x((d)=>{return xScale(d.year);}) //set the x values for the line generator\n\t\t\t.y((d)=>{return yScale(d[\"222\"]);}) //set the y values for the line generator\n\t\t\t.curve(d3.curveMonotoneX); //apply smoothing to the line\n\n\t\t//300\n\t\tlet line8 = d3.line()\n\t\t\t.x((d)=>{return xScale(d.year);}) //set the x values for the line generator\n\t\t\t.y((d)=>{return yScale(d[\"300\"]);}) //set the y values for the line generator\n\t\t\t.curve(d3.curveMonotoneX); //apply smoothing to the line\n\t\t\t\n\t\t//400\n\t\tlet line9 = d3.line()\n\t\t\t.x((d)=>{return xScale(d.year);}) //set the x values for the line generator\n\t\t\t.y((d)=>{return yScale(d[\"400\"]);}) //set the y values for the line generator\n\t\t\t.curve(d3.curveMonotoneX); //apply smoothing to the line\n\n\t\t//Call horizontal line\n\t\tsvg\n\t\t\t.append(\"line\")\n\t\t\t.attr(\"x1\", margin.left)\n\t\t\t.attr(\"x2\", width-margin.right)\n\t\t\t.attr(\"y1\", yScale(0))\n\t\t\t.attr(\"y2\", yScale(0))\n\t\t\t.attr(\"stroke\", \"#fff\")\n\t\t\t.attr(\"stroke-width\",2);\n\n\n\n\t\t//Call line\n\t\tsvg\n\t\t\t.append(\"path\")\n\t\t\t.datum(data)\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", line);\n\n\t\tsvg\n\t\t\t.append(\"path\")\n\t\t\t.datum(data)\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", line2);\n\n\t\tsvg\n\t\t\t.append(\"path\")\n\t\t\t.datum(data)\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", line3);\n\n\t\tsvg\n\t\t\t.append(\"path\")\n\t\t\t.datum(data)\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", line4);\n\n\t\tsvg\n\t\t\t.append(\"path\")\n\t\t\t.datum(data)\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", line5);\n\n\t\tsvg\n\t\t\t.append(\"path\")\n\t\t\t.datum(data)\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", line6);\n\n\t\tsvg\n\t\t\t.append(\"path\")\n\t\t\t.datum(data)\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", line7);\n\n\t\tsvg\n\t\t\t.append(\"path\")\n\t\t\t.datum(data)\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", line8);\n\n\t\tsvg\n\t\t\t.append(\"path\")\n\t\t\t.datum(data)\n\t\t\t.attr(\"class\", \"line\")\n\t\t\t.attr(\"d\", line9);\n\n\n\t\t//Color line\n\t\tconst color = [\"#c90c10\",\"#f49829\",\"#f9d333\",\"#a31876\",\n\t\t\t\"#ca75ad\",\"#0a9ba2\",\"#8acdd2\",\"#ccc1da\",\"#f2f4ee\"];\n\n\t\tlet lines = document.querySelectorAll(\".line\");\n\n\t\tArray.from(lines).forEach((el,i)=>{\n\t\t\tel.setAttribute(\"stroke\",color[i]);\n\t\t});\n\n\n\n\t\t\n\n\n\t\t/*\n\t\t//Text label yAxis\n\t\tsvg\n\t\t\t.append(\"text\")       \n\t\t\t.attr(\"class\",\"label\")      \n\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t.attr(\"y\",margin.top/3)\n\t\t\t.attr(\"x\", margin.left/2)\n\t\t\t.style(\"text-anchor\", \"start\")\n\t\t\t.text(\"Taux d'évolution de la population\");\n\n\t\t//Text label yAxis\n\t\tsvg\n\t\t\t.append(\"text\")       \n\t\t\t.attr(\"class\",\"label\")     \n\t\t\t.attr(\"fill\", \"#f0f0f0\") \n\t\t\t.attr(\"y\",margin.top/3+15)\n\t\t\t.attr(\"x\", margin.left/2)\n\t\t\t.style(\"text-anchor\", \"start\")\n\t\t\t.text(\"due a solde migratoire apparent\");\n\t\t*/\n\n\n\t\t//add popup\n\n\t\t//create div popup\n\t\tlet popup = d3.select(\"body\").append(\"div\")\n\t\t\t.attr(\"class\", \"my-popup\");\n\n\n\t\t//MOUSE EVENT\n\n\n\t\td3.selectAll(\".lineZAU\")\n\t\t\t.on(\"mouseover\", function(d,i){\n\t\t\t\tpopup\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(50)\n\t\t\t\t\t.style(\"left\", d3.event.pageX - 20 + \"px\")\n\t\t\t\t\t.style(\"top\", d3.event.pageY - 30 + \"px\")\n\t\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t\t.style(\"text-align\", \"left\");\n\t\t\t\t\n\t\t\t\tswitch (i) {\n\t\t\t\tcase 0:\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>Grands pôles</strong></div>\n\t\t\t\t\t\t\t`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>Couronnes de grands pôles</strong></div>\n\t\t\t\t\t\t\t`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>Communes multipolarisées des grandes aires urbaines</strong></div>\n\t\t\t\t\t\t\t`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>Pôles moyens</strong></div>\n\t\t\t\t\t\t\t`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>Couronnes des pôles moyens</strong></div>\n\t\t\t\t\t\t\t`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>Petits pôles</strong></div>\n\t\t\t\t\t\t\t`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>Couronnes des petits pôles</strong></div>\n\t\t\t\t\t\t\t`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>Autres communes multipolarisées</strong></div>\n\t\t\t\t\t\t\t`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>Communes isolées, hors influence des pôles</strong></div>\n\t\t\t\t\t\t\t`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\t\n\n\t\t\t\t//geographical unit\n\t\t\t\td3.select(this)\n\t\t\t\t\t.attr(\"fill-opacity\",0.7);\n\n\t\t\t})\n\t\t\t.on(\"mouseout\", function(d){\n\t\t\t\tpopup\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(100)\n\t\t\t\t\t.style(\"opacity\", 0);\n\n\n\t\t\t\t//geographical unit\n\t\t\t\td3.select(this)\n\t\t\t\t\t.attr(\"fill-opacity\",1);\n\n\t\t\t});\n\n\n\n\n\n\n\n\n\t}); //d3.csv\n\n\n\n\n\n\n\n\n\n\n\n\n\n} //function graph6\n\nwindow.addEventListener(\"load\", function(){\n\tif(getComputedStyle(document.querySelector(\".c-graphic-min\")).display == \"block\")\n\t{\n\t\tgraph6Min(\"#c-svg-06-min\");\n\t}\n});\n","//small device\n\n//storing values in an array\nlet inputValues3Min = [\"1968-1975\", \"1975-1982\", \"1982-1990\", \"1990-1999\", \"1999-2009\", \"2009-2014\"];\n\nlet input07Min = document.querySelector(\"#input-07\");\nlet output07Min = document.querySelector(\"#c-output-07\");\n\nlet output07BulletMin = document.querySelector(\"#output-07-bullet\");\n\ninput07Min.oninput = function(){\n\toutput07BulletMin.innerHTML = inputValues3Min[this.value];\n};\n\n\n\n\n//set the default value\ninput07Min.oninput();\n\n\n//deplace output bullet during slide\nlet deplaceOutputBullet3Min = function(){\n\tlet bulletPosition = (input07Min.value / input07Min.max);\n\toutput07BulletMin.style.left = (bulletPosition * input07Min.getBoundingClientRect().width)*0.9221018907 + \"px\";\n};\n\n\n\n//If windows is resized, real-time\nwindow.addEventListener(\"resize\",()=>{\n\tdeplaceOutputBullet3Min();\n\n});\n\n\n\n//d3 processing img\n\nfunction graph7Min(position){\n\n\n\t//sizing\n\tlet margin = {top:110, right:40, bottom:60, left: 50};\n\n\tlet width = document.querySelector(\".niv2 p\").clientWidth;\n\tlet height = 500;\n\n\t//initiate svg\n\tlet svg = d3.select(position)\n\t\t.append(\"svg\")\n\t\t.attr(\"height\", height)\n\t\t.attr(\"width\", width);\n\n\t//initiate format number\n\t/*Initiate format number*/\n\td3.formatDefaultLocale({\n\t\t\"decimal\": \",\",\n\t\t\"thousands\": \"\\u2009\",\n\t\t\"grouping\": [3]\n\t});\n\n\tlet format = d3.format(\".2n\");\n\tlet formatPop = d3.format(\",.0f\");\n\tlet format2 = d3.format(\"\");\n\n\td3.csv(\"data/csv/data-07.csv\").then(function(data){\n\n\t\t//detect if a string contains only digits\n\t\tdata.forEach((d,i)=>{\n\t\t\tfor (let key in d){\n\t\t\t\tif (+d[key]===+d[key]) {\n\t\t\t\t\td[key] = +d[key];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\n\t\t//select key values\n\t\tlet xKeys = data.columns.slice(14,20);\n\t\tlet yKeys = data.columns.slice(20,28);\n\t\tlet popKey = data.columns.slice(2,8);\n\t\tlet colorKey = data.columns.slice(8,14);\n\n\t\t//return min & max values\n\t\tlet xMax = d3.max(data, (d)=>{return d3.max(xKeys,(key)=>{return d[key];});});\n\t\tlet xMin = d3.min(data, (d)=>{return d3.min(xKeys,(key)=>{return d[key];});});\n\n\t\tlet yMax = d3.max(data, (d)=>{return d3.max(yKeys,(key)=>{return d[key];});});\n\t\tlet yMin = d3.min(data, (d)=>{return d3.min(yKeys,(key)=>{return d[key];});});\n\n\t\tlet popMax = d3.max(data, (d)=>{ return d3.max(popKey, (key)=>{ return d[key];});});\n\t\t\n\t\tlet colorMin = d3.min(data, (d)=>{return d3.min(colorKey,(key)=>{return d[key];});});\n\t\tlet colorMax = d3.max(data, (d)=>{ return d3.max(colorKey, (key)=>{ return d[key];});});\n\n\t\t//Initiate x Axis\n\t\tconst xScale = d3.scaleLinear()\n\t\t\t.domain([xMin, xMax])\n\t\t\t.range([margin.left, width-margin.right]).nice();\n\n\t\t\n\t\t//Initiate y Axis\n\t\tconst yScale = d3.scaleLinear()\n\t\t\t.domain([yMin, yMax])\n\t\t\t.range([height-margin.bottom, margin.top]).nice();\n\n\n\t\tconst xAxis = d3.axisBottom(xScale)\n\t\t\t.ticks(5)\n\t\t\t.tickSizeOuter(0)\n\t\t\t.tickFormat((d)=>{return format2(d)+\" %\";});\n\n\t\tconst yAxis = d3.axisLeft(yScale)\n\t\t\t.ticks(5)\n\t\t\t.tickSizeOuter(0)\n\t\t\t.tickFormat((d)=>{return format2(d)+\" %\";});\n\n\t\t//Call Axis\n\t\tsvg\n\t\t\t.append(\"g\")\n\t\t\t.attr(\"class\", \"axis x_axis\")\n\t\t\t.attr(\"transform\", `translate(0,${height-margin.bottom})`)\n\t\t\t.call(xAxis);\n\n\t\tsvg\n\t\t\t.select(\".x_axis\")\n\t\t\t.selectAll(\"text\")\n\t\t\t.attr(\"y\", 10);\n\n\n\t\tsvg\n\t\t\t.append(\"g\")\n\t\t\t.attr(\"class\", \"axis y_axis\")\n\t\t\t.attr(\"transform\",`translate(${margin.left},0)`)\n\t\t\t.call(yAxis);\n\t\t\t\n\n\t\t//Call vertical line\n\t\tsvg\n\t\t\t.append(\"line\")\n\t\t\t.attr(\"x1\", xScale(0))\n\t\t\t.attr(\"x2\", xScale(0))\n\t\t\t.attr(\"y1\", margin.top)\n\t\t\t.attr(\"y2\", height-margin.bottom)\n\t\t\t.attr(\"stroke\", \"#fff\")\n\t\t\t.attr(\"stroke-width\",2);\n\n\n\t\t//Call horizontal line\n\t\tsvg\n\t\t\t.append(\"line\")\n\t\t\t.attr(\"x1\", margin.left)\n\t\t\t.attr(\"x2\", width-margin.right)\n\t\t\t.attr(\"y1\", yScale(0))\n\t\t\t.attr(\"y2\", yScale(0))\n\t\t\t.attr(\"stroke\", \"#fff\")\n\t\t\t.attr(\"stroke-width\",2);\n\n\n\t\t//color\n\t\tconst colorsFill = d3.scaleLinear()\n\t\t\t.domain([colorMin, -0.25, 0, 0.5, 1, colorMax])\n\t\t\t.range([\"#c8c6c6\", \"#dbecdb\",\"#b79bc9\",\"#7959a2\",\"#5d36bc\"]);\n\n\n\t\tconst colorsStroke = d3.scaleOrdinal()\n\t\t\t.domain(111,112,120,211,212,221,222,300,400)\n\t\t\t.range([\"#c90c10\",\"#f49829\",\"#f9d333\",\"#a31876\",\n\t\t\t\t\"#ca75ad\",\"#0a9ba2\",\"#8acdd2\",\"#ccc1da\",\"#f2f4ee\"]);\n\n\n\t\tfunction addExtra(){\n\t\t\t//Text label xAxis\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.attr(\"class\",\"extra label-change\")      \n\t\t\t\t.attr(\"x\",margin.left)\n\t\t\t\t.attr(\"y\",25)\n\t\t\t\t.text(\"Période\");\n\t\t\t\n\t\t\t//Horizontal line\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",margin.left)\n\t\t\t\t.attr(\"y1\",5)\n\t\t\t\t.attr(\"x2\",180+margin.left)\n\t\t\t\t.attr(\"y2\",5)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",margin.left)\n\t\t\t\t.attr(\"y1\",35)\n\t\t\t\t.attr(\"x2\",180+margin.left)\n\t\t\t\t.attr(\"y2\",35)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\n\n\t\t\t//Text label yAxis\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.attr(\"class\",\"label\")      \n\t\t\t\t.attr(\"y\",margin.top/2+25)\n\t\t\t\t.attr(\"x\", margin.left/2)\n\t\t\t\t.style(\"text-anchor\", \"start\")\n\t\t\t\t.text(\"Taux d'évolution de la population\");\n\n\t\t\t//Text label yAxis\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.attr(\"class\",\"label\")      \n\t\t\t\t.attr(\"y\",margin.top/2+40)\n\t\t\t\t.attr(\"x\", margin.left/2)\n\t\t\t\t.style(\"text-anchor\", \"start\")\n\t\t\t\t.text(\"due au solde migratoire apparent\");\n\n\n\t\t\t//Text label xAxis\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"class\",\"label\")      \n\t\t\t\t.attr(\"transform\",\n\t\t\t\t\t\"translate(\" + ((width-margin.right)) + \" ,\" + (height-margin.bottom/3) + \")\")\n\t\t\t\t.style(\"text-anchor\", \"end\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"Taux d'évolution de la population\");\n\n\t\t\t//Text label xAxis\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"class\",\"label\")      \n\t\t\t\t.attr(\"transform\",\n\t\t\t\t\t\"translate(\" + ((width-margin.right)) + \" ,\" + (height-margin.bottom/3+15) + \")\")\n\t\t\t\t.style(\"text-anchor\", \"end\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.text(\"due au solde naturel\");\n\n\n\n\t\t} //function addExtra\n\n\n\t\taddExtra();\n\n\n\t\t//Legend\n\n\t\tlet legendColor = svg.selectAll(\".legend\")\n\t\t\t.data(colorsFill.range())\n\t\t\t.enter()\n\t\t\t.append(\"g\")\n\t\t\t.attr(\"class\", \"legend\");\n\n\n\t\t\n\t\tlegendColor\n\t\t\t.append(\"rect\")\n\t\t\t.attr(\"x\", function (d, i) {\n\t\t\t\treturn 3*width/7+i * 30;\n\t\t\t})\n\t\t\t.attr(\"y\", margin.top/2+20)\n\t\t\t.attr(\"width\", 23)\n\t\t\t.attr(\"height\", 12)\n\t\t\t.style(\"stroke\", \"black\")\n\t\t\t.style(\"stroke-width\", 0.1)\n\t\t\t.style(\"fill\", function (d) { return d; });\n\n\n\t\tlegendColor\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"x\", function (d, i) {\n\t\t\t\treturn 3*width/7 + i * 30;\n\t\t\t})\n\t\t\t.attr(\"dx\", -5)\n\t\t\t.attr(\"y\", margin.top/2+40)\n\t\t\t.attr(\"dy\", \"0.5em\")\n\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t.text(function (d, i) {\n\t\t\t\treturn format(colorsFill.domain()[i]);\n\t\t\t});\n\n\t\tsvg\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"x\", 3*width/7 + 5 * 30)\n\t\t\t.attr(\"dx\", -5)\n\t\t\t.attr(\"y\", margin.top/2+40)\n\t\t\t.attr(\"dy\", \"0.5em\")\n\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t.text(format(colorsFill.domain()[5]));\n\n\t\tsvg\n\t\t\t.append(\"text\")         \n\t\t\t.attr(\"x\",3*width/7-40)\n\t\t\t.attr(\"y\",margin.top/2+5)\n\t\t\t.attr(\"text-anchor\", \"start\")\n\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t.text(\"Taux de croissance annuel moyen (%)\");\n\n\n\t\tfunction updateData(pop_data, tx_pop_data, tx_sn_data, tx_sm_data, label){\n\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.attr(\"class\",\"label-change label-change2\")      \n\t\t\t\t.attr(\"x\",70+margin.left)\n\t\t\t\t.attr(\"y\",25)\n\t\t\t\t.text(label);\n\n\n\t\t\t//simulation force\n\t\t\tlet simulation = d3.forceSimulation(data)\n\t\t\t\t.force(\"x\", d3.forceX((d)=>{ return xScale(d[tx_sn_data]);}).strength(1))\n\t\t\t\t.force(\"y\", d3.forceY((d)=>{ return yScale(d[tx_sm_data]);}).strength(1))\n\t\t\t\t.stop();\n\n\t\t\tfor (let i=0; i<data.length;i++) simulation.tick();\n\n\t\t\tlet newCircles = svg.selectAll(\".circles\")\n\t\t\t\t.data(data, ((d)=>{ return d.codgeo; }));\n\n\n\t\t\tnewCircles.exit()\n\t\t\t\t.transition()\n\t\t\t\t.duration(1000)\n\t\t\t\t.attr(\"cx\", 0)\n\t\t\t\t.attr(\"cy\", height/2 - margin.bottom/2)\n\t\t\t\t.remove();\n\n\t\t\t\t\n\t\t\tlet\tg = newCircles\n\t\t\t\t.enter()\n\t\t\t\t.append(\"g\")\n\t\t\t\t.attr(\"id\", ((d)=>{ return \"g-\" + d.codgeo;}));\n\n\t\t\t//circle\n\t\t\tg.append(\"circle\")\n\t\t\t\t.attr(\"class\", \"circles\")\n\t\t\t\t.attr(\"r\",1)\n\t\t\t\t.attr(\"cx\", ((d)=>{ return d.x; }))\n\t\t\t\t.attr(\"cy\", ((d)=>{ return d.y; }))\n\t\t\t\t.attr(\"stroke\", ((d)=>{ return colorsStroke(d.codgeo); }))\n\t\t\t\t.attr(\"stroke-width\", 3)\n\t\t\t\t.merge(newCircles)\n\t\t\t\t.transition()\n\t\t\t\t.duration(1500)\n\t\t\t\t.attr(\"fill\", ((d)=>{ return colorsFill(d[tx_pop_data]); }))\n\t\t\t\t.attr(\"cx\", ((d)=>{ return d.x; }))\n\t\t\t\t.attr(\"cy\", ((d)=>{ return d.y; }))\n\t\t\t\t.attr(\"r\",(d)=>{return(Math.sqrt(d[pop_data]/popMax))*50;});\n\n\n\n\n\n\n\n\t\t\t//add popup\n\n\t\t\t//create div popup\n\t\t\tlet popup = d3.select(\"body\").append(\"div\")\n\t\t\t\t.attr(\"class\", \"my-popup\");\n\n\n\t\t\t//MOUSE EVENT\n\n\n\t\t\tg\n\t\t\t\t.on(\"mouseover\", function(d){\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t.duration(50)\n\t\t\t\t\t\t.style(\"left\", d3.event.pageX - 20 + \"px\")\n\t\t\t\t\t\t.style(\"top\", d3.event.pageY - 10 + \"px\")\n\t\t\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t\t\t.style(\"text-align\", \"left\");\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>${d.libgeo}</strong></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div>Taux d'évolution de la population</div>\n\t\t\t\t\t\t\t\t<em>Total</em> : <span>${format(d[tx_pop_data])} % </span>\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t<em>Due au solde naturel</em> : <span>${format(d[tx_sn_data])} % </span>\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t<em>Due au solde migratoire</em> : <span>${format(d[tx_sm_data])} % </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t`);\n\n\t\t\t\t\t//geographical unit\n\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t.attr(\"fill-opacity\",0.7);\n\n\t\t\t\t})\n\t\t\t\t.on(\"mouseout\", function(d){\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t.duration(100)\n\t\t\t\t\t\t.style(\"opacity\", 0);\n\n\n\t\t\t\t\t//geographical unit\n\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t.attr(\"fill-opacity\",1);\n\n\t\t\t\t});\n\n\n\n\n\t\t} //function update data\n\n\n\t\tlet circleLegend = svg\n\t\t\t.append(\"g\")\n\t\t\t.attr(\"class\",\"circle-legend\");\n\n\t\tcircleLegend\n\t\t\t.append(\"text\")         \n\t\t\t.attr(\"class\", \"label-circle\")  \n\t\t\t.attr(\"x\",6*width/7)\n\t\t\t.attr(\"y\",20)\n\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t.text(\"Population\");\n\n\n\t\tcircleLegend\n\t\t\t.append(\"circle\")\n\t\t\t.attr(\"cx\", 6*width/7)\n\t\t\t.attr(\"cy\", margin.top/2+45)\n\t\t\t.attr(\"r\", Math.sqrt(popMax/popMax)*50);\n\n\t\tcircleLegend\n\t\t\t.append(\"circle\")\n\t\t\t.attr(\"cx\", 6*width/7)\t\t\n\t\t\t.attr(\"cy\", margin.top/2+40+(Math.sqrt(20E6/popMax)*50)/2)\n\t\t\t.attr(\"r\", Math.sqrt(20E6/popMax)*50);\n\n\t\tcircleLegend\n\t\t\t.append(\"circle\")\n\t\t\t.attr(\"cx\", 6*width/7)\t\t\n\t\t\t.attr(\"cy\", margin.top/2+40+(Math.sqrt(20E6/popMax)*50))\n\t\t\t.attr(\"r\", Math.sqrt(5E6/popMax)*50);\n\t\n\t\tcircleLegend\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"class\", \"label-circle\")\n\t\t\t.attr(\"x\", 6*width/7)\n\t\t\t.attr(\"y\", margin.top/3+5)\n\t\t\t.text(\"39 M\");\n\n\t\tcircleLegend\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"class\", \"label-circle\")\n\t\t\t.attr(\"x\", 6*width/7)\n\t\t\t.attr(\"y\", margin.top/2+Math.sqrt(20E6/popMax)*50/2-3)\n\t\t\t.text(\"5 M\");\n\n\t\tcircleLegend\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"class\", \"label-circle\")\n\t\t\t.attr(\"x\", 6*width/7)\n\t\t\t.attr(\"y\",  margin.top/2+15+Math.sqrt(20E6/popMax)*50)\n\t\t\t.text(\"1 M\");\n\n\n\n\n\n\t\tupdateData(\"pop_2014\", \"tx_pop_2014\", \"tx_pop_sn_2014\", \"tx_pop_sm_2014\", inputValues3Min[5]);\n\t\tdeplaceOutputBullet3Min();\n\n\t\tinput07Min.addEventListener(\"input\",function(e){\n\t\t\tdeplaceOutputBullet3Min();\n\t\t\tswitch (e.target.value) {\n\t\t\tcase \"0\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"pop_1975\", \"tx_pop_1975\", \"tx_pop_sn_1975\", \"tx_pop_sm_1975\", inputValues3Min[0]);\n\t\t\t\tbreak;\n\t\t\tcase \"1\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"pop_1982\", \"tx_pop_1982\", \"tx_pop_sn_1982\", \"tx_pop_sm_1982\", inputValues3Min[1]);\n\t\t\t\tbreak;\t\n\t\t\tcase \"2\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"pop_1990\", \"tx_pop_1990\", \"tx_pop_sn_1990\", \"tx_pop_sm_1990\", inputValues3Min[2]);\n\t\t\t\tbreak;\n\t\t\tcase \"3\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"pop_1999\", \"tx_pop_1999\", \"tx_pop_sn_1999\", \"tx_pop_sm_1999\", inputValues3Min[3]);\n\t\t\t\tbreak;\n\t\t\tcase \"4\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"pop_2009\", \"tx_pop_2009\", \"tx_pop_sn_2009\", \"tx_pop_sm_2009\", inputValues3Min[4]);\n\t\t\t\tbreak;\n\t\t\tcase \"5\":\n\t\t\t\td3.select(position).selectAll(\".label-change2\").remove();\n\t\t\t\tupdateData(\"pop_2014\", \"tx_pop_2014\", \"tx_pop_sn_2014\", \"tx_pop_sm_2014\", inputValues3Min[5]);\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t});\n\n\n\t\t\n\n\n\n\n\t\t\n\n\t}); //read data\n\n\t\n\n\n\n\n\n\n\n\n\n} //function graph7\n\nwindow.addEventListener(\"load\", function(){\n\tif(getComputedStyle(document.querySelector(\".c-graphic-min\")).display == \"block\")\n\t{\n\t\tgraph7Min(\"#c-svg-07-min\");\n\t}\n});\n\n","//small device\n\nfunction graph8Min(){\n\t//change svg with clic button\n\tlet object08 = document.querySelector(\"#object-08-min\");\n\n\tobject08.addEventListener(\"load\", function() {\n\n\n\t\tlet widthO = document.querySelector(\".niv2 p\").clientWidth;\n\t\tlet heightO = 440;\n\n\n\t\tlet svgO = object08\n\t\t\t.getSVGDocument()\n\t\t\t.querySelector(\"#svg-08-section6\");\n\n\t\tlet flowAll = object08\n\t\t\t.getSVGDocument()\n\t\t\t.querySelectorAll(\".csp-flow\");\n\n\t\tlet mapAll = object08\n\t\t\t.getSVGDocument()\n\t\t\t.querySelector(\"#carte_complete\");\n\n\n\t\tsvgO.setAttribute(\"width\",widthO);\n\t\tsvgO.setAttribute(\"height\",heightO);\n\n\t\n\n\t\t\n\t\t//Opacity\n\t\tfunction svg08ChangeOpacity(index) {\n\t\t\tfor(let i = 0; i < flowAll.length; i++){\n\t\t\t\tif(index != i){\n\t\t\t\t\tflowAll[i].setAttribute(\"opacity\",0);\n\t\t\t\t} else {\n\t\t\t\t\tflowAll[i].setAttribute(\"opacity\",1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\t/* \n\t\tlet labelText = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n\t\tlabelText.setAttributeNS(null, \"x\", 0);\n\t\tlabelText.setAttributeNS(null, \"y\", 25);\n\t\tlabelText.setAttributeNS(null, \"class\", \"extra label-change\");\n\t\tlabelText.setAttributeNS(null, \"font-family\", \"MontserratWebMedium\");\n\t\tlabelText.setAttributeNS(null, \"font-style\", \"normal\");\n\t\tlabelText.setAttributeNS(null, \"fill\", \"#f0f0f0\");\n\t\tlabelText.setAttributeNS(null, \"font-size\", \"16px\");\n\t\tlabelText.setAttributeNS(null, \"text-anchor\", \"start\");\n\n\t\tlabelText.innerHTML = \"Toutes catégories\";\n\t\tsvg.appendChild(labelText);\n\t\t*/\n\n\n\t\tfunction setupButtons(){\n\t\t\td3.select(\"#toolbar-08\")\n\t\t\t\t.selectAll(\".button\")\n\t\t\t\t.on(\"click\", function(){\n\n\t\t\t\t\t//remove active class from all buttons\n\t\t\t\t\td3.selectAll(\".button\").classed(\"active\", false);\n\n\t\t\t\t\t//find the button just clicked\n\t\t\t\t\tlet button = d3.select(this);\n\n\t\t\t\t\t//set it as the active button\n\t\t\t\t\tbutton.classed(\"active\", true);\n\n\t\t\t\t\t//get the id of the buttton\n\t\t\t\t\tlet buttonId = button.attr(\"id\");\n\n\t\t\t\t\tswitch (buttonId) {\n\t\t\t\t\tcase \"csp-all\":\n\t\t\t\t\t\tsvg08ChangeOpacity(0);\n\t\t\t\t\t\tbreak;\t\t\t\t\t\n\t\t\t\t\tcase \"csp-cadres\":\n\t\t\t\t\t\tsvg08ChangeOpacity(1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"csp-retraites\":\n\t\t\t\t\t\tsvg08ChangeOpacity(2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"csp-etudiants\":\n\t\t\t\t\t\tsvg08ChangeOpacity(3);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"csp-ouvriers\":\n\t\t\t\t\t\tsvg08ChangeOpacity(4);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\n\t\t\t\t\n\t\t\t\t\t// Toggle the bubble chart based on\n\t\t\t\t\t// the currently clicked button\n\t\t\t\t\t//toggleDisplay(buttonId);\n\t\t\t\t});\n\t\t}\n\t\t//setup the buttons\n\t\tsetupButtons();\n\n\n\n\n\n\n\t}); //load listener\n\n\n\n} //functiongraph08\n\n\ngraph8Min();\n\n\n\n","//small device\n\nfunction graph10Min(position){\n\t\n\n\t//sizing\n\tlet margin = {top:20, right:20, bottom:40, left: 20};\n\n\tlet width = document.querySelector(\".niv2 p\").clientWidth;\n\tlet height = 400;\n\n\n\t//initiate svg\n\tlet svg = d3.select(position)\n\t\t.append(\"svg\")\n\t\t.attr(\"height\", height)\n\t\t.attr(\"width\", width);\n\n\t//initiate format number\n\t/*Initiate format number*/\n\td3.formatDefaultLocale({\n\t\t\"decimal\": \",\",\n\t\t\"thousands\": \"\\u2009\",\n\t\t\"grouping\": [3]\n\t});\n\n\n\n\t//Initiate data\n\tPromise.all([\n\t\td3.json(\"data/map/epci.json\"),\n\t\td3.json(\"data/map/epci_reg.json\"),\n\t\td3.csv(\"data/csv/data-10.csv\")\n\t]).then(function(data){\n\n\n\n\t\tconst featureCollection = topojson.feature(data[0], data[0].objects.epci_gen); //geojson\n\t\tconst featureCollectionReg = topojson.feature(data[1], data[1].objects.epci_reg_gen); //geojson\n\n\t\t//join map and data\n\t\tfor (let i=0; i< data[2].length;i++){\n\t\t\tconst csvId = data[2][i].codepci;\n\t\t\tfor (var j=0; j<featureCollection.features.length;j++){\n\t\t\t\tvar jsonId = featureCollection.features[j].properties.codepci;\n\t\t\t\tif (csvId === jsonId) {\n\t\t\t\t\tfeatureCollection.features[j].properties.clust = data[2][i].clust;\n\t\t\t\t\tfeatureCollection.features[j].properties.cat = data[2][i].cat;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\t//set colors by region\n\t\tlet colors = d3.scaleOrdinal()\n\t\t\t.domain([\"1\",\"2\",\"3\",\"4\",\"5\",\"6\"])\n\t\t\t.range([\"#53995c\",\"#7cc18b\",\"#e8e774\",\"#eec05d\",\"#c4431d\",\"#e08343\"]);\n\n\t\t//projection\n\t\tconst projection = d3.geoConicConformal() //france projection\n\t\t\t.fitSize([width,height],featureCollection);\n\n\t\tconst path = d3.geoPath() //generate path\n\t\t\t.projection(projection); //add projection to path\n\n\t\tlet g = svg.append(\"g\"); //conteneur pour le zoom\n\n\t\t//generate epci\n\t\tlet epci = g.append(\"g\")\n\t\t\t.attr(\"class\",\"c-epci\")\n\t\t\t.selectAll(\".epci\")\n\t\t\t.data(featureCollection.features)\n\t\t\t.join(\"path\")\n\t\t\t.attr(\"d\", path)\n\t\t\t.attr(\"class\", \"epci\")\n\t\t\t.attr(\"stroke\",\"white\")\n\t\t\t.attr(\"stroke-width\",.1)\n\t\t\t.attr(\"fill\", ((d)=>{ return colors(d.properties.clust); }));\n\n\n\t\t/*\n\t\t\t.filter((d)=>{ return d.properties.clust == \"1\"})\n\t\t\t.attr(\"fill\", ((d)=>{ \n\t\t\t\tlet value = d.properties.clust;\n\t\t\t\treturn value ? colors(value)\n\t\t\t\t\t: \"#646464\";\n\t\t\t}));\n*/\n\n\t\t//generate reg\n\t\tlet region = g.append(\"g\")\n\t\t\t.attr(\"class\",\"c-reg\")\n\t\t\t.append(\"path\")\n\t\t\t.datum(featureCollectionReg)\n\t\t\t.attr(\"d\", path)\n\t\t\t.attr(\"class\", \"region\");\n\n\n\n\t\tfunction addExtra(){\n\t\t\t\n\t\t\t\n\t\t\t//Horizontal line\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",margin.left)\n\t\t\t\t.attr(\"y1\",5)\n\t\t\t\t.attr(\"x2\",180+margin.left)\n\t\t\t\t.attr(\"y2\",5)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",margin.left)\n\t\t\t\t.attr(\"y1\",35)\n\t\t\t\t.attr(\"x2\",180+margin.left)\n\t\t\t\t.attr(\"y2\",35)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\n\n\t\t} //function addExtra\n\n\n\t\taddExtra();\n\n\n\t\t//Legend\n\n\t\tfunction addLegend(){\n\t\t\td3.select(\"#c-svg-10-legend\").selectAll(\"*\").remove();\n\t\t\tconst legendText = [\"Retraités\",\"Profil diversifié, plutôt âgé\", \"Ouvriers et jeunes enfants\", \"Employés et ouvriers\", \"Jeunes adultes, étudiants et cadres\", \"Trentenaires, cadres et prof. int.\"];\n\n\t\t\tlet svgLegend = d3.select(\"#c-svg-10-legend\")\n\t\t\t\t.append(\"svg\")\n\t\t\t\t.attr(\"width\", width)\n\t\t\t\t.attr(\"height\", 125);\n\n\t\n\t\t\tlet legend = svgLegend.selectAll(\".legend\")\n\t\t\t\t.data(colors.range())\n\t\t\t\t.enter()\n\t\t\t\t.append(\"g\")\n\t\t\t\t.attr(\"class\", \"legend\");\n\n\n\t\t\tlegend\n\t\t\t\t.append(\"rect\")\n\t\t\t\t.attr(\"x\", width/3+30)\n\t\t\t\t.attr(\"y\", function (d, i) {\n\t\t\t\t\treturn i * 20+10;\n\t\t\t\t})\n\t\t\t\t.attr(\"width\", 23)\n\t\t\t\t.attr(\"height\", 12)\n\t\t\t\t.style(\"stroke\", \"black\")\n\t\t\t\t.style(\"stroke-width\", 0.1)\n\t\t\t\t.style(\"fill\", function (d) { return d; });\n\n\t\t\tlegend\n\t\t\t\t.append(\"text\")\n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.attr(\"x\", width/3+60) //leave 30 pixel space after the <rect>\n\t\t\t\t.attr(\"y\", function (d, i) {\n\t\t\t\t\treturn 15 + i * 20;\n\t\t\t\t})\n\t\t\t\t.attr(\"dy\", \"0.5em\")\n\t\t\t\t.text(function (d, i) {\n\t\t\t\t\treturn legendText[i];\n\t\t\t\t});\n\n\t\t}\n\n\t\taddLegend();\n\n\n\t\t//zoom\n\t\tsvg\n\t\t\t.call(d3.zoom()\n\t\t\t\t.scaleExtent([1,6]) //deep zoom\n\t\t\t\t.translateExtent([[0,0],[width, height]])\n\t\t\t\t.on(\"zoom\", zoomed)\n\t\t\t\t.on(\"start\", zoomstart)\n\t\t\t\t.on(\"end\", zoomend)\n\t\t\t);\n\n\t\tfunction zoomed(){\n\t\t\tg.attr(\"transform\", d3.event.transform);\n\t\t}\n\t\t\t\n\t\tfunction zoomstart(){\n\t\t\tepci\n\t\t\t\t.on(\"mouseover\",null);\n\t\t}\n\n\n\t\tfunction zoomend(){\n\t\t\tepci\n\t\t\t\t.on(\"mouseover\", function(d){\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t.duration(50)\n\t\t\t\t\t\t.style(\"left\", d3.event.pageX - 20 + \"px\")\n\t\t\t\t\t\t.style(\"top\", d3.event.pageY - 30 + \"px\")\n\t\t\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t\t\t.style(\"text-align\", \"left\");\n\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>${d.properties.libepci}</strong></div>\n\t\t\t\t\t\t\t`);\n\n\t\t\t\t\t//geographical unit\n\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t.attr(\"fill-opacity\",0.7);\n\t\t\t\t});\n\t\t}\n\n\n\t\t//add popup\n\n\t\t//create div popup\n\t\tlet popup = d3.select(\"body\").append(\"div\")\n\t\t\t.attr(\"class\", \"my-popup\");\n\n\n\t\t//MOUSE EVENT\n\n\n\t\tepci\n\t\t\t.on(\"mouseover\", function(d){\n\t\t\t\tconsole.log(d)\n\t\t\t\tpopup\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(50)\n\t\t\t\t\t.style(\"left\", d3.event.pageX - 20 + \"px\")\n\t\t\t\t\t.style(\"top\", d3.event.pageY - 30 + \"px\")\n\t\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t\t.style(\"text-align\", \"left\");\n\t\t\t\tpopup\n\t\t\t\t\t.html(`\n\t\t\t\t\t\t<div><strong>${d.properties.libepci}</strong></div>\n\t\t\t\t\t\t`);\n\n\t\t\t\t//geographical unit\n\t\t\t\td3.select(this)\n\t\t\t\t\t.attr(\"fill-opacity\",0.7);\n\n\n\n\t\t\t})\n\t\t\t.on(\"mouseout\", function(d){\n\t\t\t\tpopup\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(100)\n\t\t\t\t\t.style(\"opacity\", 0);\n\n\t\t\t\t//geographical unit\n\t\t\t\td3.select(this)\n\t\t\t\t\t.attr(\"fill-opacity\",1);\n\n\n\n\t\t\t});\n\n\n\n\t\t//Text label xAxis\n\t\tfunction changeLabel(label, color){\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t\t.attr(\"class\",\"extra label-change\")      \n\t\t\t\t.attr(\"x\",margin.left)\n\t\t\t\t.attr(\"y\",25)\n\t\t\t\t.text(label)\n\t\t\t\t.attr(\"fill\", color);\n\t\t}\n\n\t\t\n\t\n\n\t\tswitch(position){\n\t\tcase \"#c-svg-10-min-1\":\n\t\t\taddLegend();\n\t\t\td3.select(position).selectAll(\".label-change\").remove();\n\t\t\tchangeLabel(\"Toutes catégories\",\"#fff\");\n\t\t\tepci\n\t\t\t\t.attr(\"fill\", ((d)=>{ return colors(d.properties.clust); }));\n\t\t\tbreak;\n\t\tcase \"#c-svg-10-min-2\":\n\t\t\td3.select(position).selectAll(\".label-change\").remove();\n\t\t\tchangeLabel(\"Jeunes adultes, étudiants et cadres\", colors.range()[4]);\n\t\t\tepci\n\t\t\t\t.attr(\"fill\", ((d)=>{ \n\t\t\t\t\tlet value = d.properties.clust;\n\t\t\t\t\treturn value == 5 ?  colors.range()[4]\n\t\t\t\t\t\t: \"#646464\";\n\t\t\t\t}));\n\t\t\tbreak;\n\t\tcase \"#c-svg-10-min-3\":\n\t\t\td3.select(position).selectAll(\".label-change\").remove();\n\t\t\tchangeLabel(\"Trentenaires, cadres et prof. int.\", colors.range()[5]);\n\t\t\tepci\n\t\t\t\t.attr(\"fill\", ((d)=>{ \n\t\t\t\t\tlet value = d.properties.clust;\n\t\t\t\t\treturn value == 6 ? colors.range()[5]\n\t\t\t\t\t\t: \"#646464\";\n\t\t\t\t}));\n\t\t\tbreak;\n\t\tcase \"#c-svg-10-min-4\":\t\n\t\t\td3.select(position).selectAll(\".label-change\").remove();\n\t\t\tchangeLabel(\"Employés et ouvriers\", colors.range()[3]);\n\t\t\tepci\n\t\t\t\t.attr(\"fill\", ((d)=>{ \n\t\t\t\t\tlet value = d.properties.clust;\n\t\t\t\t\treturn value == 4 ? colors.range()[3]\n\t\t\t\t\t\t: \"#646464\";\n\t\t\t\t}));\n\t\t\tbreak;\n\t\tcase \"#c-svg-10-min-5\":\n\t\t\td3.select(position).selectAll(\".label-change\").remove();\n\t\t\tchangeLabel(\"Ouvriers et jeunes enfants\", colors.range()[2]);\n\t\t\tepci\n\t\t\t\t.attr(\"fill\", ((d)=>{ \n\t\t\t\t\tlet value = d.properties.clust;\n\t\t\t\t\treturn value == 3 ? colors.range()[2]\n\t\t\t\t\t\t: \"#646464\";\n\t\t\t\t}));\n\t\t\tbreak;\n\n\t\tcase \"#c-svg-10-min-6\":\n\t\t\td3.select(position).selectAll(\".label-change\").remove();\n\t\t\tchangeLabel(\"Profil diversifié, plutôt âgé\", colors.range()[1]);\n\t\t\tepci\n\t\t\t\t.attr(\"fill\", ((d)=>{ \n\t\t\t\t\tlet value = d.properties.clust;\n\t\t\t\t\treturn value == 2 ? colors.range()[1]\n\t\t\t\t\t\t: \"#646464\";\n\t\t\t\t}));\n\t\t\tbreak;\t\t\n\t\t\t\n\t\tcase \"#c-svg-10-min-7\":\n\t\t\td3.select(\"#c-svg-10-legend\").selectAll(\"*\").remove();\n\t\t\td3.select(\"#c-svg-10\").selectAll(\".label-change\").remove();\n\t\t\tchangeLabel(\"Retraités\", colors.range()[0]);\n\t\t\tepci\n\t\t\t\t.attr(\"fill\", ((d)=>{ \n\t\t\t\t\tlet value = d.properties.clust;\n\t\t\t\t\treturn value == 1 ? colors.range()[0]\n\t\t\t\t\t\t: \"#646464\";\n\t\t\t\t}));\n\t\t\tbreak;\n\n\t\t}\n\t\n\n\t}); //read csv\n\n\n\n\n\n\t\n\n\n} //function graph10\n\n\nwindow.addEventListener(\"load\", function(){\n\tif(getComputedStyle(document.querySelector(\".c-graphic-min\")).display == \"block\")\n\t{\n\t\tgraph10Min(\"#c-svg-10-min-1\");\n\t\tgraph10Min(\"#c-svg-10-min-2\");\n\t\tgraph10Min(\"#c-svg-10-min-3\");\n\t\tgraph10Min(\"#c-svg-10-min-4\");\n\t\tgraph10Min(\"#c-svg-10-min-5\");\n\t\tgraph10Min(\"#c-svg-10-min-6\");\n\t\tgraph10Min(\"#c-svg-10-min-7\");\n\t}\n});\n\n\n\n\n\n","function graph11Min(position){\n\n\n\t//sizing\n\tlet margin = {top:20, right:20, bottom:40, left: 20};\n\n\tlet width = document.querySelector(\".niv2 p\").clientWidth;\n\tlet height = 400;\n\n\n\t//initiate svg\n\tlet svg = d3.select(position)\n\t\t.append(\"svg\")\n\t\t.attr(\"height\", height)\n\t\t.attr(\"width\", width);\n\n\t//initiate format number\n\t/*Initiate format number*/\n\td3.formatDefaultLocale({\n\t\t\"decimal\": \",\",\n\t\t\"thousands\": \"\\u2009\",\n\t\t\"grouping\": [3]\n\t});\n\n\n\n\t//Initiate data\n\tPromise.all([\n\t\td3.json(\"data/map/epci.json\"),\n\t\td3.json(\"data/map/epci_reg.json\"),\n\t\td3.csv(\"data/csv/data-11.csv\")\n\t]).then(function(data){\n\n\n\t\t//set colors\n\t\tlet colors = d3.scaleOrdinal()\n\t\t\t.domain([\"0_0\",\"0_1\",\"1_0\",\"1_1\",\"\"])\n\t\t\t.range([\"#ddb544\", \"#d077a8\",\"#e5484e\",\"#7d84c0\",\"#646464\"]);\n\n\n\n\t\t\n\n\t\tconst featureCollection = topojson.feature(data[0], data[0].objects.epci_gen); //geojson\n\t\tconst featureCollectionReg = topojson.feature(data[1], data[1].objects.epci_reg_gen); //geojson\n\t\t\n\t\t\n\t\t//join map and data\n\t\tfor (let i=0; i< data[2].length;i++){\n\t\t\tconst csvId = data[2][i].codepci;\n\t\t\tfor (var j=0; j<featureCollection.features.length;j++){\n\t\t\t\tvar jsonId = featureCollection.features[j].properties.codepci;\n\t\t\t\tif (csvId === jsonId) {\n\t\t\t\t\tfeatureCollection.features[j].properties.cat_cs3 = data[2][i].cat_cs3;\n\t\t\t\t\tfeatureCollection.features[j].properties.cat_cs6 = data[2][i].cat_cs6;\n\t\t\t\t\tfeatureCollection.features[j].properties.cat_cs7 = data[2][i].cat_cs7;\n\t\t\t\t\tfeatureCollection.features[j].properties.cat_cs8 = data[2][i].cat_cs8;\n\t\t\t\t\tfeatureCollection.features[j].properties.lib_cs3 = data[2][i].lib_cs3;\n\t\t\t\t\tfeatureCollection.features[j].properties.lib_cs6 = data[2][i].lib_cs6;\n\t\t\t\t\tfeatureCollection.features[j].properties.lib_cs7 = data[2][i].lib_cs7;\n\t\t\t\t\tfeatureCollection.features[j].properties.lib_cs8 = data[2][i].lib_cs8;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t//projection\n\t\tconst projection = d3.geoConicConformal() //france projection\n\t\t\t.fitSize([width,height],featureCollection);\n\n\t\tconst path = d3.geoPath() //generate path\n\t\t\t.projection(projection); //add projection to path\n\n\t\tlet g = svg.append(\"g\"); //conteneur pour le zoom\n\n\t\t//generate epci\n\t\tlet epci = g.append(\"g\")\n\t\t\t.attr(\"class\",\"c-epci\")\n\t\t\t.selectAll(\".epci\")\n\t\t\t.data(featureCollection.features)\n\t\t\t.join(\"path\")\n\t\t\t.attr(\"d\", path)\n\t\t\t.attr(\"class\", \"epci\")\n\t\t\t.attr(\"stroke\",\"white\")\n\t\t\t.attr(\"stroke-width\",.1)\n\t\t\t.attr(\"fill\", \"#646464\");\n\n\t\t//.attr(\"fill\", ((d)=>{ return colors(d.properties.cat_cs3); }));\n\n\t\t//generate reg\n\t\tlet region = g.append(\"g\")\n\t\t\t.attr(\"class\",\"c-reg\")\n\t\t\t.append(\"path\")\n\t\t\t.datum(featureCollectionReg)\n\t\t\t.attr(\"d\", path)\n\t\t\t.attr(\"class\", \"region\");\n\n\t\t//zoom\n\t\tsvg\n\t\t\t.call(d3.zoom()\n\t\t\t\t.scaleExtent([1,6]) //deep zoom\n\t\t\t\t.translateExtent([[0,0],[width, height]])\n\t\t\t\t.on(\"zoom\", zoomed)\n\t\t\t\t.on(\"start\", zoomstart)\n\t\t\t\t.on(\"end\", zoomend)\n\t\t\t\t\n\t\t\t);\n\n\t\tfunction zoomed(){\n\t\t\tg.attr(\"transform\", d3.event.transform);\n\t\t}\n\t\t\n\t\tfunction zoomstart(){\n\t\t\tepci\n\t\t\t\t.on(\"mouseover\",null);\n\t\t}\n\n\t\tfunction zoomend(){\n\t\t\t\n\t\t\tlet marker = document.querySelector(\"#label-change-csp\");\n\n\t\t\tswitch (marker.textContent) {\n\t\t\tcase \"Groupes socioprofessionnels\":\n\t\t\t\tshowPopupCsp(\"\");\n\t\t\t\tbreak;\n\t\t\tcase \"Étudiants\":\n\t\t\t\tshowPopupCsp(\"lib_cs8\");\n\t\t\t\tbreak;\n\t\t\tcase \"Retraités\":\n\t\t\t\tshowPopupCsp(\"lib_cs7\");\n\t\t\t\tbreak;\n\t\t\tcase \"Ouvriers et employés\":\n\t\t\t\tshowPopupCsp(\"lib_cs6\");\n\t\t\t\tbreak;\n\t\t\tcase \"Cadres et prof. int. sup.\":\n\t\t\t\tshowPopupCsp(\"lib_cs3\");\n\t\t\t\tbreak;\n\t\t\t\t\t\n\n\t\t\t}\n\n\t\n\t\t\t\n\n\n\t\t}\n\t\t\n\n\n\t\tfunction addExtra(){\n\t\t\n\t\t\n\t\t\t//Horizontal line\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",margin.left)\n\t\t\t\t.attr(\"y1\",5)\n\t\t\t\t.attr(\"x2\",180+margin.left)\n\t\t\t\t.attr(\"y2\",5)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\n\t\t\tsvg\n\t\t\t\t.append(\"line\")\n\t\t\t\t.attr(\"class\",\"extra line-extra\")\n\t\t\t\t.attr(\"x1\",margin.left)\n\t\t\t\t.attr(\"y1\",35)\n\t\t\t\t.attr(\"x2\",180+margin.left)\n\t\t\t\t.attr(\"y2\",35)\n\t\t\t\t.attr(\"stroke\", \"#fff\");\n\n\n\t\t} //function addExtra\n\n\n\t\taddExtra();\n\n\n\t\t//LEGEND\n\t\t\n\t\tconst legendText = [\"Faible part du groupe et forte baisse de cette part\",\n\t\t\t\"Forte part du groupe et forte baisse de cette part\",\n\t\t\t\"Faible aprt du groupe et forte hausse de cette part\",\n\t\t\t\"Forte part du groupe et forte hausse de cette part\"];\n\n\t\tlet svgLegend = d3.select(\"#c-svg-11-legend\")\n\t\t\t.append(\"svg\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", 85);\n\n\t\tlet legend = svgLegend.selectAll(\".legend\")\n\t\t\t.data(colors.range())\n\t\t\t.enter()\n\t\t\t.append(\"g\")\n\t\t\t.attr(\"class\", \"legend\");\n\n\n\t\t/*\n\t\tsvgLegend\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t.attr(\"x\", width/2) //leave 30 pixel space after the <rect>\n\t\t\t.attr(\"y\", 10)\n\t\t\t.attr(\"dy\", \"0.5em\")\n\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t.text(\"Part du groupe socioprofessionnel dans la population présente\");\n\n\t\tsvgLegend\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t.attr(\"x\", width/2) //leave 30 pixel space after the <rect>\n\t\t\t.attr(\"y\", 25)\n\t\t\t.attr(\"dy\", \"0.5em\")\n\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t.text(\"et évolution de cette part due aux mobilités résidentielles\");\n\t\t*/\n\n\n\n\t\tlegend\n\t\t\t.append(\"rect\")\n\t\t\t.attr(\"x\", width/3 -20)\n\t\t\t.attr(\"y\", function (d, i) {\n\t\t\t\treturn i * 20+10;\n\t\t\t})\n\t\t\t.attr(\"width\", 23)\n\t\t\t.attr(\"height\", 12)\n\t\t\t.style(\"stroke\", \"black\")\n\t\t\t.style(\"stroke-width\", 0.1)\n\t\t\t.style(\"fill\", function (d) { return d; });\n\n\t\tlegend\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"fill\", \"#f0f0f0\")\n\t\t\t.attr(\"x\", width/3+10) //leave 30 pixel space after the <rect>\n\t\t\t.attr(\"y\", function (d, i) {\n\t\t\t\treturn 15 + i * 20;\n\t\t\t})\n\t\t\t.attr(\"dy\", \"0.5em\")\n\t\t\t.text(function (d, i) {\n\t\t\t\treturn legendText[i];\n\t\t\t});\n\n\n\n\n\n\t\t//add popup\n\n\t\t//create div popup\n\t\tlet popup = d3.select(\"body\").append(\"div\")\n\t\t\t.attr(\"class\", \"my-popup\");\n\n\n\t\t//MOUSE EVENT\n\n\t\t\n\n\t\tfunction showPopupCsp(lib_cs){\n\t\t\tepci\n\t\t\t\t.on(\"mouseover\", function(d){\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t.duration(50)\n\t\t\t\t\t\t.style(\"left\", d3.event.pageX - 20 + \"px\")\n\t\t\t\t\t\t.style(\"top\", d3.event.pageY - 30 + \"px\")\n\t\t\t\t\t\t.style(\"opacity\", 1)\n\t\t\t\t\t\t.style(\"text-align\", \"left\");\n\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.html(`\n\t\t\t\t\t\t\t<div><strong>${d.properties.libepci}</strong></div>\n\t\t\t\t\t\t\t<div>${d.properties[lib_cs]}</div>\n\t\t\t\t\t\t\t`);\n\n\t\t\t\t\t//geographical unit\n\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t.attr(\"fill-opacity\",0.7);\n\n\n\t\t\t\t})\n\t\t\t\t.on(\"mouseout\", function(d){\n\t\t\t\t\tpopup\n\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t.duration(100)\n\t\t\t\t\t\t.style(\"opacity\", 0);\n\n\t\t\t\t\t//geographical unit\n\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t.attr(\"fill-opacity\",1);\n\n\t\t\t\t});\n\n\t\t}\n\n\n\t\t//Text label xAxis\n\t\tfunction changeLabel(label){\n\t\t\tsvg\n\t\t\t\t.append(\"text\")       \n\t\t\t\t.attr(\"class\",\"extra label-change\")  \n\t\t\t\t.attr(\"id\", \"label-change-csp\")    \n\t\t\t\t.attr(\"x\",margin.left)\n\t\t\t\t.attr(\"y\",25)\n\t\t\t\t.attr(\"fill\", \"#fff\")\n\t\t\t\t.text(label);\n\t\t}\n\n\n\t\n\t\tswitch(position){\n\t\tcase \"#c-svg-11-min-1\":\n\t\t\td3.select(\"#c-svg-11\").selectAll(\".label-change\").remove();\n\t\t\tchangeLabel(\"Étudiants\");\n\t\t\tshowPopupCsp(\"lib_cs8\");\n\t\t\tepci\n\t\t\t\t.attr(\"fill\", ((d)=>{ return colors(d.properties.cat_cs8); }));\n\t\t\tbreak;\n\t\tcase \"#c-svg-11-min-2\":\n\t\t\td3.select(\"#c-svg-11\").selectAll(\".label-change\").remove();\n\t\t\tchangeLabel(\"Retraités\");\n\t\t\tshowPopupCsp(\"lib_cs7\");\n\t\t\tepci\n\t\t\t\t.attr(\"fill\", ((d)=>{ return colors(d.properties.cat_cs7); }));\n\t\t\tbreak;\n\t\tcase \"#c-svg-11-min-3\":\n\t\t\td3.select(\"#c-svg-11\").selectAll(\".label-change\").remove();\n\t\t\tchangeLabel(\"Ouvriers et employés\");\n\t\t\tshowPopupCsp(\"lib_cs6\");\n\t\t\tepci\n\t\t\t\t.attr(\"fill\", ((d)=>{ return colors(d.properties.cat_cs6); }));\n\t\t\tbreak;\n\t\tcase \"#c-svg-11-min-4\":\n\t\t\td3.select(\"#c-svg-11\").selectAll(\".label-change\").remove();\n\t\t\tchangeLabel(\"Cadres et prof. int. sup.\");\n\t\t\tshowPopupCsp(\"lib_cs3\");\n\t\t\tepci\n\t\t\t\t.attr(\"fill\", ((d)=>{ return colors(d.properties.cat_cs3); }));\n\t\t\tbreak;\n\n\t\t}\n\t\n\n\n\t}); //read csv\n\n\n\n\n\n} //fonction graph11\n\n\n\n\n\nwindow.addEventListener(\"load\", function(){\n\tif(getComputedStyle(document.querySelector(\".c-graphic-min\")).display == \"block\")\n\t{\n\t\tgraph11Min(\"#c-svg-11-min-1\");\n\t\tgraph11Min(\"#c-svg-11-min-2\");\n\t\tgraph11Min(\"#c-svg-11-min-3\");\n\t\tgraph11Min(\"#c-svg-11-min-4\");\n\t}\n});\n\n\n\n"]}